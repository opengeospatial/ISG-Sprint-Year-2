<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.16">
<title>ISG Year 2 Sprint:</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;-webkit-tap-highlight-color:transparent}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
pre.CodeRay{background:#f7f7f8}
.CodeRay .line-numbers{border-right:1px solid currentColor;opacity:.35;padding:0 .5em 0 0}
.CodeRay span.line-numbers{display:inline-block;margin-right:.75em}
.CodeRay .line-numbers strong{color:#000}
table.CodeRay{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.CodeRay td{vertical-align:top;line-height:inherit}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.code{padding:0 0 0 .75em}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</head>
<body id="bibtexAttributes" class="book">
<div id="header">
<h1>ISG Year 2 Sprint:</h1>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Publication Date: YYYY-MM-DD</p>
</div>
<div class="paragraph">
<p>Approval Date: YYYY-MM-DD</p>
</div>
<div class="paragraph">
<p>Submission Date: 2021-08-30</p>
</div>
<div class="paragraph">
<p>Reference number of this document: OGC 21-058</p>
</div>
<div class="paragraph">
<p>Reference URL for this document: <a href="http://www.opengis.net/doc/PER/ISG-Sprint-Yr2-ID" class="bare">http://www.opengis.net/doc/PER/ISG-Sprint-Yr2-ID</a></p>
</div>
<div class="paragraph">
<p>Category: OGC Public Engineering Report</p>
</div>
<div class="paragraph">
<p>Editor: Leonard Daly, Rollin Phillips</p>
</div>
<div class="paragraph">
<p>Title: ISG Year 2 Sprint:</p>
</div>
<hr>
<div class="paragraph">
<div class="title"><strong class="big">OGC Public Engineering Report</strong></div>
<p><strong>COPYRIGHT</strong></p>
</div>
<div class="paragraph">
<p>Copyright © 2021 Open Geospatial Consortium.
To obtain additional rights of use, visit <a href="http://www.opengeospatial.org/" class="bare">http://www.opengeospatial.org/</a></p>
</div>
<div class="paragraph">
<p><strong>WARNING</strong></p>
</div>
<div class="paragraph">
<p>This document is not an OGC Standard. This document is an OGC Public Engineering Report created as a deliverable in an OGC Interoperability Initiative and is not an official position of the OGC membership. It is distributed for review and comment. It is subject to change without notice and may not be referred to as an OGC Standard. Further, any OGC Public Engineering Report should not be referenced as required or mandatory technology in procurements. However, the discussions in this document could very well lead to the definition of an OGC Standard.</p>
</div>
<div style="page-break-after: always;"></div>
<div class="paragraph">
<p><strong>LICENSE AGREEMENT</strong></p>
</div>
<div class="paragraph">
<p><span class="small">Permission is hereby granted by the Open Geospatial Consortium, ("Licensor"), free of charge and subject to the terms set forth below, to any person obtaining a copy of this Intellectual Property and any associated documentation, to deal in the Intellectual Property without restriction (except as set forth below), including without limitation the rights to implement, use, copy, modify, merge, publish, distribute, and/or sublicense copies of the Intellectual Property, and to permit persons to whom the Intellectual Property is furnished to do so, provided that all copyright notices on the intellectual property are retained intact and that each person to whom the Intellectual Property is furnished agrees to the terms of this Agreement.</span></p>
</div>
<div class="paragraph">
<p><span class="small">If you modify the Intellectual Property, all copies of the modified Intellectual Property must include, in addition to the above copyright notice, a notice that the Intellectual Property includes modifications that have not been approved or adopted by LICENSOR.</span></p>
</div>
<div class="paragraph">
<p><span class="small">THIS LICENSE IS A COPYRIGHT LICENSE ONLY, AND DOES NOT CONVEY ANY RIGHTS UNDER ANY PATENTS THAT MAY BE IN FORCE ANYWHERE IN THE WORLD. THE INTELLECTUAL PROPERTY IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, AND NONINFRINGEMENT OF THIRD PARTY RIGHTS. THE COPYRIGHT HOLDER OR HOLDERS INCLUDED IN THIS NOTICE DO NOT WARRANT THAT THE FUNCTIONS CONTAINED IN THE INTELLECTUAL PROPERTY WILL MEET YOUR REQUIREMENTS OR THAT THE OPERATION OF THE INTELLECTUAL PROPERTY WILL BE UNINTERRUPTED OR ERROR FREE. ANY USE OF THE INTELLECTUAL PROPERTY SHALL BE MADE ENTIRELY AT THE USER’S OWN RISK. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR ANY CONTRIBUTOR OF INTELLECTUAL PROPERTY RIGHTS TO THE INTELLECTUAL PROPERTY BE LIABLE FOR ANY CLAIM, OR ANY DIRECT, SPECIAL, INDIRECT OR CONSEQUENTIAL DAMAGES, OR ANY DAMAGES WHATSOEVER RESULTING FROM ANY ALLEGED INFRINGEMENT OR ANY LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR UNDER ANY OTHER LEGAL THEORY, ARISING OUT OF OR IN CONNECTION WITH THE IMPLEMENTATION, USE, COMMERCIALIZATION OR PERFORMANCE OF THIS INTELLECTUAL PROPERTY.</span></p>
</div>
<div class="paragraph">
<p><span class="small">This license is effective until terminated. You may terminate it at any time by destroying the Intellectual Property together with all copies in any form. The license will also terminate if you fail to comply with any term or condition of this Agreement. Except as provided in the following sentence, no such termination of this license shall require the termination of any third party end-user sublicense to the Intellectual Property which is in force as of the date of notice of such termination. In addition, should the Intellectual Property, or the operation of the Intellectual Property, infringe, or in LICENSOR’s sole opinion be likely to infringe, any patent, copyright, trademark or other right of a third party, you agree that LICENSOR, in its sole discretion, may terminate this license without any compensation or liability to you, your licensees or any other party. You agree upon termination of any kind to destroy or cause to be destroyed the Intellectual Property together with all copies in any form, whether held by you or by any third party.</span></p>
</div>
<div class="paragraph">
<p><span class="small">Except as contained in this notice, the name of LICENSOR or of any other holder of a copyright in all or part of the Intellectual Property shall not be used in advertising or otherwise to promote the sale, use or other dealings in this Intellectual Property without prior written authorization of LICENSOR or such copyright holder. LICENSOR is and shall at all times be the sole entity that may authorize you or any third party to use certification marks, trademarks or other special designations to indicate compliance with any LICENSOR standards or specifications.</span></p>
</div>
<div class="paragraph">
<p><span class="small">This Agreement is governed by the laws of the Commonwealth of Massachusetts. The application to this Agreement of the United Nations Convention on Contracts for the International Sale of Goods is hereby expressly excluded. In the event any provision of this Agreement shall be deemed unenforceable, void or invalid, such provision shall be modified so as to make it valid and enforceable, and as so modified the entire Agreement shall remain in full force and effect. No decision, action or inaction by LICENSOR shall be construed to be a waiver of any rights or remedies available to it.</span></p>
</div>
<div class="paragraph">
<p><span class="small">None of the Intellectual Property or underlying information or technology may be downloaded or otherwise exported or reexported in violation of U.S. export laws and regulations. In addition, you are responsible for complying with any local laws in your jurisdiction which may impact your right to import, export or use the Intellectual Property, and you represent that you have complied with any regulations or registration procedures required by applicable law to make this license enforceable.</span></p>
</div>
<div style="page-break-after: always;"></div>
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_subject">1. Subject</a></li>
<li><a href="#_executive_summary">2. Executive Summary</a>
<ul class="sectlevel2">
<li><a href="#_operation">2.1. Operation</a></li>
<li><a href="#_accomplishments">2.2. Accomplishments</a></li>
<li><a href="#_issues">2.3. Issues</a></li>
<li><a href="#_recommendations">2.4. Recommendations</a></li>
<li><a href="#_document_contributor_contact_points">2.5. Document contributor contact points</a></li>
<li><a href="#_foreword">2.6. Foreword</a></li>
</ul>
</li>
<li><a href="#references">3. References</a></li>
<li><a href="#_terms_and_definitions">4. Terms and definitions</a>
<ul class="sectlevel2">
<li><a href="#_abbreviated_terms">4.1. Abbreviated terms</a></li>
</ul>
</li>
<li><a href="#Overview">5. Overview</a></li>
<li><a href="#Sprint-Setup">6. Material and Purpose</a>
<ul class="sectlevel2">
<li><a href="#_call_for_pariticipation">6.1. Call for Pariticipation</a></li>
<li><a href="#_discussion_of_scenarios">6.2. Discussion of Scenarios</a>
<ul class="sectlevel3">
<li><a href="#_overview">6.2.1. Overview</a></li>
<li><a href="#_scenario_1">6.2.2. Scenario 1</a></li>
<li><a href="#_scenario_2">6.2.3. Scenario 2</a></li>
<li><a href="#_scenario_3">6.2.4. Scenario 3</a></li>
<li><a href="#_scenario_4">6.2.5. Scenario 4</a></li>
</ul>
</li>
<li><a href="#_material_provided_to_participants">6.3. Material provided to Participants</a>
<ul class="sectlevel3">
<li><a href="#_general_ogc_information">6.3.1. General OGC Information</a></li>
<li><a href="#Data-Sets">6.3.2. Data Sets</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#Findings">7. Findings</a>
<ul class="sectlevel2">
<li><a href="#_introduction">7.1. Introduction</a></li>
<li><a href="#_aspects_of_investigation">7.2. Aspects of Investigation</a>
<ul class="sectlevel3">
<li><a href="#_cooperative_efforts">7.2.1. Cooperative Efforts</a></li>
</ul>
</li>
<li><a href="#_results">7.3. Results</a>
<ul class="sectlevel3">
<li><a href="#_general_results">7.3.1. General Results</a></li>
<li><a href="#discovered-inconsistecies">7.3.2. Discovered Inconsistecies</a></li>
<li><a href="#_game_engine_interface">7.3.3. Game Engine Interface</a></li>
<li><a href="#_conversion_scenario_1">7.3.4. Conversion (Scenario 1)</a></li>
<li><a href="#_indoor_outdoor_scenario_2">7.3.5. Indoor / Outdoor (Scenario 2)</a></li>
<li><a href="#_moving_models_scenario_3">7.3.6. Moving models (Scenario 3)</a></li>
<li><a href="#_gltf_as_modenling_standard_scenario_4">7.3.7. glTF as Modenling Standard (Scenario 4)</a></li>
<li><a href="#_other_accomplishments">7.3.8. Other Accomplishments</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#Conclusions">8. Conclusions</a></li>
<li><a href="#Cesium">9. Component Implementation: Cesium</a>
<ul class="sectlevel2">
<li><a href="#_overview_2">9.1. Overview</a></li>
<li><a href="#_conversion_from_cdb_to_3d_tiles_1_0">9.2. Conversion from <em>CDB</em> to <em>3D Tiles</em> 1.0</a></li>
<li><a href="#_conversion_from_cdb_to_3d_tiles_next">9.3. Conversion from <em>CDB</em> to <em>3D Tiles Next</em></a>
<ul class="sectlevel3">
<li><a href="#_introduction_2">9.3.1. Introduction</a></li>
<li><a href="#_conversion_to_gltf">9.3.2. Conversion to glTF</a></li>
<li><a href="#_feature_metadata">9.3.3. Feature Metadata</a></li>
<li><a href="#_gpu_instancing_of_meshes">9.3.4. GPU Instancing of Meshes</a></li>
<li><a href="#_conversion_to_3d_tiles_next">9.3.5. Conversion to 3D Tiles Next</a></li>
<li><a href="#_conclusion">9.3.6. Conclusion</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#Ecere">10. Component Implementation: Ecere</a>
<ul class="sectlevel2">
<li><a href="#_overview_3">10.1. Overview</a></li>
<li><a href="#_cdb_x_prototyped_geopackage_store">10.2. CDB X Prototyped GeoPackage Store</a>
<ul class="sectlevel3">
<li><a href="#_configuration_of_data_layers_and_zoom_levels_grouping">10.2.1. Configuration of data layers and zoom levels grouping</a></li>
<li><a href="#_geopackage_3d_models_extension">10.2.2. GeoPackage 3D Models extension</a></li>
</ul>
</li>
<li><a href="#_3d_tiles_distribution">10.3. 3D Tiles distribution</a>
<ul class="sectlevel3">
<li><a href="#_generating_tilesets">10.3.1. Generating tilesets</a></li>
<li><a href="#_client_visualizing_3d_tiles">10.3.2. Client visualizing <em>3D Tiles</em></a></li>
</ul>
</li>
<li><a href="#_ogc_api_tiles_distribution">10.4. <em>OGC API - Tiles</em> distribution</a></li>
<li><a href="#_interoperable_3d_model_formats">10.5. Interoperable 3D model formats</a></li>
</ul>
</li>
<li><a href="#FlightSafety">11. Component Implementation: FlightSafety</a>
<ul class="sectlevel2">
<li><a href="#_introduction_3">11.1. Introduction</a>
<ul class="sectlevel3">
<li><a href="#_company_introduction">11.1.1. Company Introduction</a></li>
<li><a href="#_scenario_plan">11.1.2. Scenario Plan</a></li>
<li><a href="#_limits_of_investigation">11.1.3. Limits of Investigation</a></li>
</ul>
</li>
<li><a href="#_cdb_model_attribution">11.2. CDB Model Attribution</a>
<ul class="sectlevel3">
<li><a href="#_background">11.2.1. Background</a></li>
<li><a href="#_proposed_gltf_solution">11.2.2. Proposed glTF Solution</a></li>
<li><a href="#_recommendations_2">Recommendations</a></li>
</ul>
</li>
<li><a href="#_multi_spectral_model_textures">11.3. Multi-Spectral Model Textures</a>
<ul class="sectlevel3">
<li><a href="#_background_2">11.3.1. Background</a></li>
<li><a href="#_proposed_gltf_solution_2">11.3.2. Proposed glTF Solution</a></li>
<li><a href="#_experimentation">Experimentation</a></li>
<li><a href="#_recommendations_3">11.3.3. Recommendations</a></li>
</ul>
</li>
<li><a href="#_model_material_textures">11.4. Model Material Textures</a>
<ul class="sectlevel3">
<li><a href="#_background_3">11.4.1. Background</a></li>
<li><a href="#_proposed_gltf_solution_3">11.4.2. Proposed glTF Solution</a></li>
<li><a href="#_recommendations_4">11.4.3. Recommendations</a></li>
</ul>
</li>
<li><a href="#_flightsafety_gltf_implementation">FlightSafety glTF Implementation</a>
<ul class="sectlevel3">
<li><a href="#_observations">Observations</a></li>
</ul>
</li>
<li><a href="#_conclusions">11.5. Conclusions</a></li>
<li><a href="#_future_work">11.6. Future Work</a></li>
</ul>
</li>
<li><a href="#InfoDao">12. Component Implementation: InfoDao</a>
<ul class="sectlevel2">
<li><a href="#_sprint_summary_and_highlights">12.1. Sprint Summary and Highlights</a></li>
<li><a href="#_scenarios">12.2. Scenarios</a>
<ul class="sectlevel3">
<li><a href="#_scenario_1_2">12.2.1. Scenario 1</a></li>
<li><a href="#_scenario_3_2">12.2.2. Scenario 3</a></li>
</ul>
</li>
<li><a href="#_suggestions">12.3. Suggestions</a></li>
</ul>
</li>
<li><a href="#SimBlocks">13. Component Implementation: SimBlocks.io</a>
<ul class="sectlevel2">
<li><a href="#_subject_2">13.1. Subject</a></li>
<li><a href="#_summary">13.2. Summary</a></li>
<li><a href="#_previous_work">13.3. Previous Work</a></li>
<li><a href="#_architecture">13.4. Architecture</a></li>
<li><a href="#_proposed_activities">13.5. Proposed Activities</a>
<ul class="sectlevel3">
<li><a href="#_batch_data_conversion_scenario_1b">13.5.1. Batch Data Conversion (Scenario 1B)</a></li>
<li><a href="#_scenario_3_3">13.5.2. Scenario 3</a></li>
</ul>
</li>
<li><a href="#_accomplishments_2">13.6. Accomplishments</a>
<ul class="sectlevel3">
<li><a href="#_austin_in_unity">13.6.1. Austin in Unity</a></li>
<li><a href="#_paris_in_unity">13.6.2. Paris in Unity</a></li>
<li><a href="#_austin_in_unreal">13.6.3. Austin in Unreal</a></li>
<li><a href="#_san_diego_in_unreal">13.6.4. San Diego in Unreal</a></li>
<li><a href="#_san_diego_geopackage_in_openscenegraph">13.6.5. San Diego GeoPackage in OpenSceneGraph</a></li>
</ul>
</li>
<li><a href="#_methodology">13.7. Methodology</a>
<ul class="sectlevel3">
<li><a href="#_converting_cdb_into_geopackage_with_openflight_models">13.7.1. Converting CDB into GeoPackage with OpenFlight Models</a></li>
</ul>
</li>
<li><a href="#_converting_cdb_into_geopackage_with_models_converted_to_binary_gltf">13.8. Converting CDB into GeoPackage with Models Converted to Binary glTF</a>
<ul class="sectlevel3">
<li><a href="#_geopackage_structure_overview_2">13.8.1. GeoPackage Structure Overview</a></li>
<li><a href="#_geopackage_content_creation_austin_tx_for_unreal_engine_and_unity">13.8.2. GeoPackage Content Creation (Austin, TX) for Unreal Engine and Unity</a></li>
</ul>
</li>
<li><a href="#_performance_metrics">13.9. Performance Metrics</a></li>
<li><a href="#_created_converted_content_in_unreal_engine_4_26_1">13.10. Created / Converted Content in Unreal Engine 4.26.1</a>
<ul class="sectlevel3">
<li><a href="#_importation_of_the_datasmith_output_into_unreal">13.10.1. Importation of the Datasmith output into Unreal</a></li>
</ul>
</li>
<li><a href="#_technical_challenges">13.11. Technical Challenges</a>
<ul class="sectlevel3">
<li><a href="#_openscenegraph_gltf_creation">13.11.1. OpenSceneGraph glTF Creation</a></li>
</ul>
</li>
<li><a href="#_future_work_2">13.12. Future Work</a></li>
</ul>
</li>
<li><a href="#Steinbeis">14. Component Implementation: Steinbeis</a>
<ul class="sectlevel2">
<li><a href="#_overview_4">14.1. Overview</a></li>
<li><a href="#_server_side">14.2. Server Side</a>
<ul class="sectlevel3">
<li><a href="#_geovolumes_server">14.2.1. GeoVolumes Server</a></li>
<li><a href="#_sensorthings_server">14.2.2. SensorThings Server</a></li>
<li><a href="#_3d_building_data_generation">14.2.3. 3D Building Data Generation</a></li>
</ul>
</li>
<li><a href="#_client_side">14.3. Client Side</a>
<ul class="sectlevel3">
<li><a href="#_game_engines">14.3.1. Game Engines</a></li>
<li><a href="#_web_visualization">Web Visualization</a></li>
<li><a href="#_mobile_visualization">14.3.2. Mobile Visualization</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#Futures">15. Recommendations for the Future</a>
<ul class="sectlevel2">
<li><a href="#_introduction_5">15.1. Introduction</a></li>
<li><a href="#_general_recommendations_for_future_sprints">15.2. General Recommendations for Future Sprints</a>
<ul class="sectlevel3">
<li><a href="#_total_time">15.2.1. Total Time</a></li>
<li><a href="#_sprint_work_schedule">15.2.2. Sprint Work Schedule</a></li>
</ul>
</li>
<li><a href="#_topics_of_future_work">15.3. Topics of Future Work</a>
<ul class="sectlevel3">
<li><a href="#_introduction_6">15.3.1. Introduction</a></li>
<li><a href="#_ogc_internal_work">15.3.2. OGC Internal Work</a></li>
<li><a href="#_external_organizations">15.3.3. External Organizations</a></li>
<li><a href="#_ogc_specification_interactions">15.3.4. OGC Specification Interactions</a></li>
<li><a href="#_recommendations_for_cdb_integration">15.3.5. Recommendations for CDB Integration</a></li>
<li><a href="#_recommendations_for_moving_features_and_sensors_integration">15.3.6. Recommendations for Moving Features and Sensors Integration</a></li>
<li><a href="#_recommendations_for_seamless_building_transitions">15.3.7. Recommendations for Seamless Building Transitions</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#OGC-Standards-Specifications-and-Scenarios">Appendix A: OGC Standards/Specifications and Scenarios</a>
<ul class="sectlevel2">
<li><a href="#_ogc_specification_scenario_cross_reference">A.1. OGC Specification / Scenario Cross Reference</a></li>
</ul>
</li>
<li><a href="#glTF-OpenFLight-Comparison">Appendix B: Feature Comparison: glTF and OpenFlight</a>
<ul class="sectlevel2">
<li><a href="#_modeling_formats_comparison">B.1. Modeling Formats Comparison</a></li>
</ul>
</li>
<li><a href="#Datasets-Used-ISG-Year-2-Sprint">Appendix C: Datasets Used in ISG Year 2 Sprint</a>
<ul class="sectlevel2">
<li><a href="#_introduction_7">C.1. Introduction</a></li>
<li><a href="#_datasets">C.2. Datasets</a>
<ul class="sectlevel3">
<li><a href="#dataset-notes-austin">C.2.1. Austin Notes</a></li>
<li><a href="#dataset-notes-berlin">C.2.2. Berlin Notes</a></li>
<li><a href="#dataset-notes-honolulu">C.2.3. Honolulu Notes</a></li>
<li><a href="#dataset-notes-globe">C.2.4. Global Datasets</a></li>
<li><a href="#dataset-notes-miami">C.2.5. Miami Notes</a></li>
<li><a href="#dataset-notes-new-york-cdb">C.2.6. New York CDB Notes</a></li>
<li><a href="#dataset-notes-paris">C.2.7. Paris Notes</a></li>
<li><a href="#dataset-notes-san-diego-cdb">C.2.8. San Diego CDB Notes</a></li>
<li><a href="#dataset-notes-stuttgard">C.2.9. Stuttgart Notes</a></li>
<li><a href="#dataset-notes-yemen">C.2.10. Yemen Notes</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#Display-Applications">Appendix D: Display Applications</a>
<ul class="sectlevel2">
<li><a href="#_introduction_8">D.1. Introduction</a></li>
<li><a href="#_client_display_applications">D.2. Client Display Applications</a></li>
</ul>
</li>
<li><a href="#RevisionHistory">Appendix E: Revision History</a></li>
<li><a href="#Bibliography">Appendix F: Bibliography</a></li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="_subject"><a class="anchor" href="#_subject"></a>1. Subject</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The OGC Interoperable Simulation and Gaming Year 2 Sprint advanced the use of relevant OGC and Khronos Group standards in the modeling, simulation, and training communituies through capability develoipment, compatibility testing, and gap anaylsis. Of particular interest was the use of glTF models, game engines, and 3rd-party mobile device libraries for the display and interaction with OGC data and APIs.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_executive_summary"><a class="anchor" href="#_executive_summary"></a>2. Executive Summary</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Interactive Simulation and Gaming (ISG) Year 2 Sprint ("Sprint") was undertaken by OGC to investigate and anayize the capability of using other standards (<a href="https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#contents">glTF</a> in particular); widely adopted 3rd party display engines (Unity and Unreal Engine in particular); OGC current and upcoming Standards (in particular GeoVolumes, GeoPose, SensorThings, and MovingFeatures); future alignment of new technologies and CDB.</p>
</div>
<div class="paragraph">
<p>The Interactive Simulation and Gaming (ISG) Year 2 Sprint ("Sprint") was undertaken by OGC to investigate and anayize the capability of using other non-OGC standards, widely adopted 3rd party display engines, OGC current and upcoming Standards, and future alignment of new technologies and CDB.</p>
</div>
<div class="paragraph">
<p>The primary non-OGC standard under consideration was <a href="https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#contents">glTF</a>. This was also successfully investigated in ISG Year 1 Sprint. 3rd-party display engines included not only Unity and Unreal Engine, but the <a href="https://en.wikipedia.org/wiki/ARCore">ARCore</a> and <a href="https://en.wikipedia.org/wiki/IOS_11#Developer_APIs">ARKit</a> mobile device augmented reality libraries.</p>
</div>
<div class="paragraph">
<p>The OGC existing and upcoming standards of interest include CDB, GeoVolumes, GeoPose, SensorThings, and MovingFeatures. CDB is of special interest in that an optional goal is alignment of new technolgy with a future release of CDB, especially using glTF as an additional modeling format.</p>
</div>
<div class="paragraph">
<p>OGC has partnered with <a href="https://khronos.org">The Khronos Group</a> on two Sprints (Year 1 and Year 2). Both organizations worked dilegently to advance glTF to meet the needs of current and future users while ensuring support to previous activities. Bot organizations are investing in the development of new and future technologies.</p>
</div>
<div class="sect2">
<h3 id="_operation"><a class="anchor" href="#_operation"></a>2.1. Operation</h3>
<div class="paragraph">
<p>The Sprint implementation lasted two months from kickoff to submission of participant reports. THe actually coding effort was scheduled for two weeks in June 2021 on either side of the OGC Member Meeting. The entire effort was always planned as virtual.</p>
</div>
<div class="paragraph">
<p>Two datasets were made available to all participants - San Diego and New York CDB datasets. The participants accessed eight others (10 dataset total). This was unexpected and the list was documented in <a href="#Datasets-Used-ISG-Year-2-Sprint">Appendix C: Datasets Used in ISG Year 2 Sprint</a>. The participants for the Sprint were (in alphabetical order): <a href="#Cesium">Cesium</a>, <a href="#Ecere">Ecere</a>, <a href="#FlightSafety">FlightSafety</a>, <a href="#InfoDao">InfoDao</a>, <a href="#SimBlocks">SimBlocks.io</a>, and <a href="#Steinbeis">Steinbeis</a>. All  participants were OGC members and had prior experience participating in OGC projects.</p>
</div>
</div>
<div class="sect2">
<h3 id="_accomplishments"><a class="anchor" href="#_accomplishments"></a>2.2. Accomplishments</h3>
<div class="paragraph">
<p>Most of the participants partnered with at least one other participant for some portion of their work. The participants addressed a wide-range of issues described in the Call For Proposals. This is shown in <a href="#table_scenario-participant">Table 4</a>. The wide range of problems address plus agreement on cross-over problems provided confidence that the problem space was covered and individual results are generally applicable.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Data conversion operation is mostly understood. Future efforts should be focused on operational improvements for specific scenarios.</p>
</li>
<li>
<p>glTF is sufficiently capable to support static GeoTypical and GeoSpecific models in CDB</p>
</li>
<li>
<p>Games engines (Unreal Engine and Unity) were demonstrated to work with OGC data</p>
</li>
<li>
<p>OGC Data and APIs can be integrated into mobile apps using ARCore and ARKit.</p>
</li>
<li>
<p>Seamless and smooth transitions can be done going outdoors to indoors and back out.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_issues"><a class="anchor" href="#_issues"></a>2.3. Issues</h3>
<div class="paragraph">
<p>A few issues were discovered during the Sprint. One one might have impact on OGC Standards or common implementation using OGC APIs. The other issues mostly related to interacting with external applications. All of the issues are documented in <a href="#discovered-inconsistecies">Discovered Inconsistencies</a> of the <a href="#Findings">Findings</a> chapter. The most important ones are listed here.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Error is specification description or interpertation of empty tiles in 3D Tiles.</p>
</li>
<li>
<p>OGC Member Meeting interfered with smooth and continous development during the Sprint.</p>
</li>
<li>
<p>3D applications may use different coordinate systems</p>
</li>
<li>
<p>Some 3rd-party software related to game engines is not reliable or performant as needed</p>
</li>
<li>
<p>Moving features is a hard problem</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_recommendations"><a class="anchor" href="#_recommendations"></a>2.4. Recommendations</h3>
<div class="paragraph">
<p>This Sprint generated seven general recommendations. Each recommendation derived from one or more of the issues generated by the participants. The recommendations are listed here with the details linked from each recommendation.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="#recommendation-cdb-gltf">Recommendation #5:</a> Include glTF as an optional prototype modeling format in an upcoming release of CDB.</p>
</li>
<li>
<p><a href="#recommendation-track-xr">Recommendation #6:</a> Use a Sprint to investigate integration of SensorThings and GeoPose to remotely track moving objects or people of interest displaying the results in a virtual or augmented reality environment.</p>
</li>
<li>
<p><a href="#recommendation-indoor-outdoor">Recommendation #7:</a> Use a Sprint to display a building environment with indoor and outdoor components. The display environment needs to include extensive use of metadata and IoT (SensorThings API) to highlight features not readable visible.</p>
</li>
<li>
<p><a href="#recommendation-catalog-datasets">Recommendation #3:</a> OGC should develop a catalog of datasets for future projects and members.</p>
</li>
<li>
<p><a href="#recommendation-Khronos">Recommendation #4:</a> Increase communication between OGC and Khronos Group to speed up geospatial requirements for glTF and adoption of glTF in the geospatial community.</p>
</li>
<li>
<p><a href="#recommendation-member-meeting">Recommendation #2:</a> Do not have the Sprint work week(s) immediately before a member meeting.</p>
</li>
<li>
<p><a href="#recommendation-er-work">Recommendation #1:</a> Allow at least 3 months from the conclusion of the Sprint work to write, edit, and review the final (Engineering) report.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_document_contributor_contact_points"><a class="anchor" href="#_document_contributor_contact_points"></a>2.5. Document contributor contact points</h3>
<div class="paragraph">
<p>All questions regarding this document should be directed to the editor or the contributors:</p>
</div>
<div class="paragraph">
<p><strong>Contacts</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width: 80%;">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Organization</th>
<th class="tableblock halign-left valign-top">Role</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Leonard Daly</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Daly Realism representing Khronos Group</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Editor &amp; Contributor</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rollin Philips</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Open Geospatial Consortium</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Editor &amp; Contributor</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sean Lilley</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cesium</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contributor</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sam Suhag</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cesium</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contributor</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Michala Hill</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cognitics/SOCOM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sponsor support</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Jerome St-Louis</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ecere</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contributor</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Diego Caraffini</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ecere</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contributor</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Patrick Dion</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ecere</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contributor</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Spencer Berg</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FlightSafety</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contributor</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ryan Franz</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FlightSafety</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contributor</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Aaron Williams</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FlightSafety</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contributor</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Joshua Rentrope</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">InfoDao</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contributor</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Jordan Dauble</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SimBlocks.io</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contributor</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Glenn Johnson</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SimBlocks.io</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contributor</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Volker Coors</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Steinbeis, HFT Stuttgart</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contributor</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Thunyathep Santhanavanich (Joe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Steinbeis, HFT Stuttgart</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contributor</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Athanasios Koukofikis</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Steinbeis, HFT Stuttgart</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contributor</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rushikesh Padsala</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Steinbeis, HFT Stuttgart</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contributor</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Patrick Würstle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Steinbeis, HFT Stuttgart</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contributor</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_foreword"><a class="anchor" href="#_foreword"></a>2.6. Foreword</h3>
<div class="paragraph">
<p>Attention is drawn to the possibility that some of the elements of this document may be the subject of patent rights. The Open Geospatial Consortium shall not be held responsible for identifying any or all such patent rights.</p>
</div>
<div class="paragraph">
<p>Recipients of this document are requested to submit, with their comments, notification of any relevant patent claims or other intellectual property rights of which they may be aware that might be infringed by any implementation of the standard set forth in this document, and to provide supporting documentation.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="references"><a class="anchor" href="#references"></a>3. References</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="title"><em><strong>Draft</strong></em></div>
<div class="paragraph">
<p>This section is not complete. The bulleted lists will be turned into prose with references to the detailed descriptions. Additional items may be added based on additional reviews of the participant material.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following normative documents are referenced in this document.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://docs.opengeospatial.org/DRAFTS/17-083r3.html">2D Tile Matrix Set and Tileset Metadata</a></p>
</li>
<li>
<p><a href="https://www.ogc.org/standards/3DTiles">3D Tiles Specification</a></p>
</li>
<li>
<p><a href="https://www.ogc.org/standards/cdb">CDB  Standard</a></p>
</li>
<li>
<p><a href="https://www.ogc.org/standards/citygml">CityGML</a></p>
</li>
<li>
<p><a href="https://github.com/KhronosGroup/glTF/tree/master/specification/2.0">glTF Specification</a></p>
</li>
<li>
<p><a href="https://www.ogc.org/standards/i3s">Indexed 3D Scene Layers (I3S)</a></p>
</li>
<li>
<p><a href="https://www.ogc.org/standards/indoorgml">IndoorGML Standard</a></p>
</li>
<li>
<p><a href="https://www.ogc.org/standards/movingfeatures">MovingFeatures Standard</a></p>
</li>
<li>
<p><a href="https://www.ogc.org/standards/sensorthings">SensorThings Standard</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_terms_and_definitions"><a class="anchor" href="#_terms_and_definitions"></a>4. Terms and definitions</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="title"><em><strong>Draft</strong></em></div>
<div class="paragraph">
<p>This section is not complete. The bulleted lists will be turned into prose with references to the detailed descriptions. Additional items may be added based on additional reviews of the participant material.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For the purposes of this report, the definitions specified in Clause 4 of the OWS Common Implementation Standard <a href="https://portal.opengeospatial.org/files/?artifact_id=38867&amp;version=2">OGC 06-121r9</a> shall apply. In addition, the following terms and definitions apply.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="title"><em><strong>Structure</strong></em></div>
<div class="paragraph">
<p>Many of these are acronyms and not really <em>terms</em>. Should the acronums be included here or not?</p>
</div>
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">&#9679; 3dsMax </dt>
<dd>
<p><em>tbd</em></p>
</dd>
<dt class="hdlist1">&#9679; 3D Tiles </dt>
<dd>
<p><em>tbd</em></p>
</dd>
<dt class="hdlist1">&#9679; 3D Tiles Next </dt>
<dd>
<p><em>tbd</em> Links to <a href="https://github.com/CesiumGS/3d-tiles/blob/3d-tiles-next/3D_TILES_NEXT.md" class="bare">https://github.com/CesiumGS/3d-tiles/blob/3d-tiles-next/3D_TILES_NEXT.md</a></p>
</dd>
<dt class="hdlist1">&#9679; ArcGIS </dt>
<dd>
<p><em>tbd</em></p>
</dd>
<dt class="hdlist1">&#9679; CDB </dt>
<dd>
<p><em>tbd</em></p>
</dd>
<dt class="hdlist1">&#9679; CDB X </dt>
<dd>
<p><em>tbd</em></p>
</dd>
<dt class="hdlist1">&#9679; OpenFlight </dt>
<dd>
<p><em>tbd</em></p>
</dd>
<dt class="hdlist1">&#9679; COLLADA </dt>
<dd>
<p>A 3D model format that supports private extensions.</p>
</dd>
<dt class="hdlist1">&#9679; CityGML </dt>
<dd>
<p><em>tbd</em></p>
</dd>
<dt class="hdlist1">&#9679; EOS </dt>
<dd>
<p><em>tbd</em></p>
</dd>
<dt class="hdlist1">&#9679; Feature Manipulation Engine </dt>
<dd>
<p><em>tbd</em></p>
</dd>
<dt class="hdlist1">&#9679; GeoPackage </dt>
<dd>
<p><em>tbd</em></p>
</dd>
<dt class="hdlist1">&#9679; GeoSpecific </dt>
<dd>
<p>A 3D model of an object that has a specific place on Earth. Examples include Eifel Tower, US Capitol, Mt. Rushmore, and many other objects that are unique and may be used to immediately identify a location and potentially time.</p>
</dd>
<dt class="hdlist1">&#9679; GeoTypical </dt>
<dd>
<p>A 3D model of an object whose existance does not identify a location and where the model may be used repeatedly. Examples include trees, most warehouses, and many residential buildings.
<em>tbd</em></p>
</dd>
<dt class="hdlist1">&#9679; glb </dt>
<dd>
<p>See <em>glTF</em>.</p>
</dd>
<dt class="hdlist1">&#9679; glTF </dt>
<dd>
<p>The 3D model standard from the Khronos Group. It stands for "graphics language Transmission Format". The V2.0 standard is <a href="https://github.com/KhronosGroup/glTF/tree/master/specification/2.0">documented</a>. The standard is in the process of becoming an ISO Standard. A glTF model may be represented in multiple files with the primary file having the extension <strong>.gltf</strong>; or typically a single file with the extension <strong>.glb</strong>.</p>
</dd>
<dt class="hdlist1">&#9679; GNOSIS </dt>
<dd>
<p>Ecere&#8217;s geospatial client</p>
</dd>
<dt class="hdlist1">&#9679; GTModel </dt>
<dd>
<p>See <em>GeoTypical</em></p>
</dd>
<dt class="hdlist1">&#9679; One World SDK </dt>
<dd>
<p>SimBlocks.io software development kit for handling geospatial data in Unity.</p>
</dd>
<dt class="hdlist1">&#9679; OpenFlight </dt>
<dd>
<p>A data modeling language.</p>
</dd>
<dt class="hdlist1">&#9679; OSG Software </dt>
<dd>
<p><em>tbd</em></p>
</dd>
<dt class="hdlist1">&#9679; SensorThings API </dt>
<dd>
<p><em>tbd</em></p>
</dd>
<dt class="hdlist1">&#9679; skp </dt>
<dd>
<p><em>tbd</em></p>
</dd>
<dt class="hdlist1">&#9679; TinyGLTF </dt>
<dd>
<p>An open source software library that handles glTF files.</p>
</dd>
<dt class="hdlist1">&#9679; Trimble Sketchup </dt>
<dd>
<p><em>tbd</em></p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="title"><em><strong>Question</strong></em></div>
<div class="paragraph">
<p>RP: How crazy do I go with Terms, like XML, PNG and the likes of <em>obvious</em> internet jargon isn&#8217;t needed right?</p>
</div>
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">&#9679; term name </dt>
<dd>
<p>text of the definition</p>
</dd>
<dt class="hdlist1">&#9679; term name|synonym  </dt>
<dd>
<p>text of the definition</p>
</dd>
</dl>
</div>
<div class="sect2">
<h3 id="_abbreviated_terms"><a class="anchor" href="#_abbreviated_terms"></a>4.1. Abbreviated terms</h3>
<div class="ulist">
<div class="title">NOTE: The abbreviated terms clause gives a list of the abbreviated terms and the symbols necessary for understanding this document. All symbols should be listed in alphabetical order. Some more frequently used abbreviated terms are provided below as examples.</div>
<ul>
<li>
<p>COTS	Commercial Off The Shelf</p>
</li>
<li>
<p>DCE	Distributed Computing Environment</p>
</li>
<li>
<p>IDL	Interface Definition Language</p>
</li>
<li>
<p>B3DM <em>tbd</em></p>
</li>
<li>
<p>COTS Commercial Off The Shelf</p>
</li>
<li>
<p>CNAM XML</p>
</li>
<li>
<p>DIIL Disconnected, Interrupted, Intermittent, Low-Bandwidth</p>
</li>
<li>
<p>DIS  Distributed Interactive Simulation</p>
</li>
<li>
<p>DOF(s) Degrees of Freedom. Full freedom in space has six degrees of freedom - left/right, front/back, up/down, roll, pitch, and yaw.</p>
</li>
<li>
<p>E3D Ecere&#8217;s 3D model format</p>
</li>
<li>
<p>FLIR Forward looking InfraRed</p>
<div class="literalblock">
<div class="content">
<pre>_tbd_</pre>
</div>
</div>
</li>
<li>
<p>HLA ::</p>
<div class="literalblock">
<div class="content">
<pre>_tbd_</pre>
</div>
</div>
</li>
<li>
<p>I3DM ::</p>
<div class="literalblock">
<div class="content">
<pre>_tbd_</pre>
</div>
</div>
</li>
<li>
<p>IoT  Internet of Things</p>
</li>
<li>
<p>LOD Level Of Detail. A highly detailed model may be created to display at reduced detail when the scene camera is far away. The model typically defines the number of levels, the detail shown at each level, and the applicable viewing range.</p>
</li>
<li>
<p>MModels Moving Models</p>
</li>
<li>
<p>MOVINT Movement Intelligence</p>
</li>
<li>
<p>NVG Night vision goggles</p>
<div class="dlist">
<dl>
<dt class="hdlist1">&#9679; NGA GRiD </dt>
</dl>
</div>
</li>
<li>
<p>PBR Physically Based Rendering. This is a means for calculating the appearance of a model based on a number of physical parameters including metal-roughness, normals, and transmission. glTF uses this model for rendering.</p>
</li>
<li>
<p>SWIR Short-Wave InfraRed. The spectrum of electromagnetic energy with wavelength longer than visible red, but shorter than thermal energy.</p>
</li>
<li>
<p>TIFF Tagged Image File Format. This format is used for storing raster graphics images. It is a container format that can store multiple diffrent image formats. Images stored as TIFF files frequently are uncompressed or lossless-ly compressed. See also <a href="https://en.wikipedia.org/wiki/TIFF">Wikipedia - TIFF</a>.</p>
</li>
<li>
<p>X3D Extensive 3D Graphics - an ISO standard for storing, transmitting, and displaying 3D models. See <a href="https://www.web3d.org/" class="bare">https://www.web3d.org/</a> for more details.</p>
</li>
<li>
<p>XR Extended Reality. This term encompases the entire specturm from fully <strong>V</strong>irtual <strong>R</strong>eality (everthing computer rendered), through <strong>A</strong>ugmented <strong>R</strong>eality (some objects comptuer rendered , and composed with camera data), to <strong>R</strong>eal <strong>R</strong>eality (complete physical space and objects).</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Overview"><a class="anchor" href="#Overview"></a>5. Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Section 6</strong> describes the <strong>Material and Purpose</strong> of the Sprint. All of the material that was provided to the participants is either included here or referenced.</p>
</div>
<div class="paragraph">
<p><strong>Section 7</strong> presents the overall <strong>Findings</strong> from the Sprint. The discussion includes material learned from all participants and the Sprint leadership team in carrying out the Sprint.</p>
</div>
<div class="paragraph">
<p><strong>Section 8</strong> presents the major <strong>Conclusions</strong> from the Sprint. This represents the collective knowledge and experience of the participants and editor.</p>
</div>
<div class="paragraph">
<p><strong>Sections 9-14</strong> contain the <strong>Participant Detailed Reports</strong>.</p>
</div>
<div class="paragraph">
<p><strong>Section 15</strong> contains the consolidated <strong>Future Recommendations</strong>. Much of this content was gathered from participant detailed reports.</p>
</div>
<div class="paragraph">
<p><strong>Appendix A</strong> contains a copy of the <em>OGC Standards/Specifications and Scenarios</em> table from <a href="https://portal.ogc.org/files/?artifact_id=96942#StandardSpecScenarioCrossReference" class="bare">https://portal.ogc.org/files/?artifact_id=96942#StandardSpecScenarioCrossReference</a>.</p>
</div>
<div class="paragraph">
<p><strong>Appendix B</strong> contains a copy of the <em>Feature comparison table (or equivalent)</em> with additional notes and comments.</p>
</div>
<div class="paragraph">
<p><strong>Appendix C</strong> contains a list of the datasets that were used by the various participants. Included with the list is additional data describing the reference location, creator, license, and other useful items.</p>
</div>
<div class="paragraph">
<p><strong>Appendix D</strong> contains a list of the display applications that were used by the participants for their results. The table highlights the use of game engines, mobile devices, and 3rd party display applications.</p>
</div>
<div class="paragraph">
<p><strong>Appendix E</strong> contains the document Revision History.</p>
</div>
<div class="paragraph">
<p><strong>Appendix F</strong> contains the document Bibliography.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Sprint-Setup"><a class="anchor" href="#Sprint-Setup"></a>6. Material and Purpose</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_call_for_pariticipation"><a class="anchor" href="#_call_for_pariticipation"></a>6.1. Call for Pariticipation</h3>
<div class="paragraph">
<p>The <a href="https://portal.ogc.org/files/?artifact_id=96942">OGC ISG Year 2 Sprint: Call for Participation (CfP)</a> was released on 1 April 2021 by the Open Geospatial Consortium for the purpose of obtaining proposals from organizations interested in studying data and model handling within the CDB environment. The CfP provided all of the material necessary for organizations to make a proposal for participantion either by direct inclusion in the doucment or publicly available links.</p>
</div>
<div class="paragraph">
<p>The CfP specificed the schedule from kickoff meeting (2 June 2021) through the two spring weeks (weeks of 7 June and 21 June), and the participant final report inputs (31 July). The Sprint was designed from the beginning to be virtual due to pandemic safety restrictions and precautions. The decision was made prior to the release of the CfP.</p>
</div>
<div class="paragraph">
<p>The schedule for the Sprint work was defined in the CfP and is listed below. Of note is the two non-contiguous weeks of Sprint Work (Mini-Sprint #1 and Mini-Sprint #2) separated by the OGC Member meeting. The Findings section addresses participant comments on the scheduling. It was decided in June to seek CDB SWG review and comments prior to <em>pending</em> publication because of the close and important work this Sprint was performing relative to current work within CDB SWG. That addition did not change any contractual arrangements.</p>
</div>
<table id="table_sprint-schedule" class="tableblock frame-all grid-all" style="width: 90%;">
<caption class="title">Table 1. The master schedule provided to all potential bidders in the CfP. Actual dates substituted for 'TBD'. Comments from the participants are addressed in the <strong>Findings</strong> section.</caption>
<colgroup>
<col style="width: 10%;">
<col style="width: 25%;">
<col style="width: 65%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Milestone</th>
<th class="tableblock halign-left valign-top">Date</th>
<th class="tableblock halign-left valign-top"> Event</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>M01 <a id="M01"></a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">March 31, 2021</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Release of Call for Participation (CFP)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>M02 <a id="M02"></a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>April 30, 2021</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>CFP Proposal Submission Deadline (11:59pm EDT)</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>M03 <a id="M03"></a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">May 31</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All Participation Agreements signed (OGC will start sending preliminary offers in early May).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>M04 <a id="M04"></a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>June 2</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Half-day <strong>Kickoff Workshop</strong> to be organized as a virtual meeting.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>M05 <a id="M05"></a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Week of June 7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mini-Sprint #1 (two scheduled teleconferences plus ad hoc calls as needed).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>M07 <a id="M07"></a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Week of June 14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Quarterly OGC Member Meeting: submit formal review request to selected OGC WG to review the ER later in the timeline (probably at the Sep. Member Meeting).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>M06 <a id="M06"></a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Week of June 21.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mini-Sprint #2.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>M08 <a id="M08"></a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">June 29 &amp; July 6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Dry-Run (29 June) and Stakeholder Demo Event (6 July)</strong>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>M09 <a id="M009"></a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">July 31</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All participant Engineering Report (ER) contributions submitted.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>M10 <a id="M10"></a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">August 19 &amp; August 30</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Near-Final ER draft posted to CDB SWG (19 August) and Pending (30 August) for ISG DWG review.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>M11 <a id="M11"></a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">September 20</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Quarterly OGC Member Meeting: ER Publication Vote; Presentation(s) of Final Results.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_discussion_of_scenarios"><a class="anchor" href="#_discussion_of_scenarios"></a>6.2. Discussion of Scenarios</h3>
<div class="sect3">
<h4 id="_overview"><a class="anchor" href="#_overview"></a>6.2.1. Overview</h4>
<div class="paragraph">
<p>The CfP described four possible scenarios. Scenario 1 was split into an A and B part. Participants could choose to work on any combination (to a maximum of three) of these or propose their own within the guidelines established by these scenarios and the rest of the CfP.</p>
</div>
</div>
<div class="sect3">
<h4 id="_scenario_1"><a class="anchor" href="#_scenario_1"></a>6.2.2. Scenario 1</h4>
<div class="paragraph">
<p>This scenario related to the conversion of data formats from one to another. They differed in whether the new format was user-requested on-demand or a batch pre-demand process. In both cases the participants were requested to use OGC Standards and specifications or provide a good reason why that did not work. Note that in both scenarios, glTF is considered an OGC format.</p>
</div>
<div class="paragraph">
<p>Scenario 1A addressed the needs of on-demand conversion from one OGC data format to another. The results needed to be quantified in terms of response times from initial request to content delivery. The use of existing OGC Standards, API, and Specifications (OSAS) for this scenario was important to the process. It allowed for variations if a good reason could be provided and a recommendation was made for an alternate.</p>
</div>
<div class="paragraph">
<p>Scenario 1B addressed the needs of pre-demand batch conversion from formats found in a CDB dataset to other OGC formats. This sub-scenario was designed to quantify the server resources needed for a batch conversion. The conversion process was not required to use existing OSAS, but did need to propose a prototype of a new standard. This sub-scenario was also designed to provide guidance on recommended sizing limits of future versions of CDB.</p>
</div>
</div>
<div class="sect3">
<h4 id="_scenario_2"><a class="anchor" href="#_scenario_2"></a>6.2.3. Scenario 2</h4>
<div class="paragraph">
<p>Scenario 2 was designed to address the issues involved from navigating from outside to inside. Traditionally these models serve different purposes and are not necessarily compatible. CDB defines buildings and their relationship to other objects in the scene. Other OGC Standards (e.g., Indoor Mapping Data Format and IndoorGML) define the interior structures. Moving from outside to inside without loosing context of the other side has not been a smooth process.</p>
</div>
</div>
<div class="sect3">
<h4 id="_scenario_3"><a class="anchor" href="#_scenario_3"></a>6.2.4. Scenario 3</h4>
<div class="paragraph">
<p>The integration of animated transportation networks is critical in understanding how a region operates. This scenario requires the participant to show transportation networks with animated vehicles. There was no limitation placed on the the network type except that it be land- or air-based. This scenario also tested incompleteness in existing OGC specifications for tracking moving objects.</p>
</div>
</div>
<div class="sect3">
<h4 id="_scenario_4"><a class="anchor" href="#_scenario_4"></a>6.2.5. Scenario 4</h4>
<div class="paragraph">
<p>CDB is considering using glTF as its modeling format. It is necessary to understand the advantages and disadvantages of glTF compared to the existing CDB model format - OpenFlight. Preliminary work included in the CfP (and included in <a href="#OGC-Standards-Specifications-and-Scenarios">Appendix A: Specification / Scenario cross reference table</a>) showed that glTF and OpenFlight were similar in features. Participants working on this scenario were to analyze the formats in the context of CDB and specify additional capabilities needed by glTF to functionality replace OpenFlight.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_material_provided_to_participants"><a class="anchor" href="#_material_provided_to_participants"></a>6.3. Material provided to Participants</h3>
<div class="sect3">
<h4 id="_general_ogc_information"><a class="anchor" href="#_general_ogc_information"></a>6.3.1. General OGC Information</h4>
<div class="paragraph">
<p>Potential bidders were provided with a variety of information including <a href="#dataset-notes-san-diego-cdb">San Diego CDB Dataset</a>, <a href="#OGC-Standards-Specifications-and-Scenarios">Appendix A: Specification / Scenario cross reference table</a>, and <a href="#glTF-OpenFLight-Comparison">Appendix B: OpenFlight / glTF capability cross reference</a>. Previously used datasets (e.g., &lt;&lt;,New York CDB Dataset&gt;&gt;) and new datasets (e.g., <a href="#dataset-notes-austin">Austin Dataset</a>) were identified and used by the participants. These are described more fully in <a href="#Data-Sets">Data Sets</a> and <a href="#Datasets-Used-ISG-Year-2-Sprint">Appendix C: Datasets Used in ISG Year 2 Sprint</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="Data-Sets"><a class="anchor" href="#Data-Sets"></a>6.3.2. Data Sets</h4>
<div class="paragraph">
<p>The primary data set for the Sprint is known as San Diego CDB (licensed under the SanGIS Legal Notice - SanGIS GIS Data End User Use Agreement and Disclaimer for Data Released to the Public). This data set was collected using a number of sensors and methods and encompassed nearly all of the downtown San Diego and vicinity, including the port, sports stadium, recreational facilities, commercial, and housing areas.</p>
</div>
<div id="img_SanDiegoOverview" class="imageblock text-center">
<div class="content">
<img src="images/SanDiego-CDB-coverage.png" alt="SanDiego CDB coverage" width="400">
</div>
<div class="title">Figure 1. An  overview of the coverage of the San Diego CDB V4.1. It is a single geocell with the southwest corner at N33 V118. The image was provided by CAE during Sprint Year 1.</div>
</div>
<div id="img_SanDiegoRendered" class="imageblock text-center">
<div class="content">
<img src="images/SanDiego-CDB-rendered.png" alt="SanDiego CDB rendered" width="800">
</div>
<div class="title">Figure 2. A rendering of a portion of this dataset. Up is approximately north-east with the San Diego Convention Center at bottom center-right. The rendered view was provided by CAE during Sprint Year 1.</div>
</div>
<div class="paragraph">
<p>Participants were free to use other data sets to provide the sufficient and necessary data for development and testing. Several participants did choose to use other data sets. The full list of data sets used along with other reference and meta-data information is provided in <a href="#Datasets-Used-ISG-Year-2-Sprint">Appendix C: Datasets Used in ISG Year 2 Sprint</a>. The table below summarizes data set usages and the participants.</p>
</div>
<table id="table_summary-datasets" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. Data sets used by the participants. Details on each data set are provided in <a href="#Datasets-Used-ISG-Year-2-Sprint">Appendix C: Datasets Used in ISG Year 2 Sprint</a>.</caption>
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2858%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Data set</strong></th>
<th class="tableblock halign-center valign-top"><strong>Cesium</strong></th>
<th class="tableblock halign-center valign-top"><strong>Ecere</strong></th>
<th class="tableblock halign-center valign-top"><strong>FlightSafety</strong></th>
<th class="tableblock halign-center valign-top"><strong>InfoDao</strong></th>
<th class="tableblock halign-center valign-top"><strong>SimBblocks</strong></th>
<th class="tableblock halign-center valign-top"><strong>Steinbeis</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Austin</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">X</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Berlin</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">X</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Honolulu</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">X</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Miami</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">X</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">New York CDB</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">X</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paris</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">X</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">San Diego CDB</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">X</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">X</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">X</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stuttgart</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">X</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">X</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yeman</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">X</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Findings"><a class="anchor" href="#Findings"></a>7. Findings</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_introduction"><a class="anchor" href="#_introduction"></a>7.1. Introduction</h3>
<div class="paragraph">
<p>These findings all come from comments (written or verbal) from the participants. These represent items that were deemed important by the participants. The information here comes from achieved results, not unachieved stretch goals.</p>
</div>
</div>
<div class="sect2">
<h3 id="_aspects_of_investigation"><a class="anchor" href="#_aspects_of_investigation"></a>7.2. Aspects of Investigation</h3>
<div class="paragraph">
<p>Each participant was free to choose which one (or more) scenarios to pursue. Four scenarios were discussed in the <a href="https://portal.ogc.org/files/?artifact_id=96942">Call for Participation</a>. Participants could also define their own scenario. Compensation was based on the number of chosen scenarios and the depth to which each chosen scenario was pursued. OGC reviewed each participant’s proposal and suggested revisions to better align with the goals of the Sprint, the interest of the Sponsor, and the coverage by the other participants. <a href="#table_scenario-listing">Table 3</a> provides a summary description of the selected scenarios. <a href="#table_scenario-participant">Table 4</a> shows the coverage of scenarios by the participants.</p>
</div>
<table id="table_scenario-listing" class="tableblock frame-all grid-all" style="width: 80%;">
<caption class="title">Table 3. A summary of the scenarios used during Sprint Year 2. Scenarios 1-4 were defined in the Call for Participation. Cesium proposed in-kind work as a modification of Scenario 4.</caption>
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 85.7143%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">Scenario</th>
<th class="tableblock halign-left valign-top">Summary Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1A</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Develop efficient on-demand conversion from on OGC 3D format to another.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1B</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Develop efficient batch conversion from on OGC 3D format to another.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integrate indoor and outdoor displays with metadata.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integrate animated transportation networks with 3D tiled display.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Perform actual-use gap analysis on OpenFlight and glTF core + modules.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">4C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Develop specific glTF extensions to support needed capabilities in CDB.</p></td>
</tr>
</tbody>
</table>
<table id="table_scenario-participant" class="tableblock frame-all grid-all" style="width: 80%;">
<caption class="title">Table 4. A summary of the scenarios used during Sprint Year 2. Scenarios 1-4 were defined in the Call for Participation. Cesium proposed in-kind work as a modification of Scenario 4.</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1112%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-center valign-top" colspan="6">Scenario</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Participant</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>1A</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>1B</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>2</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>3</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>4</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>4C</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#Cesium">Cesium</a></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>&#10003;</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#Ecere">Ecere</a></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>&#10003;</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>&#10003;</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>&#10003;</strong></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#FlightSafety">FlightSafety</a></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>&#10003;</strong></p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#InfoDao">InfoDao</a></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>&#10003;</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>&#10003;</strong></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#SimBlocks">SimBlocks</a></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>&#10003;</strong></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>&#10003;</strong></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#Steinbeis">Steinbeis</a></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>&#10003;</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>&#10003;</strong></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="_cooperative_efforts"><a class="anchor" href="#_cooperative_efforts"></a>7.2.1. Cooperative Efforts</h4>
<div class="paragraph">
<p>Unlike the <a href="http://docs.ogc.org/per/20-087.html">ISG Sprint Year 1</a> or the <a href="https://docs.ogc.org/per/20-030.html">GeoVolumes Pilot</a>, this Sprint did not require or make major use of a Technology Integration Experiment (TIE). There was still substantial cooperation between some of the participants that need to be recognized. The following list is presented without order.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Cesium</strong> and <strong>FlightSafety</strong> cooperated on the understanding and development of glTF extensions and OpenFlight feature analysis.</p>
</li>
<li>
<p><strong>Ecere</strong> and <strong>Steinbeis</strong> worked together on the indoor/outdoor display capabilities required by Scenario 2.</p>
</li>
<li>
<p><strong>Cesium&#8217;s</strong> geospatial client, CesiumJS, was used by <strong>Ecere</strong>, <strong>FlightSafety</strong>, <strong>Steinbeis</strong>, and <strong>Cesium</strong>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_results"><a class="anchor" href="#_results"></a>7.3. Results</h3>
<div class="sect3">
<h4 id="_general_results"><a class="anchor" href="#_general_results"></a>7.3.1. General Results</h4>
<div class="paragraph">
<p>These findings are not particular to a specific scenario and were reported by more than one participant.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Do not split a 2-week sprint by the member&#8217;s meeting</p>
</li>
<li>
<p>Best to entirely avoid member&#8217;s meeting week</p>
</li>
<li>
<p>glTF needs additional work to fully support geospatial work and CDB in particular</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="discovered-inconsistecies"><a class="anchor" href="#discovered-inconsistecies"></a>7.3.2. Discovered Inconsistecies</h4>
<div class="paragraph">
<p>Various inconsistencies with various aspect or external items were discovered. These include OGC Standards, OGC data, modeling standards, and software. Some of the inconsistencies are documented, and others reflect documentation that needs improving.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Ecere</p>
<div class="ulist">
<ul>
<li>
<p><a href="#CDB-X-Minor-Mistakes">Minor mistake in prototyped CDB X dataset</a></p>
</li>
<li>
<p><a href="#CesiumJS-Prevents-Refinement">Error in CesiumJS interpertation of empty tiles</a> (a clarification may be needed in 3D Tiles specification)</p>
</li>
</ul>
</div>
</li>
<li>
<p>FlightSafety</p>
<div class="ulist">
<ul>
<li>
<p><a href="#OpenFlight-Different-Coordinate-System">OpenFlight coordinate reference system is different than glTF or 3dsMax</a>. This is not really an inconsistency, but known difference between modeling formats.</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://docs.ogc.org/bp/16-009r5.html#_model_coordinate_systems">OpenFlight is a left-handed system with Z-up</a></p>
</li>
<li>
<p><a href="https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#coordinate-system-and-units">glTF is a right-handed system with Y-up</a></p>
</li>
<li>
<p><a href="https://knowledge.autodesk.com/support/3ds-max/learn-explore/caas/CloudHelp/cloudhelp/2020/ENU/3DSMax-Basics/files/GUID-0F3E2822-9296-42E5-A572-B600884B07E3-htm.html#GUID-0F3E2822-9296-42E5-A572-B600884B07E3">3DS Max is a right-handed system with Y-up</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>SimBlocks.io</p>
<div class="ulist">
<ul>
<li>
<p><a href="#Unity-Development-Issues">Some open source software is not as reliable or performant as needed</a></p>
</li>
<li>
<p><a href="#SanDiego-CDB-Issues">Tile content issues with San Diego CDB</a></p>
<div class="ulist">
<ul>
<li>
<p>Tile Model Geometry limits exceeded</p>
</li>
<li>
<p>Tile Model Reference counts exceeded</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_game_engine_interface"><a class="anchor" href="#_game_engine_interface"></a>7.3.3. Game Engine Interface</h4>
<div class="paragraph">
<p>The following participants incorporated game engine (Unreal or Unity) into the client display of geospatial data while working on their chosen scenarios.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>InfoDao</strong> displayed <a href="#scenario-3">results in Unity while investigating moving models</a>. There needs to be additional testing to determine goodness-of-fit for this use in real-world applications.</p>
</li>
<li>
<p><strong>SimBlocks.io</strong> used Unreal and Unity game engines as the client display when batch converting CDB and other geospatial data.</p>
</li>
<li>
<p><strong>Steinbeis</strong> achieved an indoor / outdoor scenario that incorporated real-time interface to SensorThings API and drone-view that allowed a merged over-the-shoulder and altitude view of the 3D environment. They integrated display capabilities from Unreal Engine (e.g., trees) into their scene.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>It was not part of their Sprint work, but it needs to be noted that Cesium has a <a href="https://cesium.com/blog/2021/03/30/cesium-for-unreal-now-available/">plugin for Unreal that on-demand imports 3D geospatial data</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_conversion_scenario_1"><a class="anchor" href="#_conversion_scenario_1"></a>7.3.4. Conversion (Scenario 1)</h4>
<div class="paragraph">
<p>The general problem of data conversion has been <a href="http://docs.ogc.org/per/20-087.html#_issues">noted in Year 1 Sprint</a> and <a href="http://docs.ogc.org/per/20-087.html#_data_2">recommended for further investigation</a>. This Sprint had one scenario that focused on two aspects of conversion - full-batch mode, and on-demand. InfoDao investigated the timing of conversion and strategies for reducing user wait-time. Ecere looked into <a href="#ogc-api---tiles-distribution">optimizing the conversion to 3D Tiles</a> for the purpose of handling large levels of detail. SimBlocks.io investigated the conversion issues when importing CDB and other datasets into game engines.</p>
</div>
<div id="image-findings-ConversionTime" class="imageblock text-center">
<div class="content">
<img src="images/InfoDao/breakdown.png" alt="breakdown" width="700">
</div>
<div class="title">Figure 3. InfoDao measured the conversion time for the San Diego CDB dataset and is shown here. See <a href="#img_InfoDao-1">InfoDao&#8217;s report for context and detail</a></div>
</div>
<div id="image-findings-SanDiego-LoRes" class="imageblock text-center">
<div class="content">
<img src="images/Ecere/gnosis-sandiego2.jpg" alt="gnosis sandiego2" width="700">
</div>
</div>
<div id="image-findings-SanDIego-CoronadoBridge" class="imageblock text-center">
<div class="content">
<img src="images/Ecere/gnosis-sandiego6.jpg" alt="gnosis sandiego6" width="700">
</div>
<div class="title">Figure 4. Two levels of details from the San Diego CDB dataset shown in GNOSIS Cartographer client. The bridge in the bottom image can be seen slightly above image center in the top view.</div>
</div>
<div id="image-findings-Austin-Unity" class="imageblock text-center">
<div class="content">
<img src="images/SimBlocks/SimBlocks%20-%20ISG2%20-%20Austin%20in%20Unity.jpg" alt="SimBlocks   ISG2   Austin in Unity" width="700">
</div>
</div>
<div id="image-findings-Austin-Unreal" class="imageblock text-center">
<div class="content">
<img src="images/SimBlocks/SimBlocks%20-%20ISG2%20-%20Austin%20in%20Unreal.png" alt="SimBlocks   ISG2   Austin in Unreal" width="700">
</div>
<div class="title">Figure 5. These two images show Austin as rendered in Unity (top) and Unreal Engine (bottom). SimBlocks.io found the <a href="#dataset-notes-austin">Austin Dataset</a></div>
</div>
</div>
<div class="sect3">
<h4 id="_indoor_outdoor_scenario_2"><a class="anchor" href="#_indoor_outdoor_scenario_2"></a>7.3.5. Indoor / Outdoor (Scenario 2)</h4>
<div class="paragraph">
<p>Scenario 2 was designed to improve the interaction between outdoor scenes (frequently CDB models for these Sprints) and indoor building models. Steinbeis worked with Ecere on this task. Steinbeis used the models from University of Applied Sciences Stuttgart (HFT Stuttgart). The buildings were modeled in Trimble SketchUp format and through a multi-step process converted to glTF. Steinbeis also integrated SensorThings API into this demo.</p>
</div>
<div id="image-findings-SensorThings" class="imageblock text-center">
<div class="content">
<img src="images/Steinbeis/SensorThingsUnreal2.JPG" alt="SensorThingsUnreal2" width="700">
</div>
</div>
<div id="image-findings-Building-Stairway" class="imageblock text-center">
<div class="content">
<img src="images/Ecere/HfT-upper-level.jpg" alt="HfT upper level" width="700">
</div>
<div class="title">Figure 6. The top image shows the exterior of a building showing real-time and live SensorThings API integration in Unreal Engine. The same building was used to provide the transition between outdoors and indoors. The bottom image shows Ecere&#8217;s rendering in GNOSIS Cartographer of the building interior.</div>
</div>
</div>
<div class="sect3">
<h4 id="_moving_models_scenario_3"><a class="anchor" href="#_moving_models_scenario_3"></a>7.3.6. Moving models (Scenario 3)</h4>
<div class="paragraph">
<p>This scenario proved more difficult than expected. InfoDao performed initial investigation but determined that additional testing was needed before producing conclusive resuls. Steinbeis built on their <a href="http://docs.ogc.org/per/20-087.html#_sensorthings_api_server_for_urban_mobility">results from Year 1 Sprint</a> and work in Scenario 2 to <a href="#Moving-Things-Web_visualization">show transportation routes with tracking and multiple objects</a>.</p>
</div>
<div id="image-findings-Moving-Models" class="imageblock text-center">
<div class="content">
<img src="images/Steinbeis/routeCesium.jpg" alt="routeCesium" width="700">
</div>
<div class="title">Figure 7. Steinbeis' moving objects routes and tracking display using a CesiumJS web client and a GeoVolumes server. The region is HFT Stuttgart.</div>
</div>
</div>
<div class="sect3">
<h4 id="_gltf_as_modenling_standard_scenario_4"><a class="anchor" href="#_gltf_as_modenling_standard_scenario_4"></a>7.3.7. glTF as Modenling Standard (Scenario 4)</h4>
<div class="paragraph">
<p>This scenario was important to establish real-world capability limits of glTF in a CDB environment. FlightSafety and Cesium worked on different aspects of the effort. Cesium took the approach of developing specific extensions that provided solutions to specific capabilities of OpenFlight and CDB. OpenFlight looked more broadly at the feature coverage of glTF in comparison with OpenFlight.</p>
</div>
<div class="paragraph">
<p>Cesium developed four extensions. Two for metadata, one for <a href="#gpu-instancing-of-meshes">instancing</a>, and one for <a href="#conversion-to-3d-tiles-next">data/tile management</a>. The two metadata extensions allowed very fine-grain metadata. One extension supports it at the <a href="#per-texel-metadata---source-data">texel level</a> (illustrated below); the other one supports <a href="#per-vertex-metadata">vertex metadata</a>.</p>
</div>
<div class="paragraph">
<p>FlightSafety performed a <a href="#proposed-gltf-solution">gap analysis</a> of glTF compared to OpenFlight as used in CDB. The full result is presented in <a href="#table_cdb_features">Table 5</a>. From that analysis, they produced three <a href="#glTF-Gap_analysis-Recommendations">recommendations</a> (summarized here).</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create a new glTF extension to support mesh switching that can be used for Damaged States and simple geometry switching.</p>
</li>
<li>
<p>Additional testing of the proposed extensions is needed, to see if they cover the capabilities of CDB using OpenFlight.</p>
</li>
<li>
<p>Create some standardized moving models for teting purposes.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>FlightSafety also tested one existing extension (<a href="https://github.com/KhronosGroup/glTF/blob/master/extensions/2.0/Khronos/KHR_materials_variants/README.md">KHR_materials_variants</a>), worked with Cesium on testing their texel metadata extension - <a href="#per-texel-metadata---source-data">EXT_feature_metadata</a>. As a final effort they investigated <a href="#flightsafety-gltf-implementation">inserting a glTF model of the Space Shuttle</a> into one of their products VITAL 1150 Image Generator. Rendering in different environments were successfully produced.</p>
</div>
<div id="image-findings-Texel-Metadata" class="imageblock text-center">
<div class="content">
<img src="images/Cesium/EXT_feature_metadata_4.png" alt="EXT feature metadata 4">
</div>
<div class="title">Figure 8. CesiumJS visualization of the per-texel metadata from Aden, Yemen CDB at a high-level of detail taken near the center of <a href="#Cesium_RMTexture_MetadataLoLOD">Figure 19</a>.</div>
</div>
<div id="image-findings-Tree-Materials-Variants" class="imageblock text-center">
<div class="content">
<img src="images/Tree-3-Textures.jpg" alt="Tree 3 Textures" width="700">
</div>
<div class="title">Figure 9. This rendering shows a single geometry model with three different textures embedded in the file. The application allows the user to choose which texture to display.</div>
</div>
<div id="image-findings-Shuttle-Honolulu-Day" class="imageblock text-center">
<div class="content">
<img src="images/FlightSafety/Shuttle_behind.JPG" alt="Shuttle behind" width="600">
</div>
<div class="title">Figure 10. A glTF model in FlightSafety&#8217;s VITAL 1150 showing a NASA space shuttle at the end of Honolulu International Airport runway.</div>
</div>
<div id="image-findings-Shuttle-Honolulu-Night" class="imageblock text-center">
<div class="content">
<img src="images/FlightSafety/Shuttle_evening.jpg" alt="Shuttle evening" width="600">
</div>
<div class="title">Figure 11. The same setup as <a href="#img_shuttle1">Figure 65</a>, but with evening environmental conditions.</div>
</div>
</div>
<div class="sect3">
<h4 id="_other_accomplishments"><a class="anchor" href="#_other_accomplishments"></a>7.3.8. Other Accomplishments</h4>
<div class="paragraph">
<p>This sections discusses accomplishments that were not directly tied to a scenario or part of the participants efforts. As part of their Scenario 2 work, Steinbeis also integrated SensorThings API with other 3D and displayed Unreal Engine.</p>
</div>
<div class="paragraph">
<p>As part of their investigation into optimizing <a href="#Low-Bandwidth-Applications">dataset updates in a low-bandwidth environment</a>, InfoDao showed how a glTF model could be inserted into an older dataset to relfect recent events. They chose the Surfside condo complex in Miami.</p>
</div>
<div class="paragraph">
<p>Finally Steinbeis <a href="#mobile-visualization">integrated 3D Tiles data</a> into <a href="android&.html#8212;&#8203;unreal-engine">Android</a> and <a href="ios&.html#8212;&#8203;geovolumes">iOS</a> phone clients. The iOS client needed to use USDZ model data (Apple requirement). These demonstrations showed how OGC APIs work in low-powered mobile devices in Augmented or Virtual Reality.</p>
</div>
<div id="image-findings-Surside-Collapse" class="imageblock text-center">
<div class="content">
<img src="images/InfoDao/edition.png" alt="edition" width="700">
</div>
<div class="title">Figure 12. A "Before" and "After" image of the Surfside condo collapse using the Miami CDB as a base with a run-time update.</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Conclusions"><a class="anchor" href="#Conclusions"></a>8. Conclusions</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Introduction</strong>
The ISG Year 2 Sprint started to layout the path from today&#8217;s environment with data stored in CBD V1.0 datasets and models stored in OpenFlight to the future. The path indicated by the participants efforts is data-similar and feature-richer then today&#8217;s capabilities. This path is most clearly indicated by enhanced capabilities using glTF models, batch-driven and interactive data conversions, and game engine driven displays.</p>
</div>
<div class="paragraph">
<p><strong>Models stored as glTF</strong>
glTF models have the potential to offer a visually richer display using current and widely-adopted transmission file format. glTF uses physically based rendering (PBR) for its material model. PBR can more accurate depect real-world materials in all wavelengths than the specular model used by OpenFlight. glTF has a large number of extensions that support much of what is needed in a CDB environment. It was shown by Cesium and OpenFlight that development of features not currently supported by glTF is not difficult. OpenFlight has recommended that CDB start to allow glTF models to be used in a near-future version of CDB.</p>
</div>
<div class="paragraph">
<p><strong>Data conversions</strong>
Time-consuming, non-trivial task. Necessary to support the wide range of missions that CDB supports. InfoDao proposed batch conversion for long-term and allow real-time/interactive updates as needed in a <em>Disconnected, Interrupted, Intermittent, Low-Bandwidth</em> (DIIL) environment.</p>
</div>
<div class="paragraph">
<p><strong>Game engine and XR displays</strong>
SimBlocks.io, Steinbeis, and InfoDao showed how game engines (e.g., Unity or Unreal Engine) can be used to drive the client displays. These engines can be used in desktop, virtual (e.g., headsets), or augmented environments making them one of the most useful client side display drivers. Steinbeis built Androis and iOS Augmented and Virtual Reality apps running on phones to display 3D data.</p>
</div>
<div class="paragraph">
<p><strong>Conclude</strong>
The path is laid out through data conversion, use of modern model transmission formats, and standard commercial display engines. Travel along the path needs to be well-planned so that the entire community can fully participate and evaluate the progress. Progress towards this goal needs to be at a pace sufficiently fast to get there without leaving anyone or any critical features behind. There is much development to do and specifications to write</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Cesium"><a class="anchor" href="#Cesium"></a>9. Component Implementation: Cesium</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_overview_2"><a class="anchor" href="#_overview_2"></a>9.1. Overview</h3>
<div class="paragraph">
<p>In this Sprint, the Cesium team focused on exploring how extensions to glTF enable runtime-efficient storage and attribution of data stored in <a href="https://www.presagis.com/en/glossary/detail/openflight/">OpenFlight</a>, the 3D model format used in <a href="https://www.ogc.org/standards/cdb">CDB</a> datasets. Similarly, the team also investigated extensions to <a href="https://github.com/CesiumGS/3d-tiles">3D Tiles</a> that facilitated the conversion from CDB to 3D Tiles.</p>
</div>
<div class="paragraph">
<p>In the previous OGC ISG Sprint, the Cesium team focused on investigating the optimal method of serving 3D content from a CDB dataset into a web viewer. The result of that effort was an <a href="https://github.com/CesiumGS/cdb-to-3dtiles">open source CDB to 3D Tiles conversion pipeline</a>. The results of this Sprint were derived from work done to extend the pipeline to support new extensions to <a href="https://github.com/KhronosGroup/glTF">glTF</a> and 3D Tiles.</p>
</div>
</div>
<div class="sect2">
<h3 id="_conversion_from_cdb_to_3d_tiles_1_0"><a class="anchor" href="#_conversion_from_cdb_to_3d_tiles_1_0"></a>9.2. Conversion from <em>CDB</em> to <em>3D Tiles</em> 1.0</h3>
<div class="paragraph">
<p>The work in the previous Sprint covered the steps to convert a CDB dataset with 3D models to a 3D Tiles 1.0 tileset. Here’s a brief top-down summary:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Each available dataset is converted to a tileset, with references to each instance of the dataset across geocells.</p>
</li>
<li>
<p>The root tileset references all the dataset tilesets.</p>
</li>
<li>
<p>The CDB dataset&#8217;s level of detail hierarchy is used for creating the spatial index in the tileset.json</p>
</li>
<li>
<p>The Elevation and Imagery datasets are stitched together to create a terrain tileset.</p>
</li>
<li>
<p>Tilesets created from all datasets except GeoTypical models use the Batched 3D Model (.b3dm) format for their content.</p>
</li>
<li>
<p>The GeoTypical models use the Instanced 3D Model format (.i3dm) format for their content.</p>
</li>
<li>
<p>The metadata for each cultural feature is encoded in the Batch Table.</p>
</li>
<li>
<p>The geometry is converted to glTF.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_conversion_from_cdb_to_3d_tiles_next"><a class="anchor" href="#_conversion_from_cdb_to_3d_tiles_next"></a>9.3. Conversion from <em>CDB</em> to <em>3D Tiles Next</em></h3>
<div class="sect3">
<h4 id="_introduction_2"><a class="anchor" href="#_introduction_2"></a>9.3.1. Introduction</h4>
<div class="paragraph">
<p>This section discusses the conversion of data stored in CDB to a new Cesium-developed format <a href="https://github.com/CesiumGS/3d-tiles/blob/3d-tiles-next/3D_TILES_NEXT.md">3D Tiles Next</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_conversion_to_gltf"><a class="anchor" href="#_conversion_to_gltf"></a>9.3.2. Conversion to glTF</h4>
<div class="paragraph">
<p>As mentioned above, in 3D Tiles 1.0, the B3DM and I3DM formats use glTF to store the geometry and an additional binary payload, called the Batch Table, to store metadata associated with each feature. Features are identified using Batch IDs, which are stored as vertex attributes in the glTF.</p>
</div>
<div class="paragraph">
<p>There are cases where per-vertex attribution is not sufficient, and per-texel attribution is required. Such is the case with the Raster Material datasets (RMTexture, RMDescriptor), where a raster band in a TIFF file is used to index into an XML file. Such a capability is not currently supported by 3D Tiles 1.0; therefore, an extension to glTF 2.0 was utilized.</p>
</div>
</div>
<div class="sect3">
<h4 id="_feature_metadata"><a class="anchor" href="#_feature_metadata"></a>9.3.3. Feature Metadata</h4>
<div class="paragraph">
<p>The Cesium-developed feature metadata extension (<a href="https://github.com/CesiumGS/glTF/blob/feature-metadata/extensions/2.0/Vendor/EXT_feature_metadata/1.0.0">EXT_feature_metadata</a>) to glTF 2.0 enables per-vertex and per-texel attribution of metadata, metadata storage in binary or in textures, and specification of metadata schemas with support for enumerations. Through this extension, metadata can be embedded within the glTF payload, without need for an external payload such as the Batch Table.</p>
</div>
<div id="Cesium_EXT_feature_metadata_Diagram" class="imageblock text-center">
<div class="content">
<img src="images/Cesium/EXT_feature_metadata_1.png" alt="EXT feature metadata 1">
</div>
<div class="title">Figure 13. A block diagram showing the high-level data structures implemented in the feature metadata extension.</div>
</div>
<div class="sect4">
<h5 id="_per_texel_metadata_source_data"><a class="anchor" href="#_per_texel_metadata_source_data"></a>Per-Texel Metadata - Source Data</h5>
<div class="paragraph">
<p>The team utilized this extension to store the data in the Raster Material datasets when converting from CDB to 3D Tiles.</p>
</div>
<div id="Cesium-DataStructureBlocks" class="imageblock text-center">
<div class="content">
<img src="images/Cesium/RMTexture_TIFF.png" alt="RMTexture TIFF">
</div>
<div class="title">Figure 14. Feature information in the RMTexture from Aden, Yemen CDB (provided by Presagis) stored as TIFF.</div>
</div>
<div class="paragraph">
<p>The Raster Material datasets are the RMTexture and RMDescriptor datasets, where the RMTexture contains a TIFF file with a raster band, with each texel in the band containing an index value. The value in each texel is an index into a corresponding XML file, in the RMDescriptor dataset, which contains the material information for the area covered by the texel. Each Composite Material may have a Primary Substrate and one or more Secondary Substrates. The weights of all Base Materials in a Substrate must add up to 100.</p>
</div>
<div class="listingblock">
<div class="title">Composite Material Table</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;Composite_Material_Table&gt;</span>
    <span class="tag">&lt;Composite_Material</span> <span class="attribute-name">index</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">1</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;Name&gt;</span>OCEAN<span class="tag">&lt;/Name&gt;</span>
        <span class="tag">&lt;Primary_Substrate&gt;</span>
            <span class="tag">&lt;Material&gt;</span>
                <span class="tag">&lt;Name&gt;</span>BM_WATER-OCEAN<span class="tag">&lt;/Name&gt;</span>
                <span class="tag">&lt;Weight&gt;</span>100<span class="tag">&lt;/Weight&gt;</span>
            <span class="tag">&lt;/Material&gt;</span>
        <span class="tag">&lt;/Primary_Substrate&gt;</span>
    <span class="tag">&lt;/Composite_Material&gt;</span>
    <span class="tag">&lt;Composite_Material</span> <span class="attribute-name">index</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">2</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;Name&gt;</span>CITY<span class="tag">&lt;/Name&gt;</span>
        <span class="tag">&lt;Primary_Substrate&gt;</span>
            <span class="tag">&lt;Material&gt;</span>
                <span class="tag">&lt;Name&gt;</span>BM_CONCRETE<span class="tag">&lt;/Name&gt;</span>
                <span class="tag">&lt;Weight&gt;</span>40<span class="tag">&lt;/Weight&gt;</span>
            <span class="tag">&lt;/Material&gt;</span>
            <span class="tag">&lt;Material&gt;</span>
                <span class="tag">&lt;Name&gt;</span>BM_FOLIAGE-DECIDUOUS<span class="tag">&lt;/Name&gt;</span>
                <span class="tag">&lt;Weight&gt;</span>20<span class="tag">&lt;/Weight&gt;</span>
            <span class="tag">&lt;/Material&gt;</span>
            <span class="tag">&lt;Material&gt;</span>
                <span class="tag">&lt;Name&gt;</span>BM_ASPHALT<span class="tag">&lt;/Name&gt;</span>
                <span class="tag">&lt;Weight&gt;</span>20<span class="tag">&lt;/Weight&gt;</span>
            <span class="tag">&lt;/Material&gt;</span>
            <span class="tag">&lt;Material&gt;</span>
                <span class="tag">&lt;Name&gt;</span>BM_WOOD-DECIDUOUS<span class="tag">&lt;/Name&gt;</span>
                <span class="tag">&lt;Weight&gt;</span>10<span class="tag">&lt;/Weight&gt;</span>
            <span class="tag">&lt;/Material&gt;</span>
            <span class="tag">&lt;Material&gt;</span>
                <span class="tag">&lt;Name&gt;</span>BM_SHINGLE<span class="tag">&lt;/Name&gt;</span>
                <span class="tag">&lt;Weight&gt;</span>10<span class="tag">&lt;/Weight&gt;</span>
            <span class="tag">&lt;/Material&gt;</span>
        <span class="tag">&lt;/Primary_Substrate&gt;</span>
    <span class="tag">&lt;/Composite_Material&gt;</span>
<span class="tag">&lt;/Composite_Material_Table&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The Materials referenced in the Substrate(s) of a Composite Material are stored in the Base Material Table.</p>
</div>
<div class="listingblock">
<div class="title">Base Material Table</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;Base_Material_Table&gt;</span>
    <span class="tag">&lt;Base_Material&gt;</span>
        <span class="tag">&lt;Name&gt;</span>BM_DRYWALL<span class="tag">&lt;/Name&gt;</span>
        <span class="tag">&lt;Description&gt;</span>Drywall panel (aka plasterboard)<span class="tag">&lt;/Description&gt;</span>
    <span class="tag">&lt;/Base_Material&gt;</span>
    <span class="tag">&lt;Base_Material&gt;</span>
        <span class="tag">&lt;Name&gt;</span>BM_MACADAM<span class="tag">&lt;/Name&gt;</span>
        <span class="tag">&lt;Description&gt;</span>Macadam (roadway constructed by compacting into a solid mass of broken stone using cement or asphalt as binder)<span class="tag">&lt;/Description&gt;</span>
    <span class="tag">&lt;/Base_Material&gt;</span>
    <span class="tag">&lt;Base_Material&gt;</span>
        <span class="tag">&lt;Name&gt;</span>BM_METAL-IRON<span class="tag">&lt;/Name&gt;</span>
        <span class="tag">&lt;Description&gt;</span>Raw iron<span class="tag">&lt;/Description&gt;</span>
    <span class="tag">&lt;/Base_Material&gt;</span>
<span class="tag">&lt;/Base_Material_Table&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_per_texel_metadata_extension"><a class="anchor" href="#_per_texel_metadata_extension"></a>Per-Texel Metadata - Extension</h5>
<div class="paragraph">
<p>To bring these values into the EXT_feature_metadata extension, a <code>class</code> with <code>properties</code> needs to be defined to represent this metadata. In the example below, the <code>compositeMaterials</code> class represents a <code>Composite_Material</code> element from the Composite Material Table shown above.</p>
</div>
<div class="listingblock">
<div class="title">EXT_feature_metadata Composite Materials Class</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
  <span class="key"><span class="delimiter">&quot;</span><span class="content">classes</span><span class="delimiter">&quot;</span></span>: {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">compositeMaterials</span><span class="delimiter">&quot;</span></span>: {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">properties</span><span class="delimiter">&quot;</span></span>: {
        <span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>: {
          <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">STRING</span><span class="delimiter">&quot;</span></span>
        },
        <span class="key"><span class="delimiter">&quot;</span><span class="content">material</span><span class="delimiter">&quot;</span></span>: {
          <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">ARRAY</span><span class="delimiter">&quot;</span></span>,
          <span class="key"><span class="delimiter">&quot;</span><span class="content">componentType</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">ENUM</span><span class="delimiter">&quot;</span></span>,
          <span class="key"><span class="delimiter">&quot;</span><span class="content">enumType</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">baseMaterials</span><span class="delimiter">&quot;</span></span>
        },
        <span class="key"><span class="delimiter">&quot;</span><span class="content">weight</span><span class="delimiter">&quot;</span></span>: {
          <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">ARRAY</span><span class="delimiter">&quot;</span></span>,
          <span class="key"><span class="delimiter">&quot;</span><span class="content">componentType</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">UINT8</span><span class="delimiter">&quot;</span></span>
        }
      }
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>To efficiently represent the base materials, they were encoded as an enum (using a <code>UINT8</code>) instead of strings. In metadata storage, enums are referenced by their <code>value</code>, which can be assigned any value of the selected <code>valueType</code>.</p>
</div>
<div class="listingblock">
<div class="title">EXT_feature_metadata Base Materials Enumeration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
  <span class="key"><span class="delimiter">&quot;</span><span class="content">enums</span><span class="delimiter">&quot;</span></span>: {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">baseMaterials</span><span class="delimiter">&quot;</span></span>: {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">valueType</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">UINT8</span><span class="delimiter">&quot;</span></span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">values</span><span class="delimiter">&quot;</span></span>: [
        {
          <span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">BM_DRYWALL</span><span class="delimiter">&quot;</span></span>,
          <span class="key"><span class="delimiter">&quot;</span><span class="content">description</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Drywall panel (aka plasterboard)</span><span class="delimiter">&quot;</span></span>,
          <span class="key"><span class="delimiter">&quot;</span><span class="content">value</span><span class="delimiter">&quot;</span></span>: <span class="integer">0</span>
        },
        {
          <span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">BM_MACADAM</span><span class="delimiter">&quot;</span></span>,
          <span class="key"><span class="delimiter">&quot;</span><span class="content">description</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Macadam (roadway constructed by compacting into a solid mass of broken stone using cement or asphalt as binder)</span><span class="delimiter">&quot;</span></span>,
          <span class="key"><span class="delimiter">&quot;</span><span class="content">value</span><span class="delimiter">&quot;</span></span>: <span class="integer">1</span>
        },
        {
          <span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">BM_METAL-IRON</span><span class="delimiter">&quot;</span></span>,
          <span class="key"><span class="delimiter">&quot;</span><span class="content">description</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Raw iron</span><span class="delimiter">&quot;</span></span>,
          <span class="key"><span class="delimiter">&quot;</span><span class="content">value</span><span class="delimiter">&quot;</span></span>: <span class="integer">2</span>
        }
      ]
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The TIFF was converted to a PNG, with the values from the raster band stored in the red color channel of the PNG, and the same texture coordinates as those of the imagery were utilized in the extension at the mesh primitive level, since they cover the same area and use the same projection:</p>
</div>
<div class="listingblock">
<div class="title">EXT_feature_metadata Primitive Extension</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
  <span class="key"><span class="delimiter">&quot;</span><span class="content">primitives</span><span class="delimiter">&quot;</span></span>: [
    {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">attributes</span><span class="delimiter">&quot;</span></span>: {
        <span class="key"><span class="delimiter">&quot;</span><span class="content">POSITION</span><span class="delimiter">&quot;</span></span>: <span class="integer">0</span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">TEXCOORD_0</span><span class="delimiter">&quot;</span></span>: <span class="integer">1</span>
      },
      <span class="key"><span class="delimiter">&quot;</span><span class="content">indices</span><span class="delimiter">&quot;</span></span>: <span class="integer">2</span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">material</span><span class="delimiter">&quot;</span></span>: <span class="integer">0</span>,
      <span class="key"><span class="delimiter">&quot;</span><span class="content">extensions</span><span class="delimiter">&quot;</span></span>: {
        <span class="key"><span class="delimiter">&quot;</span><span class="content">EXT_feature_metadata</span><span class="delimiter">&quot;</span></span>: {
          <span class="key"><span class="delimiter">&quot;</span><span class="content">featureIdTextures</span><span class="delimiter">&quot;</span></span>: [
            {
              <span class="key"><span class="delimiter">&quot;</span><span class="content">featureTable</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">compositeMaterialsTable</span><span class="delimiter">&quot;</span></span>,
              <span class="key"><span class="delimiter">&quot;</span><span class="content">featureIds</span><span class="delimiter">&quot;</span></span>: {
                <span class="key"><span class="delimiter">&quot;</span><span class="content">texture</span><span class="delimiter">&quot;</span></span>: {
                  <span class="key"><span class="delimiter">&quot;</span><span class="content">texCoord</span><span class="delimiter">&quot;</span></span>: <span class="integer">0</span>,
                  <span class="key"><span class="delimiter">&quot;</span><span class="content">index</span><span class="delimiter">&quot;</span></span>: <span class="integer">0</span>
                },
                <span class="key"><span class="delimiter">&quot;</span><span class="content">channels</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">r</span><span class="delimiter">&quot;</span></span>
              }
            }
          ]
        }
      }
    }
  ]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Finally, the actual values for each composite material was stored in the composite materials feature table, encoded in binary according to the <a href="https://github.com/CesiumGS/3d-tiles/tree/3d-tiles-next/specification/Metadata/1.0.0">Cesium 3D Metadata Specification</a>, stored in glTF buffers and references using glTF bufferViews.</p>
</div>
<div id="Cesium_RMTexture_TerrainOverlay" class="imageblock text-center">
<div class="content">
<img src="images/Cesium/EXT_feature_metadata_5.png" alt="EXT feature metadata 5">
</div>
<div class="title">Figure 15. CesiumJS visualization of the per-texel metadata from Aden, Yemen CDB. The metadata was overlaid on the satellite imagery of the terrain.</div>
</div>
<div id="Cesium_RMTexture_MetadataLoLOD" class="imageblock text-center">
<div class="content">
<img src="images/Cesium/EXT_feature_metadata_3.png" alt="EXT feature metadata 3">
</div>
<div class="title">Figure 16. CesiumJS visualization of the per-texel metadata from Aden, Yemen CDB at a low-level of detail. Unlike <a href="#Cesium_RMTexture_TerrainOverlay">Figure 18</a> there were no overlays involved.</div>
</div>
<div id="Cesium_RMTexture_MetadataHiLOD" class="imageblock text-center">
<div class="content">
<img src="images/Cesium/EXT_feature_metadata_4.png" alt="EXT feature metadata 4">
</div>
<div class="title">Figure 17. CesiumJS visualization of the per-texel metadata from Aden, Yemen CDB at a high-level of detail taken near the center of <a href="#Cesium_RMTexture_MetadataLoLOD">Figure 19</a>.</div>
</div>
</div>
<div class="sect4">
<h5 id="_per_vertex_metadata"><a class="anchor" href="#_per_vertex_metadata"></a>Per-Vertex Metadata</h5>
<div class="paragraph">
<p>3D Tiles 1.0 supports metadata attribution through vertex attributes in glTF. EXT_feature_metadata takes a similar approach by adding a <code>_FEATURE_ID</code> vertex attribute that is used as an index into the Feature Table specified at the mesh primitive. The EXT_feature_metadata extension allows each metadata property to specify an identifier, a name, a data type and a description. As shown in the screenshot below, making these properties available to the user through a user interface helps add more context to the information being presented. It also aids in analysis and helping a user apply the right styling for the tileset.</p>
</div>
<div id="Cesium_RMTexture_TIFF" class="imageblock text-center">
<div class="content">
<img src="images/Cesium/EXT_feature_metadata_2.png" alt="EXT feature metadata 2">
</div>
<div class="title">Figure 18. The per-vertex metadata (as opposed to the per-texel metadata shown in figures <a href="#Cesium_RMTexture_TerrainOverlay">Figure 18</a> through <a href="#Cesium_RMTexture_MetadataHiLOD">Figure 20</a>) from CDB of Aden, Yemen CDB and visualized in CesiumJS. The vertices were classified and color coded according to their metadata.</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_gpu_instancing_of_meshes"><a class="anchor" href="#_gpu_instancing_of_meshes"></a>9.3.4. GPU Instancing of Meshes</h4>
<div class="paragraph">
<p>In 3D Tiles 1.0, the Instanced 3D Model (.i3dm) format is used to represent instanced meshes. This is the format of choice when converting 3D models from the GeoTypical model dataset. The I3DM format pairs an external payload, called the Feature Table, to the glTF to provide the transforms for each instance of the model. A Batch Table may also be added to include metadata per instance.</p>
</div>
<div class="paragraph">
<p>In 3D Tiles Next, the <a href="https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_mesh_gpu_instancing">EXT_mesh_gpu_instancing</a> extension is used to represent instanced meshes. The metadata per instance is stored in the EXT_feature_metadata object, which is applied as an extension to the EXT_mesh_gpu_instancing object.</p>
</div>
<div id="Cesium_EXT_mesh_gpu_instancing" class="imageblock text-center">
<div class="content">
<img src="images/Cesium/EXT_mesh_gpu_instancing_1.png" alt="EXT mesh gpu instancing 1">
</div>
<div class="title">Figure 19. Using the CesiumJS renderer meshes from GeoTypical tree models are stored once and rendered from CDB of Aden, Yemen.</div>
</div>
</div>
<div class="sect3">
<h4 id="_conversion_to_3d_tiles_next"><a class="anchor" href="#_conversion_to_3d_tiles_next"></a>9.3.5. Conversion to 3D Tiles Next</h4>
<div class="sect4">
<h5 id="_using_gltf_as_3d_tiles"><a class="anchor" href="#_using_gltf_as_3d_tiles"></a>Using glTF as 3D Tiles</h5>
<div class="paragraph">
<p>The <a href="https://github.com/CesiumGS/3d-tiles/tree/3d-tiles-next/extensions/3DTILES_content_gltf/0.0.0">3DTILES_content_gltf</a> extension to 3D Tiles enables using glTF files directly as content for tiles. This allows greater compatibility with existing tools that create or process glTF models. Runtime engines that currently support glTF can more easily support 3D Tiles.</p>
</div>
</div>
<div class="sect4">
<h5 id="_implicit_uniform_tiling"><a class="anchor" href="#_implicit_uniform_tiling"></a>Implicit Uniform Tiling</h5>
<div class="paragraph">
<p>In 3D Tiles 1.0, the tileset.json is used to create a spatial index to obtain a hierarchical level of detail, which helps with runtime performance. This flexibility in the spatial data structure is useful as tilesets may require different spatial hierarchies, based on the type of content and its density. However sometimes a uniform tiling scheme is desired. This is the case for the CDB geocells that subdivide evenly into 4 smaller tiles i.e. in a quadtree structure. The <a href="https://github.com/CesiumGS/3d-tiles/tree/3d-tiles-next/extensions/3DTILES_implicit_tiling">3DTILES_implicit_tiling</a> extension enables a compact and efficient representation of such hierarchies, where information about each tile&#8217;s availability is stored in a bitstream. Additionally, this extension enables random access of a tile in the tileset.</p>
</div>
<div class="listingblock">
<div class="title">3DTILES_implicit_tiling</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
  <span class="key"><span class="delimiter">&quot;</span><span class="content">asset</span><span class="delimiter">&quot;</span></span>: {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">version</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">1.0</span><span class="delimiter">&quot;</span></span>
  },
  <span class="key"><span class="delimiter">&quot;</span><span class="content">extensionsRequired</span><span class="delimiter">&quot;</span></span>: [
    <span class="string"><span class="delimiter">&quot;</span><span class="content">3DTILES_implicit_tiling</span><span class="delimiter">&quot;</span></span>
  ],
  <span class="key"><span class="delimiter">&quot;</span><span class="content">extensionsUsed</span><span class="delimiter">&quot;</span></span>: [
    <span class="string"><span class="delimiter">&quot;</span><span class="content">3DTILES_implicit_tiling</span><span class="delimiter">&quot;</span></span>
  ],
  <span class="key"><span class="delimiter">&quot;</span><span class="content">root</span><span class="delimiter">&quot;</span></span>: {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">children</span><span class="delimiter">&quot;</span></span>: [
      {
        <span class="key"><span class="delimiter">&quot;</span><span class="content">children</span><span class="delimiter">&quot;</span></span>: [
          {
            <span class="key"><span class="delimiter">&quot;</span><span class="content">content</span><span class="delimiter">&quot;</span></span>: {
              <span class="key"><span class="delimiter">&quot;</span><span class="content">uri</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">N12E044_D001_S001_T001_L{level}_U{y}_R{x}.glb</span><span class="delimiter">&quot;</span></span>
            },
            <span class="key"><span class="delimiter">&quot;</span><span class="content">extensions</span><span class="delimiter">&quot;</span></span>: {
              <span class="key"><span class="delimiter">&quot;</span><span class="content">3DTILES_implicit_tiling</span><span class="delimiter">&quot;</span></span>: {
                <span class="key"><span class="delimiter">&quot;</span><span class="content">maximumLevel</span><span class="delimiter">&quot;</span></span>: <span class="integer">1</span>,
                <span class="key"><span class="delimiter">&quot;</span><span class="content">subdivisionScheme</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">QUADTREE</span><span class="delimiter">&quot;</span></span>,
                <span class="key"><span class="delimiter">&quot;</span><span class="content">subtreeLevels</span><span class="delimiter">&quot;</span></span>: <span class="integer">7</span>,
                <span class="key"><span class="delimiter">&quot;</span><span class="content">subtrees</span><span class="delimiter">&quot;</span></span>: {
                  <span class="key"><span class="delimiter">&quot;</span><span class="content">uri</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">subtrees/{level}_{x}_{y}.subtree</span><span class="delimiter">&quot;</span></span>
                    }
              }
            }
          }
        ],
        <span class="key"><span class="delimiter">&quot;</span><span class="content">content</span><span class="delimiter">&quot;</span></span>: {
          <span class="key"><span class="delimiter">&quot;</span><span class="content">uri</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">N12E044_D001_S001_T001_LC1_U0_R0.glb</span><span class="delimiter">&quot;</span></span>
        }
      }
    ],
    <span class="key"><span class="delimiter">&quot;</span><span class="content">content</span><span class="delimiter">&quot;</span></span>: {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">uri</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">N12E044_D001_S001_T001_LC2_U0_R0.glb</span><span class="delimiter">&quot;</span></span>
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Since each negative level of a CDB geocell has only one descendent and covers the same area as its parent, explicit tiling is used. For the positive levels, the 3DTILES_implicit_tiling extension can be applied. Tiles can be randomly accessed using their level and x-y coordinates in the content URI template. The folder structure looks as follows:</p>
</div>
<div id="Cesium_3DTILES_implicit_tiling_1" class="imageblock text-center">
<div class="content">
<img src="images/Cesium/Implicit_tiling_folder.png" alt="Implicit tiling folder">
</div>
<div class="title">Figure 20. An image showing the folder Structure with the 3DTILES_implicit_tiling extension.</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_conclusion"><a class="anchor" href="#_conclusion"></a>9.3.6. Conclusion</h4>
<div class="paragraph">
<p>The Cesium team&#8217;s efforts resulted in a validation of glTF and 3D Tiles extensions that add new capabilities to 3D Tiles such as implicit tiling and per-texel metadata. These capabilities enable better representation of CDB datasets as 3D Tiles as they retain more semantic metadata and allow for random access for tiles. This yields a much richer simulation environment at runtime and facilitates the dissemination of CDB datasets with optimal runtime performance.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Ecere"><a class="anchor" href="#Ecere"></a>10. Component Implementation: Ecere</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_overview_3"><a class="anchor" href="#_overview_3"></a>10.1. Overview</h3>
<div class="paragraph">
<p>For the second year OGC Interoperable Simulation and Gaming Sprint, Ecere focused efforts on improving visualization and streaming of 3D geospatial content.
Those efforts spanned multiple tasks, improving capabilities in its <a href="https://ecere.ca/gnosis">GNOSIS geospatial software</a> for:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>visualizing and distributing the <a href="https://www.geopackage.org/">GeoPackage</a> data store prototype of the next version of the <a href="https://www.ogc.org/standards/cdb">OGC CDB</a> standard,</p>
</li>
<li>
<p>generating and visualizing <a href="http://www.opengis.net/doc/CS/3DTiles/1.0">3D Tiles</a> tilesets,</p>
</li>
<li>
<p>distributing and accessing 3D data using 3D extensions of the <a href="http://docs.ogc.org/DRAFTS/20-057.html"><em>OGC API - Tiles</em></a> and <a href="https://docs.opengeospatial.org/DRAFTS/17-083r3.html"><em>2D Tile Matrix Set and Tileset Metadata</em></a> standards and</p>
</li>
<li>
<p>importing and exporting 3D models between <a href="https://www.khronos.org/gltf/">glTF</a>, <a href="https://www.khronos.org/collada/">COLLADA</a> and Ecere&#8217;s <a href="https://github.com/ecere/E3D-spec">E3D open 3D model format</a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_cdb_x_prototyped_geopackage_store"><a class="anchor" href="#_cdb_x_prototyped_geopackage_store"></a>10.2. CDB X Prototyped GeoPackage Store</h3>
<div class="paragraph">
<p>In the 2020 3D Tech Sprint to lay the foundations for the next version of the OGC CDB standard,
provisionally named CDB X, Ecere was part of the team prototyping a data store for it based on the OGC GeoPackage standard and extensions.</p>
</div>
<div class="paragraph">
<p>In this year&#8217;s ISG Sprint, Ecere aimed to visualize the San Diego dataset produced according to this prototyped CDB X data store
as well as provide distributions sourced directly from it.</p>
</div>
<div class="paragraph">
<p>Good progress was made towards achieving this goal.</p>
</div>
<div class="paragraph">
<p>As a result of the visualization attempts, some minor mistakes were identified in the prototyped CDB X dataset, including
a mismatched reference to a GeoPackage table where the <code>tiles_</code> prefix should not have been included, as well as wrong scaling and offset
values in tables for the Gridded Coverage extension used for representing elevation data.
Once corrected, Ecere plans to update those GeoPackage CDB X data store prototypes which are hosted on the OGC portal within a
<a href="https://portal.ogc.org/index.php?m=projects&amp;a=view&amp;project_id=466&amp;tab=2&amp;artifact_id=95315">directory of the CDB SWG</a>.</p>
</div>
<div id="Ecere_CDBX1" class="imageblock text-center">
<div class="content">
<img src="images/Ecere/cdbx1.jpg" alt="cdbx1" width="800">
</div>
<div class="title">Figure 21. Imagery, roads and hydrography from San Diego CDB X prototype configured with 5-LODs per GeoPackage visualized using new GNOSIS CDB X data store in GNOSIS Cartographer.</div>
</div>
<div id="Ecere_CDBX2" class="imageblock text-center">
<div class="content">
<img src="images/Ecere/cdbx2.jpg" alt="cdbx2" width="800">
</div>
<div class="title">Figure 22. Imagery and 3D Terrain from San Diego CDB X prototype configured with 5-LODs per GeoPackage visualized using new GNOSIS CDB X data store in GNOSIS Cartographer.</div>
</div>
<div id="Ecere_CDBX3" class="imageblock text-center">
<div class="content">
<img src="images/Ecere/cdbx3.jpg" alt="cdbx3" width="800">
</div>
<div class="title">Figure 23. San Diego CDB X prototype configured with 5-LODs per GeoPackage served directly in GNOSIS Map Server using new CDB X data store.</div>
</div>
<div id="Ecere_CDBX4" class="imageblock text-center">
<div class="content">
<img src="images/Ecere/cdbx4.jpg" alt="cdbx4" width="800">
</div>
<div class="title">Figure 24. High resolution imagery from San Diego CDB X prototype configured with 5-LODs per GeoPackage served directly in GNOSIS Map Server using new CDB X data store.</div>
</div>
<div id="Ecere_CDBX5" class="imageblock text-center">
<div class="content">
<img src="images/Ecere/cdbx5.jpg" alt="cdbx5" width="800">
</div>
<div class="title">Figure 25. Elevation data from San Diego CDB X prototype configured with 5-LODs per GeoPackage served directly in GNOSIS Map Server using new CDB X data store.</div>
</div>
<div class="sect3">
<h4 id="_configuration_of_data_layers_and_zoom_levels_grouping"><a class="anchor" href="#_configuration_of_data_layers_and_zoom_levels_grouping"></a>10.2.1. Configuration of data layers and zoom levels grouping</h4>
<div class="paragraph">
<p>A key aspect of the proposed CDB X GeoPackage store is a configurable and deterministic system to partition very large datasets. This allows a global data at high resolution to be particioned into multiple GeoPackages, allowing the system to balance the number of files with the size of each file.
In one configuration, a single GeoPackage may contain the entire CDB content for a small area, making it easy to pre-load on mobile devices,
e.g. for a specific mission.
In another configuration, an individual GeoPackage may contain only a particular data layer, such as e.g. terrain elevation, satellite imagery or 3D models.</p>
</div>
<div class="paragraph">
<p>A decision can also be made whether data should be split into multiple GeoPackages based on geographic location or not.
When such a split is desired, each GeoPackage can still regroup multiple data tiles within the same extent.
One purpose of tiles is to ensure a deterministic amount of data being loaded at any given time for any camera location.
For this reason, tiles have an associated "zoom level" (a "tile matrix" in the 2D Tile Matrix Set standard), and tiles of lower zoom levels
would contain data at lower resolution but cover a larger geographic extent.
The grouping of multiple tiles inside a single GeoPackage is therefore decided by configuring how many zoom levels of tiles will be contained within a single GeoPackage tile pyramid.
The GeoPackages file and directory names will be identified by the lowest resolution tile contained within, and will contain all tiles within the extent of
that tile for the next (more detailed) zoom levels up to that configured maximum number of grouped zoom level.
The grouping of zoom level starts from the maximum level so as to minimize the file count, so that if the total number of zoom levels is not divisible
by the zoom level grouping, the GeoPackages starting grouping tiles at level 0 will contain fewer zoom levels.
Details can be found in the <a href="https://github.com/sofwerx/cdb2-eng-report/blob/master/11-tiling-coverages.adoc">Tiling section</a> of the CDB X Tech Sprint Discussion Paper (OGC document number 20-092).</p>
</div>
<div class="paragraph">
<p>During the Sprint, Ecere implemented the capability to present a CDB X GeoPackage data store as a single data source with nested data layers, each representing
components such as terrain elevation, satellite imagery or 3D models, supporting any of the possible configurations of how data layers and tiles are grouped.
The configuration is read from the proposed <code>cdb.json</code> file describing how the data is packaged. These data sources can then be visualized in GNOSIS Cartographer,
or distributed from GNOSIS Map Server as either 3D Tiles tilesets (with support for the GeoVolumes API) or through OGC API - Tiles, including 3D extensions
for retrieving 3D models. Ecere developed a new dedicated data store driver for CDB X to be able to access data as needed from different GeoPackages based on
different configurations and manage the use of multiple databases at once. The GNOSIS GeoPackage driver was also refactored to facilitate code re-use with
this new CDB X data store.</p>
</div>
</div>
<div class="sect3">
<h4 id="_geopackage_3d_models_extension"><a class="anchor" href="#_geopackage_3d_models_extension"></a>10.2.2. GeoPackage 3D Models extension</h4>
<div class="paragraph">
<p>A second important aspect of the proposed CDB X GeoPackage store is an extension for storing 3D models inside GeoPackages.
Those 3D models may be stored in a shared 3D models table and instanced at multiple geographic locations, which is particularly useful for geotypical models
such as trees making up a forest.
They may also be batched 3D models, best suited for geospecific models, where all 3D models within a tile are stored inside a single tile blob of a
GeoPackage tiles table record.
In either case, the format of the model may be OpenFlight or glTF, or an alternate format such as <a href="https://github.com/ecere/E3D-spec">E3D</a> in the case of some of the Ecere experiments.
In the instancing approach, either regular vector point features (encoded as Well Known Binary) or GeoPackage vector tiles would contain the geographic
coordinates allowing geo-referencing of the 3D model, and optionally additional attributes orienting and/or scaling the model, as in the OGC CDB 1.x standard.
In the batched 3D models approach, the origin of the 3D model is the center of the tile at the ellipsoid height.
The 3D model is oriented relative to the tangent of the Earth surface at the geo-referencing position so that:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the axis of the 3D model extending towards the right of the model points Eastwards,</p>
</li>
<li>
<p>the axis of the 3D model extending towards the top of the model points upwards away from the center of the Earth, and</p>
</li>
<li>
<p>the axis of the 3D model extending towards the back of the model points Northwards.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In the case of instanced models, any specified rotation is relative to this orientation.</p>
</div>
<div class="paragraph">
<p>A positive rotation specified outside of the model itself is counter-clockwise when looking in the positive direction of the axis around which the rotation is performed.
For roll, this follows the left-handed coordinate system rules as they align with the cardinal direction signs,
i.e. a positive roll rotating around the South-North axis banks counter-clockwise to the left.</p>
</div>
<div class="paragraph">
<p>During the Sprint, Ecere migrated the <a href="https://github.com/ecere/geopackage/tree/master/spec/3d-models">draft specifications for this 3D models extension</a>
(developed during the CDB X tech sprint) to a fork of the official GeoPackage repository. Work is ongoing to improve these specifications to take the
form of formal requirements and use OGC templates for specifications. Ecere also began implementing support for directly accessing those 3D models in
the GNOSIS GeoPackage and CDB X drivers, so that they can be visualized in GNOSIS Cartographer and published from GNOSIS Map Server.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_3d_tiles_distribution"><a class="anchor" href="#_3d_tiles_distribution"></a>10.3. 3D Tiles distribution</h3>
<div class="sect3">
<h4 id="_generating_tilesets"><a class="anchor" href="#_generating_tilesets"></a>10.3.1. Generating tilesets</h4>
<div class="paragraph">
<p>Ecere improved the generation of 3D Tiles tilesets in its GNOSIS Map Server.
A sample of the newly generated 3D Tiles tileset is available for the San Diego buildings
<a href="https://maps.ecere.com/ogcapi/collections/SanDiegoCDB:Buildings/3DTiles/tileset.json">here</a>.
One major improvement was generating 3D Tiles for data at lower resolution levels and associating a correct geometric error to each level.
This enabled visualization clients such as the CesiumJS library to perform better while loading data for a larger geographic area.
Models further away can be presented at lower resolution, while those closer to the camera can be displayed at full resolution.
Lower resolution tiles may also contain fewer models than higher resolution ones.
The 3D Tiles tilesets generated by the GNOSIS Map Server leverage the <em>OGC API - Tiles</em> end-points and the GNOSIS Global Grid tile matrix set.
Therefore the geometry inside each batched 3D models (<code>.b3dm</code>) 3D Tile is oriented relative to the tangent of the Earth surface at the center of the tile so that:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the axis of the 3D model extending towards the right of the model points Eastwards,</p>
</li>
<li>
<p>the axis of the 3D model extending towards the top of the model points upwards away from the center of the Earth, and</p>
</li>
<li>
<p>the axis of the 3D model extending towards the back of the model points Northwards.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The JSON tileset description then provides transformation matrices re-orienting the models in the Earth Centered Earth Fixed (ECEF) 3D Cartesian system expected by <em>3D Tiles</em>.
Ecere suggests that such a setup could be one kind of implicit tiling schemes supported by <em>3D Tiles Next</em>, based on the <em>2D Tile Matrix Set and
Tileset Metadata</em> standard, where a client would not require a JSON tileset description at all, and tiles could be directly accessed in a deterministic manner,
as in CDB.</p>
</div>
<div class="paragraph">
<p>It was particularly difficult to correctly populate these transformations, especially as each level is relative to the parent tile&#8217;s transform. Each level may or may not provide a content payload and additional rules determine the mapping of glTF model axes to 3D Tiles.</p>
</div>
<div class="paragraph">
<p>A major challenge encountered had to do with the presence of one of parent tiles in a hierarchy not having an associated content payload.
In this case, setting the refinement method to <code>REPLACE</code> prevented refinement of the tileset for CesiumJS,
with the result that more detailed levels would never be requested.
CesiumJS appears to not consider that all children were refined since one of them had no content specified at
a particular level and its geometric error was not suitable for refinement yet, and as a result none of its siblings tile (already suitable
for refinement based on their geometric error) would be refined either. Various attempts at tweaking the refinement mode at different levels of the hierarchy
and figuring out the proper interpretation of the specifications were made but to no avail.
A previously reported <a href="https://github.com/CesiumGS/cesium/issues/9356">CesiumJS issue</a> was discovered that seems to describe this exact problem. It is not clear
if this is a bug in the code or the 3D Tiles specifications not properly explaining this behavior.
To work around this issue, Ecere added a <code>.b3dm</code> file with empty content for those parent tiles with no associated content and this solved the issue:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">  <span class="key"><span class="delimiter">&quot;</span><span class="content">content</span><span class="delimiter">&quot;</span></span> : { <span class="key"><span class="delimiter">&quot;</span><span class="content">uri</span><span class="delimiter">&quot;</span></span> : <span class="string"><span class="delimiter">&quot;</span><span class="content">/ogcapi/empty.b3dm</span><span class="delimiter">&quot;</span></span> },</code></pre>
</div>
</div>
<div class="paragraph">
<p>Since the client behaves as expected with this awkward work-around, Ecere&#8217;s opinion is that the behavior of the CesiumJS implementation should be fixed
to reflect the likely interpretation of the 3D Tiles specifications.</p>
</div>
<div class="paragraph">
<p>While the generated tilesets, like the source CDB data, re-used shared textures with the same external URLs for different models, it was noted that the
CesiumJS implementation does not yet seem optimized to take this into account. This may result in a very significant unnecessary overhead in texture memory
usage which was also highlighted by other participants as a major challenge in distributing and accessing content 3D Tiles generated from CDB.</p>
</div>
<div id="Ecere_CesiumJS1" class="imageblock text-center">
<div class="content">
<img src="images/Ecere/cesiumJS-sandiego.jpg" alt="cesiumJS sandiego" width="800">
</div>
<div class="title">Figure 26. Using CesiumJS to visualize the generated San Diego 3D Tiles tilesets.</div>
</div>
<div id="Ecere_CesiumJS2" class="imageblock text-center">
<div class="content">
<img src="images/Ecere/cesiumJS-sandiego1.jpg" alt="cesiumJS sandiego1" width="800">
</div>
<div class="title">Figure 27. Using CesiumJS to visualize a second view of the generated San Diego 3D Tiles tilesets.</div>
</div>
<div id="Ecere_CesiumJS3" class="imageblock text-center">
<div class="content">
<img src="images/Ecere/cesiumJS-sandiego2.jpg" alt="cesiumJS sandiego2" width="800">
</div>
<div class="title">Figure 28. Using CesiumJS to visualize a third view of the generated San Diego 3D Tiles tilesets.</div>
</div>
<div id="Ecere_CesiumJS4" class="imageblock text-center">
<div class="content">
<img src="images/Ecere/cesium-more-models.jpg" alt="cesium more models" width="800">
</div>
<div class="title">Figure 29. Using CesiumJS to visualize a top-down view with many models of the generated San Diego 3D Tiles tilesets.</div>
</div>
<div id="Ecere_CesiumJS5" class="imageblock text-center">
<div class="content">
<img src="images/Ecere/cesium-fewer-models.jpg" alt="cesium fewer models" width="800">
</div>
<div class="title">Figure 30. Using CesiumJS to visualize a top-down view with fewer models (relative to <a href="#Ecere_CesiumJS4">Figure 32</a>) of the generated San Diego 3D Tiles tilesets.</div>
</div>
<div id="Ecere_CesiumJS6" class="imageblock text-center">
<div class="content">
<img src="images/Ecere/cesium-even-fewer-models.jpg" alt="cesium even fewer models" width="800">
</div>
<div class="title">Figure 31. Using CesiumJS to visualize a top-down view with minimal  models (relative to <a href="#Ecere_CesiumJS4">Figure 32</a> and <a href="#Ecere_CesiumJS5">Figure 33</a>) of the generated San Diego 3D Tiles tilesets.</div>
</div>
</div>
<div class="sect3">
<h4 id="_client_visualizing_3d_tiles"><a class="anchor" href="#_client_visualizing_3d_tiles"></a>10.3.2. Client visualizing <em>3D Tiles</em></h4>
<div class="paragraph">
<p>Ecere improved its <em>3D Tiles</em> client to better handle tilesets generated using different approaches, such as where transforms are specified.
This was necessary to properly visualize the new tilesets generated by the GNOSIS Map Server which now contains transforms at different levels
of the hierarchy. The variability in how transforms are specified, such as differences between tilesets generated prior to 3D Tiles version 1.0,
the RTC extension, and the optional presence of transforms at different levels of the hierarchy or at the root of the tileset, the fact that transforms are
relative to parent transforms as well as an implied change of orientation between glTF and 3D Tiles makes properly handling transformations quite difficult.</p>
</div>
<div class="paragraph">
<p>Multiple datasets were used for validating these improvements, including the new San Diego tilesets generated by the GNOSIS Map Server, the New York
OpenStreetMap 3D buildings from the 3D Containers &amp; Tiles pilot and the OGC Testbed 13 Berlin dataset from Virtual City Systems. More testing with
additional datasets is planned to ensure the logic is now correct.</p>
</div>
<div class="paragraph">
<p>Ecere also attempted to visualize the data provided by the Steinbeis <em>GeoVolumes</em> server; however, the GNOSIS client was not able to handle the coordinates
which seemed to be specified in a projection with no clear indication of how the geo-referencing should be done.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_ogc_api_tiles_distribution"><a class="anchor" href="#_ogc_api_tiles_distribution"></a>10.4. <em>OGC API - Tiles</em> distribution</h3>
<div class="paragraph">
<p>In previous initiatives, including the <a href="https://docs.ogc.org/per/18-025.html">OGC Testbed 14 CityGML and Augmented Reality</a>,
<a href="https://docs.ogc.org/per/20-029.html">3D Containers and Tiles pilot</a>, and last year&#8217;s <a href="http://docs.ogc.org/per/20-087.html">ISG Sprint</a>,
Ecere prototyped and demonstrated a simple approach to deliver 3D content by leveraging and extending the <em>OGC API - Tiles</em> specifications.
In this year&#8217;s sprint, Ecere further improved support for this approach in both its GNOSIS Map Server and its GNOSIS Cartographer visualization client.
Additionally, Ecere developed a new <a href="https://docs.opengeospatial.org/DRAFTS/17-083r3.html#annex-extending-additional-dimensinos">informative annex</a>
 for the <em>2D Tile Matrix Set &amp; TileSet Metadata</em> standard extending its capabilities to support content
of higher dimensions, such as 3D content. This annex will form a basis for standardizing temporal and 3D extensions for <em>OGC API - Tiles</em>.
Furthermore, as a result of an increased appreciation of the simplicity and interoperability of this approach,
the charter for the <em>GeoVolumes</em> standard working group was expanded to cover the development of such extensions to <em>OGC API - Tiles</em>
as a mechanism to deterministically access 3D data for a specific area of interest, in a manner agnostic to the format of the data.</p>
</div>
<div class="paragraph">
<p>Extensions specific to 3D models would also be developed for both:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>points vector tiles referencing and instancing shared models (available from a new <code>&#8230;&#8203;/models/{modelId}</code> resources path within the OGC API <em>collection</em>), which
can also contain additional properties to orient and scale individual models, best suited for geotypical models,</p>
</li>
<li>
<p>batched 3D models where a tile&#8217;s payload batches all 3D models contained within the tile&#8217;s extent, best suited for geospecific models,
which are oriented relative to the tangent of the Earth surface at the center of the tile so that:</p>
<div class="ulist">
<ul>
<li>
<p>the axis of the 3D model extending towards the right of the model points Eastwards,</p>
</li>
<li>
<p>the axis of the 3D model extending towards the top of the model points upwards away from the center of the Earth, and</p>
</li>
<li>
<p>the axis of the 3D model extending towards the back of the model points Northwards.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>A positive rotation specified outside of the model itself is counter-clockwise looking in the positive direction of the axis around which the rotation is performed.
For roll, this follows the left-handed coordinate system rules as they align with the cardinal direction signs,
i.e. a positive roll rotating around the South to North axis banks counter-clockwise to the left.</p>
</div>
<div class="paragraph">
<p>Both approaches could also re-use textures also available from a new <code>&#8230;&#8203;/textures/{textureId}</code> resources path within the OGC API <em>collection</em>.</p>
</div>
<div class="paragraph">
<p>For shared 3D models, supported formats may include glTF, OpenFlight, or alternatives such as the open <a href="https://github.com/ecere/E3D-spec">E3D model format</a> developed by Ecere.
For geospecific tiles payloads, supported formats may additionally include <em>3D Tiles</em> formats such as <code>.b3dm</code>, and may also be directly linked
as the <code>content</code> for defining <em>3D Tiles</em> tilests.</p>
</div>
<div class="paragraph">
<p>The imagery and elevation components from CDB 1.x or CDB X data stores can be delivered without the need for an extension, as map tilesets
and coverage tilesets respectively.</p>
</div>
<div id="Ecere_SD1" class="imageblock text-center">
<div class="content">
<img src="images/Ecere/gnosis-sandiego1.jpg" alt="gnosis sandiego1" width="800">
</div>
<div class="title">Figure 32. A composite visualization of the San Diego CDB dataset in GNOSIS Cartographer client. High altitude view showing Gaia Sky in color from ESA, Visible Earth Blue Marble from NASA, and elevation data from Jonathan de Ferranti&#8217;s ViewFinderPanorama (including data from SRTM, NASA / USGS).</div>
</div>
<div id="Ecere_SD2" class="imageblock text-center">
<div class="content">
<img src="images/Ecere/gnosis-sandiego2.jpg" alt="gnosis sandiego2" width="800">
</div>
<div class="title">Figure 33. A composite visualization of the San Diego CDB dataset in GNOSIS Cartographer client at lower elevation relative to <a href="#Ecere_SD1">Figure 35</a>.</div>
</div>
<div id="Ecere_SD3" class="imageblock text-center">
<div class="content">
<img src="images/Ecere/gnosis-sandiego3.jpg" alt="gnosis sandiego3" width="800">
</div>
<div class="title">Figure 34. A composite visualization of the San Diego CDB dataset in GNOSIS Cartographer client showing all of San Diego Bay.</div>
</div>
<div id="Ecere_SD4" class="imageblock text-center">
<div class="content">
<img src="images/Ecere/gnosis-sandiego4.jpg" alt="gnosis sandiego4" width="800">
</div>
<div class="title">Figure 35. A composite visualization of the San Diego CDB dataset in GNOSIS Cartographer client showing Coronado Cays.</div>
</div>
<div id="Ecere_SD5" class="imageblock text-center">
<div class="content">
<img src="images/Ecere/gnosis-sandiego5.jpg" alt="gnosis sandiego5" width="800">
</div>
<div class="title">Figure 36. A composite visualization of the San Diego CDB dataset in GNOSIS Cartographer client with downtown San Diego in the background.</div>
</div>
<div id="Ecere_SD6" class="imageblock text-center">
<div class="content">
<img src="images/Ecere/gnosis-sandiego6.jpg" alt="gnosis sandiego6" width="800">
</div>
<div class="title">Figure 37. A composite visualization of the San Diego CDB dataset in GNOSIS Cartographer client showing Coronado Bridge.</div>
</div>
<div id="Ecere_SD7" class="imageblock text-center">
<div class="content">
<img src="images/Ecere/gnosis-sandiego7.jpg" alt="gnosis sandiego7" width="800">
</div>
<div class="title">Figure 38. A composite visualization of the San Diego CDB dataset in GNOSIS Cartographer client showing Petco Park.</div>
</div>
<div id="Ecere_SD8" class="imageblock text-center">
<div class="content">
<img src="images/Ecere/gnosis-sandiego8.jpg" alt="gnosis sandiego8" width="800">
</div>
<div class="title">Figure 39. A composite visualization of the San Diego CDB dataset in GNOSIS Cartographer client showing Children&#8217;s Park.</div>
</div>
<div id="Ecere_SD9" class="imageblock text-center">
<div class="content">
<img src="images/Ecere/gnosis-sandiego9.jpg" alt="gnosis sandiego9" width="800">
</div>
<div class="title">Figure 40. A composite visualization of the San Diego CDB dataset in GNOSIS Cartographer client showing buildings in downtown San Diego.</div>
</div>
<div id="Ecere_SD10" class="imageblock text-center">
<div class="content">
<img src="images/Ecere/gnosis-sandiego10.jpg" alt="gnosis sandiego10" width="800">
</div>
<div class="title">Figure 41. A composite visualization of the San Diego CDB dataset in GNOSIS Cartographer client showing a view from downtown to the eastern suburbs.</div>
</div>
<div id="Ecere_SD11" class="imageblock text-center">
<div class="content">
<img src="images/Ecere/gnosis-sandiego11.jpg" alt="gnosis sandiego11" width="800">
</div>
<div class="title">Figure 42. A composite visualization of the San Diego CDB dataset in GNOSIS Cartographer client showing a view to the south of Children&#8217;s Park.</div>
</div>
<div id="Ecere_SD12" class="imageblock text-center">
<div class="content">
<img src="images/Ecere/gnosis-sandiego12.jpg" alt="gnosis sandiego12" width="800">
</div>
<div class="title">Figure 43. A composite visualization of the San Diego CDB dataset in GNOSIS Cartographer client showing San Diego Bay and Coronado.</div>
</div>
<div id="Ecere_SD13" class="imageblock text-center">
<div class="content">
<img src="images/Ecere/gnosis-sandiego13.jpg" alt="gnosis sandiego13" width="800">
</div>
<div class="title">Figure 44. A composite visualization of the San Diego CDB dataset in GNOSIS Cartographer client showing housing on Coronado.</div>
</div>
<div id="Ecere_SD14" class="imageblock text-center">
<div class="content">
<img src="images/Ecere/gnosis-sandiego14.jpg" alt="gnosis sandiego14" width="800">
</div>
<div class="title">Figure 45. A composite visualization of the San Diego CDB dataset in GNOSIS Cartographer client showing North Island Naval Air Station.</div>
</div>
<div id="Ecere_SD15" class="imageblock text-center">
<div class="content">
<img src="images/Ecere/gnosis-sandiego15.jpg" alt="gnosis sandiego15" width="800">
</div>
<div class="title">Figure 46. A composite visualization of the San Diego CDB dataset in GNOSIS Cartographer client showing Point Loma.</div>
</div>
<div id="Ecere_SD16" class="imageblock text-center">
<div class="content">
<img src="images/Ecere/gnosis-sandiego16.jpg" alt="gnosis sandiego16" width="800">
</div>
<div class="title">Figure 47. A composite visualization of the San Diego CDB dataset in GNOSIS Cartographer client showing Sam Diego International Airport.</div>
</div>
</div>
<div class="sect2">
<h3 id="_interoperable_3d_model_formats"><a class="anchor" href="#_interoperable_3d_model_formats"></a>10.5. Interoperable 3D model formats</h3>
<div class="paragraph">
<p>In collaboration with Steinbeis, Ecere initiated work towards demonstrating the visualization of integrated indoor and outdoor geospatial data.
Leveraging the advantages of tiling, Ecere&#8217;s GNOSIS geospatial visualization Software Development Kit can support visualization of data from a global scale
to local scale at high resolution, such as for indoor Augmented Reality scenarios.</p>
</div>
<div class="paragraph">
<p>Experiments focused on visualization of a 3D model of a Hochschule für Technik (HfT) Stuttgart building, including interior details, integrated within
data from its surrounding geographic area, such as buildings sourced from OpenStreetMap data.</p>
</div>
<div id="Ecere_HfT1" class="imageblock text-center">
<div class="content">
<img src="images/Ecere/HfT2.jpg" alt="HfT2" width="800">
</div>
<div class="title">Figure 48. 3D Model of Hochschule für Technik (HfT) Stuttgart provided by Steinbeis in COLLADA as visualized in Ecere&#8217;s 3D Model viewer.</div>
</div>
<div id="Ecere_HfT2" class="imageblock text-center">
<div class="content">
<img src="images/Ecere/HfT-Globe.jpg" alt="HfT Globe" width="800">
</div>
<div class="title">Figure 49. A global view of the Earth in Ecere&#8217;s GNOSIS Cartographer in which HfT 3D Model was integrated with other geospatial data. This view includes Gaia Sky in color from ESA, Visible Earth Blue Marble from NASA and elevation data from Jonathan de Ferranti&#8217;s ViewFinderPanorama (including data from SRTM, NASA / USGS).</div>
</div>
<div id="Ecere_HfT3" class="imageblock text-center">
<div class="content">
<img src="images/Ecere/HfT-Alps.jpg" alt="HfT Alps" width="800">
</div>
<div class="title">Figure 50. This is an intermediate zoom into Europe with a view of the Alps.</div>
</div>
<div id="Ecere_HfT4" class="imageblock text-center">
<div class="content">
<img src="images/Ecere/HfT-osm-baden-wuerttemberg.jpg" alt="HfT osm baden wuerttemberg" width="800">
</div>
<div class="title">Figure 51. An aerial view of Germany&#8217;s Baden-Wuerttemberg region (data Copyright &#169; OpenStreetMap contributors) showing the placement of higher resolution HfT Stuttgart.</div>
</div>
<div id="Ecere_HfT5" class="imageblock text-center">
<div class="content">
<img src="images/Ecere/HfT-osm-buildings.jpg" alt="HfT osm buildings" width="800">
</div>
<div class="title">Figure 52. A view of 3D buildings in Stuttgart from altitude.</div>
</div>
<div id="Ecere_HfT6" class="imageblock text-center">
<div class="content">
<img src="images/Ecere/HfT-osm-buildings-closer.jpg" alt="HfT osm buildings closer" width="800">
</div>
<div class="title">Figure 53. A closer view of 3D buildings. The HfT building models were provided by Steinbeis.</div>
</div>
<div id="Ecere_HfT7" class="imageblock text-center">
<div class="content">
<img src="images/Ecere/HfT-close.jpg" alt="HfT close" width="800">
</div>
<div class="title">Figure 54. A rooftop view close to HfT buildings.</div>
</div>
<div id="Ecere_HfT8" class="imageblock text-center">
<div class="content">
<img src="images/Ecere/HfT-outside.jpg" alt="HfT outside" width="800">
</div>
<div class="title">Figure 55. One of many View HfT buildings provided by Steinbeis.</div>
</div>
<div id="Ecere_HfT9" class="imageblock text-center">
<div class="content">
<img src="images/Ecere/HfT-stairs.jpg" alt="HfT stairs" width="800">
</div>
<div class="title">Figure 56. The first view of a staircase inside an HfT building.</div>
</div>
<div id="Ecere_HfT10" class="imageblock text-center">
<div class="content">
<img src="images/Ecere/HfT-upper-level.jpg" alt="HfT upper level" width="800">
</div>
<div class="title">Figure 57. The second view of a different staircase inside an HfT building.</div>
</div>
<hr>
<div class="paragraph">
<p>Since, as described previously, the GNOSIS client could not readily display <em>3D Tiles</em> tilesets retrieved from the Steinbeis GeoVolumes server, the participants
sought an alternative way to achieve interoperability. Firstly, Steinbeis provided a glTF model exported from the Sketchup software in which the model was
originally produced. Unfortunately, this glTF export proved to have incorrect normals that would result in incorrect lighting of surfaces. Attempts to display
that glTF model however led to Ecere making some improvements to its importing module for glTF which leverages the <a href="https://www.assimp.org/">Open Asset import library</a> (<em>libassimp</em>),
as well as to libassimp itself. In a following attempt to achieve interoperability, Steinbeis provided a COLLADA export from Sketchup, which is known to
usually give good results. In this attempt, normals turned out fine, but for an unknown reason (which could also be an export issue or a simple mistake
during the export process, such as leaving some objects hidden at exporting time) some floor surfaces ended up missing from the exported COLLADA model.
The takeaway from these experiments is that improving widely used open-source libraries to import and export glTF 3D models might lead to better interoperability.</p>
</div>
<div class="paragraph">
<p>Ecere&#8217;s contributions to the <a href="https://github.com/assimp/assimp">libassimp</a> glTF 2 driver made as part of this sprint included:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Fixes to build for C compiler (<a href="https://github.com/assimp/assimp/pull/3966">PR 3966</a>)</p>
</li>
<li>
<p>Improved support for opacity (<a href="https://github.com/assimp/assimp/pull/3967">PR 3967</a>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>As part of these interoperability experiments during the sprint, Ecere produced both binary glTF and <a href="https://github.com/ecere/E3D-spec">E3D</a> versions of the HfT models
provided by Steinbeis.</p>
</div>
<div class="paragraph">
<p>In addition, Ecere realized the need to improve aspects of materials and textures management in its open-source cross-platform <a href="https://ecere.org">Ecere SDK</a>
and the <a href="https://github.com/ecere/ecere-sdk/tree/latest/ecere/src/gfx/3D/models/e3d">importing and exporting driver</a> for the <a href="https://github.com/ecere/E3D-spec">E3D model format</a>, which remains ongoing development work happening on the
<a href="https://github.com/ecere/ecere-sdk/tree/materialsReview">materialsReview</a> branch at the time of this report.
Other improvements to the Ecere driver for libassimp included correctly handling hierarchical transforms and translucency.
Proper support for translucent 3D models integrated in Ecere&#8217;s GNOSIS visualization SDK remains ongoing development work at the time of this report.</p>
</div>
<div class="paragraph">
<p>Given the limited time allocated to the sprint (two weeks interspersed by an OGC Members Meeting), improving and demonstrating support for Virtual and
Augmented Reality is also the subject of ongoing and future development work.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="FlightSafety"><a class="anchor" href="#FlightSafety"></a>11. Component Implementation: FlightSafety</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_introduction_3"><a class="anchor" href="#_introduction_3"></a>11.1. Introduction</h3>
<div class="sect3">
<h4 id="_company_introduction"><a class="anchor" href="#_company_introduction"></a>11.1.1. Company Introduction</h4>
<div class="paragraph">
<p>FlightSafety International is a professional aviation training company that supplies flight simulators, visual systems, and displays for commercial, government, and military organizations.  FlightSafety has deep experience with both CDB and OpenFlight formats, with the ability to both create and consume data in these formats.  FlightSafety has used OpenFlight for decades for models and terrain.  Also, in support of USSOCOM, FlightSafety implemented CDB as early as 2006.  FlightSafety continues to support the evolution of CDB through Interoperability Experiments and Tech Sprints.</p>
</div>
</div>
<div class="sect3">
<h4 id="_scenario_plan"><a class="anchor" href="#_scenario_plan"></a>11.1.2. Scenario Plan</h4>
<div class="paragraph">
<p>FlightSafety chose to participate in the ISG Year 2 Sprint by investigating Scenario 4, identifying and defining missing CDB functionality in glTF.  Previous work had focused on comparisons between features of OpenFlight and glTF.  But CDB only uses a subset of OpenFlight nodes.  In particular, it does not make use of the more esoteric nodes that lack straightforward conversions to glTF.  In addition, CDB details how to use the existing OpenFlight nodes and attributes to implement typical simulation features and concepts, which are not 1-to-1 conversions to glTF.</p>
</div>
<div class="paragraph">
<p>Also, there are additional layers in a CDB to support use cases that do not involve visible spectrum lighting, such as Infrared and Radar wavelengths.  FlightSafety is interested in the practicality of supporting these use cases.</p>
</div>
<div class="paragraph">
<p>FlightSafety proposed three areas of investigation:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>How to preserve CDB attribution and conceptual features in a glTF model, especially in CDB Moving Models. This covers CDB concepts like named zones, damage states, attach points, configurations, motion blur textures, and other semantic attribution.</p>
</li>
<li>
<p>How to encode and store multi-spectral textures of wavelengths that are primarily reflective such as Near Infrared and Short Wave Infrared wavelengths (SWIR). These are used for Night Vision Goggle (NVG) simulation and/or stimulation, and SWIR sensors.</p>
</li>
<li>
<p>How to encode and store material data.  This involves storing the underlying material property information. This data is used for Radar and sensor systems such as Thermal IR (FLIR or EOS).</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>There are basically three uses of OpenFlight within a CDB.  All uses of OpenFlight need to be looked at when proposing using glTF models in a CDB.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>CDB Static Models - GeoSpecific and GeoTypical 3D models that are anchored in a specified location within the CDB</p>
</li>
<li>
<p>CDB Moving Models - 3D Models that are not anchored onto the terrain or in a specified location in the CDB</p>
</li>
<li>
<p>CDB Tiled 2D dataset - Geometry that is layered or projected onto the terrain skin, to provide higher detail than terrain and imagery alone</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_limits_of_investigation"><a class="anchor" href="#_limits_of_investigation"></a>11.1.3. Limits of Investigation</h4>
<div class="paragraph">
<p>FlightSafety did not investigate the conversion of all the CDB to glTF.  FlightSafety found that there is additional flexibility with using the original CDB datasets to create runtime formats (like glTF or other more runtime focused formats), without indicating how those datasets are to be used.  The ability to mix and match different datasets and different levels of detail from a CDB creates the flexibility to support simulation systems with different capabilities and/or use cases.</p>
</div>
<div class="paragraph">
<p>Also, due to the limited time frame of this effort, not all of the proposed glTF extensions were tested and verified to fully replace specific CDB 3D model functionality.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_cdb_model_attribution"><a class="anchor" href="#_cdb_model_attribution"></a>11.2. CDB Model Attribution</h3>
<div class="sect3">
<h4 id="_background"><a class="anchor" href="#_background"></a>11.2.1. Background</h4>
<div class="paragraph">
<p>The Interoperable Simulation and Gaming Year 2 Sprint Call for Proposals produced a table of similarities and differences between OpenFlight and glTF (reproduced in <strong>Appendix B</strong>).  The focus here was on arbitrary OpenFlight features.  CDB does not use pure OpenFlight, but rather a profile of the OpenFlight specification, as seen in <a href="https://docs.ogc.org/bp/16-009r5.html">Volume 6</a> of the CDB standard. There are features and nodes in OpenFlight that CDB does not use, and there are portions of OpenFlight that are narrowly defined to make different features more interoperable. For some model use cases, preserving the functionality of a CDB 3D model is more than just preserving the structure in glTF.</p>
</div>
</div>
<div class="sect3">
<h4 id="_proposed_gltf_solution"><a class="anchor" href="#_proposed_gltf_solution"></a>11.2.2. Proposed glTF Solution</h4>
<div class="paragraph">
<p>The first step in this investigation was to identify the features and concepts that are unique to how CDB uses OpenFlight.  Next, each feature or concept is described as to how it is used, and a glTF extension is proposed to implement the feature or concept.</p>
</div>
<table id="table_cdb_features" class="tableblock frame-all grid-all" style="width: 90%;">
<caption class="title">Table 5. CDB Features Implemented in OpenFlight vs glTF core plus extension capabilities.</caption>
<colgroup>
<col style="width: 8.3333%;">
<col style="width: 16.6666%;">
<col style="width: 25%;">
<col style="width: 41.6666%;">
<col style="width: 8.3335%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">CDB Feature Category</th>
<th class="tableblock halign-left valign-top">CDB Feature</th>
<th class="tableblock halign-left valign-top">CDB Model Type</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Proposed glTF Extension</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><strong>Zones</strong></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/opengeospatial/cdb-volume-6/blob/master/clause_6_5_ModelZones.adoc"><strong>Zone</strong></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All CDB Models</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Metadata on Group nodes, used to provide a hierarchical naming scheme for other features in this table, such as switches, DOFs, etc.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_xmp_json_ld">KHR_xmp_json_ld</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><em><a href="https://github.com/opengeospatial/cdb-volume-6/blob/master/clause_6_6_ModelPoints.adoc"><strong>Points</strong></a> Category</em></p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">Identifies a location on a model that is of interest to at least one CDB consumer.  Similar to zones, but typically is not visually modeled.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/opengeospatial/cdb-volume-6/blob/master/clause_6_6_ModelPoints.adoc#model-dis-origin"><strong>Model DIS Origin Point</strong></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Moving Models</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Model origin used with DIS/HLA, which can be different than the modeled origin</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_xmp_json_ld">KHR_xmp_json_ld</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/opengeospatial/cdb-volume-6/blob/master/clause_6_6_ModelPoints.adoc#model-viewpoint"><strong>Model Viewpoint</strong></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All models</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Viewpoint from a model (aircraft pilot&#8217;s seat, ship&#8217;s navigation post, etc.)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#cameras">Cameras</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/opengeospatial/cdb-volume-6/blob/master/clause_6_6_ModelPoints.adoc#model-attach-point"><strong>Attach Point</strong></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primarily Moving Models, Power Line Pylons</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Position on a model that other models can be attached to (e.g. fighter aircraft with points to attach munitions or fuel tanks).  Includes power line attach points for a power pylon.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/AGI_articulations">AGI_articulations</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/opengeospatial/cdb-volume-6/blob/master/clause_6_6_ModelPoints.adoc#model-anchor-point"><strong>Anchor Point</strong></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Moving Models</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Counterpoint of the <strong>Attach Point</strong>, point where this model can be attached to another model</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/AGI_articulations">AGI_articulations</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/opengeospatial/cdb-volume-6/blob/master/clause_6_6_ModelPoints.adoc#model-center-of-mass"><strong>Center of Mass</strong></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Moving Models</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Center of mass of a model</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_xmp_json_ld">KHR_xmp_json_ld</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/opengeospatial/cdb-volume-6/blob/master/clause_6_7_ModelConforming.adoc"><strong>Model Conforming</strong></a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Model Conforming</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Static Models, 2D Tiled Models</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A set of modes used to place or project model geometry onto the terrain</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_xmp_json_ld">KHR_xmp_json_ld</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/opengeospatial/cdb-volume-6/blob/master/clause_6_8_ModelLevelsOfDetail.adoc"><strong>Level of Detail</strong></a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong> Level of Detail</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Static and Moving Models</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides device level control of rendering/processing load and memory footprint</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/MSFT_lod">MSFT_lod</a> - <em><a href="#lod_note">See LOD Note Below</a></em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><em><a href="https://github.com/opengeospatial/cdb-volume-6/blob/master/clause_6_9_ModelSwitchNodes.adoc"><strong>Switch</strong></a> Category</em></p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">Implemented in an OpenFlight <strong>Switch</strong> node.  Used to control the state of Model Components (zones and points), based on one or a set of masks that enable or disable child nodes.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/opengeospatial/cdb-volume-6/blob/master/clause_6_9_ModelSwitchNodes.adoc#articulations"><strong>Articulations</strong></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Moving Models</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Used when articulated parts are implemented for only a few set positions (e.g. aircraft flaps)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No direct conversion, but glTF animations can accomplish the same effect.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/opengeospatial/cdb-volume-6/blob/master/clause_6_9_ModelSwitchNodes.adoc#damage-states"><strong>Damaged States</strong></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Static and Moving Models</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Select one of multiple modeled representations of a model with different amounts of damage (0-100% damaged)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#switch_note">See Switch Note Below</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/opengeospatial/cdb-volume-6/blob/master/clause_6_9_ModelSwitchNodes.adoc#temporal-anti-aliasing"><strong>Motion Blur Textures</strong></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Moving Models</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides temporal anti-aliasing on rotating parts (such as rotors or propellers) to reduce strobing effects.  These are special textures that are semi-transparent.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_variants">KHR_materials_variants</a> along with glTF Animation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><em><a href="https://github.com/opengeospatial/cdb-volume-6/blob/master/clause_6_10_ModelArticulations.adoc"><strong>Articulations</strong></a></em></p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">Implemented in an OpenFlight <strong>DOF</strong> node.  Gives a system control over all 9 degrees of freedom: translation, rotation, scaling on all 3 axes.  One allowed per zone for unique naming and control of the DOF.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/opengeospatial/cdb-volume-6/blob/master/clause_6_10_ModelArticulations.adoc#definition"><strong>Articulated Part</strong></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Moving Models</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allows a simulation (DIS or other) to control an articulation on a model</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/AGI_articulations">AGI_articulations</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/opengeospatial/cdb-volume-6/blob/master/clause_6_10_ModelArticulations.adoc#rotating-parts"><strong>Rotating Part</strong></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Static or Moving Models</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An articulation that can be animated/rotated automatically in the environment.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">glTF Animations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/opengeospatial/cdb-volume-6/blob/master/clause_6_12_ModelAttributes.adoc"><strong>Attribution</strong></a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong> Attribution</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All Model Types</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">General mechanism using structured XML comments to add attribution to portions of a 3D model</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_xmp_json_ld">KHR_xmp_json_ld</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em><a href="https://github.com/opengeospatial/cdb-volume-6/blob/master/clause_6_14_ModelDescriptorMetadataDatasets.adoc#model-configurations"><strong>Model Configuration</strong></a></em></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Moving Models</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allows the selection and use of one of a set of possible equipment and/or ordinance loads for a Moving Model.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Keep in CDB XML Metadata file.  <em><a href="#configuration_note">See Configuration Note Below</a></em></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>There are a large variety of texture types in a CDB.  Below, in <a href="#table_cdb_textures">Table 6</a>, is a complete listing of texture types and their uses, along with proposed glTF replacements.</p>
</div>
<table id="table_cdb_textures" class="tableblock frame-all grid-all" style="width: 90%;">
<caption class="title">Table 6. Standard texture types used in CDB vs equivalent or comparable types from glTF.</caption>
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 22.2222%;">
<col style="width: 55.5555%;">
<col style="width: 11.1112%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">CDB Texture Class</th>
<th class="tableblock halign-left valign-top">CDB Texture Type</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Proposed glTF Extension</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><em><a href="https://github.com/opengeospatial/cdb-volume-6/blob/master/clause_6_13_ModelTextures.adoc#base-texture-layer"><strong>Model Textures - Base</strong></a></em></p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">Textured appearance of a model</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/opengeospatial/cdb-volume-6/blob/master/clause_6_13_ModelTextures.adoc#base-texture-layer"><strong>Year Round Texture</strong></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Base appearance of a model</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">glTF Materials</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/opengeospatial/cdb-volume-6/blob/master/clause_6_13_ModelTextures.adoc#model-skin-textures"><strong>Time of Year Texture</strong></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Time of Year appearance either Quarterly or Monthly.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_variants">KHR_materials_variants</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/opengeospatial/cdb-volume-6/blob/master/clause_6_13_ModelTextures.adoc#model-skin-textures"><strong>Paint Scheme Texture</strong></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Textured Paint Schemes (Paint color, Camouflage, Airline Livery)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_variants">KHR_materials_variants</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://docs.opengeospatial.org/is/17-080r2/17-080r2.html"><strong>Multi-Spectral Texture Layer</strong></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CDB Extension of Base Textures, covering non-visual reflective textures in the Near Infrared and Short Wave Infrared bands.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_variants">KHR_materials_variants</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><em><a href="https://github.com/opengeospatial/cdb-volume-6/blob/master/clause_6_13_ModelTextures.adoc#subordinate-texture-layer"><strong>Model Textures - Subordinate</strong></a></em></p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">Provides additional detail to the Base texture</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/opengeospatial/cdb-volume-6/blob/master/clause_6_13_ModelTextures.adoc#model-light-maps"><strong>Light Map</strong></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Emissive texture map representing color and intensity of light being emitted or reflected</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#additional-maps">glTF Emissive Map</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/opengeospatial/cdb-volume-6/blob/master/clause_6_13_ModelTextures.adoc#model-night-maps"><strong>Night Map</strong></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Used in conjunction with Light Maps to simulate light sources inside a model</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#additional-maps">glTF Emissive Map</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/opengeospatial/cdb-volume-6/blob/master/clause_6_13_ModelTextures.adoc#model-tangent-space-normal-maps"><strong>Tangent-Space Normal Map</strong></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tangent-Space Normal map</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#additional-maps">glTF Normal Map</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/opengeospatial/cdb-volume-6/blob/master/clause_6_13_ModelTextures.adoc#model-detail-texture-maps"><strong>Detail Texture Maps</strong></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Method of adding high-frequency (spatial) details to a low-frequency image.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No direct glTF equivalent</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/opengeospatial/cdb-volume-6/blob/master/clause_6_13_ModelTextures.adoc#model-contaminant-and-skid-mark-textures"><strong>Contaminant and Skid Mark Textures</strong></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Historical method of controlling the appearance of airport runways and surfaces.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No direct glTF equivalent</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/opengeospatial/cdb-volume-6/blob/master/clause_6_13_ModelTextures.adoc#model-cubic-reflection-maps"><strong>Cubic Reflection Map</strong></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reflection map</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_lights_image_based">EXT_lights_image_based</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/opengeospatial/cdb-volume-6/blob/master/clause_6_13_ModelTextures.adoc#model-gloss-maps"><strong>Gloss Map</strong></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Describes whether a surface is matte or gloss.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#metallic-roughness-material">glTF metallicRoughnessTexture</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><em><a href="https://github.com/opengeospatial/cdb-volume-6/blob/master/clause_6_13_ModelTextures.adoc#model-material-textures"><strong>Material Textures</strong></a></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Texture map of the underlying surface material, independent of the visual appearance.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/CesiumGS/glTF/tree/3d-tiles-next/extensions/2.0/Vendor/EXT_feature_metadata/1.0.0"><strong>EXT_feature_metadata</strong></a> - Feature ID Texture</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Due to time constraints, not all of the proposed extensions could be tested or evaluated.  There remains work to ensure that all of the CDB features and concepts can be converted into glTF features and extensions.  Also, since the goal of CDB is interoperability, it would be unwise to choose a specific implementation without multiple organizations evaluating the suitability of the extension to their use cases.</p>
</div>
<div class="sect4">
<h5 id="_notes"><a class="anchor" href="#_notes"></a>Notes</h5>
<div class="ulist">
<ul>
<li>
<p><a id="lod_note"></a> <em>Levels of Detail</em>:  The MSFT_lod extension does not define what constitutes a "screen" for the purposes of screen coverage calculation.  CDB would need to define what a "screen" is for purposes of conversion to significant size.  One possible definition would be that a screen is considered Full HD (1920x1080pixels aka 1080p), so that a scaling between this screen definition and screens that are higher (e.g. WQXGA or 4K) or lower resolution (e.g. VGA or 720p) can be used.</p>
</li>
<li>
<p><a id="configuration_note"></a> <em>Model Configurations</em>:  Currently, the model configuration data is stored globally in the Metadata directory as an XML file.  One option is to keep the location and format.  Another option is to encode this information into the model itself, using the <a href="https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_xmp_json_ld">KHR_xmp_json_ld</a> extension.</p>
</li>
<li>
<p><a id="switch_note"></a> <em>Switches</em>:  There are no direct glTF features or extensions that work in the general case for switches.  If an entire model was to switch geometry, a new scene in glTF would work.  But most use cases have only portions of the mesh changing, like a damaged wing.  So this solution is not considered complete enough for CDB conversion.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_recommendations_2"><a class="anchor" href="#_recommendations_2"></a>Recommendations</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create a new glTF extension to support mesh switching that can be used for Damaged States and simple geometry switching.  This probably involves extending glTF nodes, to allow switching between a default set of child nodes and alternative sets (masks) of child nodes.  Since nodes are referenced by index, this would be a lightweight extension.</p>
</li>
<li>
<p>Additional testing of the proposed extensions is needed, to see if they cover the capabilities of CDB using OpenFlight.  In addition, interoperable experiments are recommended to ensure that these extensions are effective for all users.</p>
</li>
<li>
<p>There are a number of CDBs that are available for OGC members to use for testing purposes.  However, there are no CDB Moving Models that can work as test cases for all features.  Creating some standardized models available would make this work easier.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_multi_spectral_model_textures"><a class="anchor" href="#_multi_spectral_model_textures"></a>11.3. Multi-Spectral Model Textures</h3>
<div class="sect3">
<h4 id="_background_2"><a class="anchor" href="#_background_2"></a>11.3.1. Background</h4>
<div class="paragraph">
<p>Most near infrared and short-wave infrared energy in an environment is produced by the sun, as part of its solar black body radiation.  The exceptions are typically very hot materials (e.g. aircraft engines, exhaust) or man-made emitters of these wavelengths (e.g. TV remotes, military NVG lights).</p>
</div>
<div class="paragraph">
<p>CDB accommodates these wavelengths using the Multi-Spectral Imagery Extension to CDB.  This extension provides additional textures that can be used in cases where near infrared or short wave infrared portions of the electromagnetic spectrum are needed.  In this case, the extension is using the same technique that CDB uses for seasonal and quarterly texture and imagery, as well as paint and camouflage schemes for moving models.</p>
</div>
</div>
<div class="sect3">
<h4 id="_proposed_gltf_solution_2"><a class="anchor" href="#_proposed_gltf_solution_2"></a>11.3.2. Proposed glTF Solution</h4>
<div class="paragraph">
<p>The conversion of this data to glTF was relatively straightforward.  There is a glTF extension developed for commercial applications, <a href="https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_variants">KHR_materials_variants</a>, that works well for this use case.  It allows for switching textures on a model based on a name, where the set of textures use the exact same texture mapping.  This approach should also handle the quarterly and seasonal texture representations, as well as paint and camouflage texture skins.  <a href="#table_material_labels">Table 7</a> shows some of the different texture types that can be added to a 3D model.</p>
</div>
<table id="table_material_labels" class="tableblock frame-all grid-all" style="width: 50%;">
<caption class="title">Table 7. Table of example texture types frequently found in CDB data sets.</caption>
<colgroup>
<col style="width: 60%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Variant Type</th>
<th class="tableblock halign-center valign-top">Labels</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Year Round Texture</em></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>CDB_Base</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Monthly Texture</em></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>CDB_January CDB_February CDB_March CDB_April CDB_May CDB_June CDB_July CDB_August CDB_September CDB_October CDB_November CDB_December</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Quarterly Texture</em></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>CDB_Q1 CDB_Q2 CDB_Q3 CDB_Q4</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Multi-Spectral</em></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>CDB_NIR CDB_SWIR</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Uniform Paint Scheme</em></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>CDB_Paint_Gray CDB_Paint_White CDB_Paint_Green CDB_Paint_Black</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Camouflage Paint Scheme</em></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>CDB_Camo_Desert CDB_Camo_Winter CDB_Camo_Forest CDB_Camo_Generic CDB_Camo_Urban</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Airline Paint Scheme</em></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>CDB_Airline_AAH CDB_Airline_AAL CDB_Airline_AAR</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>There is a concern that encoding multiple texture layers into a single binary glTF model could lead to non-optimal solutions.  Consider, for example, a model that uses a large number of different material variants.  For most use cases, there would be no need to load all of these texture layers, thus it might be best to reduce the file size and I/O load of the CDB client.  Another example would be several models sharing a texture.  Encoding these into a binary glTF file would use more storage than necessary.  Most of these concerns can be addressed by using glTF texture URIs, rather than encoding the texture directly into the glTF.</p>
</div>
</div>
<div class="sect3">
<h4 id="_experimentation"><a class="anchor" href="#_experimentation"></a>Experimentation</h4>
<div class="paragraph">
<p>FlightSafety created some sample glTF models using the KHR_materials_variants extension.  The images below are being rendered by the Don McCurdy glTF viewer, showing 3D models that are using the materials variants extension.  <a href="#img_tree_visual">Figure 61</a> is a 3D model showing a typical visual texture.  <a href="#img_tree_nvg">Figure 62</a> is a 3D model showing the Near Infrared texture that would be used for Night Vision Goggle training.</p>
</div>
<div id="img_tree_visual" class="imageblock text-left">
<div class="content">
<img src="images/FlightSafety/newTreeOtw.jpg" alt="newTreeOtw" width="600">
</div>
<div class="title">Figure 58. A basic glTF tree model textured with visual spectrum appearance.</div>
</div>
<div id="img_tree_nvg" class="imageblock text-left">
<div class="content">
<img src="images/FlightSafety/newTreeNir.jpg" alt="newTreeNir" width="600">
</div>
<div class="title">Figure 59. The same glTF tree model textured with a near infrared texture.</div>
</div>
<div class="paragraph">
<p>This same extension can be used for other texture types.  In <a href="#img_tree_winter">Figure 63</a>, this is the same tree with a winter seasonal texture applied.</p>
</div>
<div id="img_tree_winter" class="imageblock text-left">
<div class="content">
<img src="images/FlightSafety/newTreeWinter.jpg" alt="newTreeWinter" width="600">
</div>
<div class="title">Figure 60. The same glTF tree model textured with a winter texture.</div>
</div>
</div>
<div class="sect3">
<h4 id="_recommendations_3"><a class="anchor" href="#_recommendations_3"></a>11.3.3. Recommendations</h4>
<div class="paragraph">
<p>These items are recommendations for representing optional texture layers for glTF models to support current CDB capabilities:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>CDB glTF models should support the KHR_materials_variants extension, if there is more than the default base texture for a model.  This can include quarterly or seasonal representations, uniform paint schemes, camouflage paint schemes, airline paint schemes, or Near Infrared reflectance, or Short-Wave Infrared reflectance textures.</p>
</li>
<li>
<p>The material names for the different variants should conform to a naming convention in CDB.  For example, the material variant for Near Infrared texture should always be CDB_NIR.  More examples are in <a href="#table_material_labels">Table 7</a>.</p>
</li>
<li>
<p>Textures, other than the base texture, should not be encoded into the glTF model.  Any non-base texture, or a texture that is reused in other models, should be referenced via a URI into the CDB, so that the client or renderer can access only the set of textures necessary.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_model_material_textures"><a class="anchor" href="#_model_material_textures"></a>11.4. Model Material Textures</h3>
<div class="sect3">
<h4 id="_background_3"><a class="anchor" href="#_background_3"></a>11.4.1. Background</h4>
<div class="paragraph">
<p>There are certain use cases that cannot be covered solely by visual appearance or reflectance of specific bands of electromagnetic solar radiation.  Some of these use cases include thermal Infrared where a sensor is detecting the temperature of an object, and Radar where an emitter is producing pulses of energy that reflect off objects partly based on the physical material of that object.</p>
</div>
<div class="paragraph">
<p>CDB allows for the storage of material data for both the terrain (Raster Materials) and for 3D models (Model Material Texture).  In both cases, the material storage is similar.  CDB supports a material texture that contains a single channel/band of index values (note: Raster Materials supports multiple layers of data), and an XML file that contains a Composite Material Table that maps the index into either a simple material (such as glass), a mixture of materials (such as 40% brick and 60% wood), or a complex arrangement of materials (such as a steel drum, with water inside, and painted on the outside).</p>
</div>
<div class="paragraph">
<p>A CDB consumer can then use the material data, along with other non-static simulation information, to create a sensor representation.  For example, material information plus atmospheric data (temperature and humidity), plus knowing the amount of solar irradiance (or lack thereof in the case of shadows) on the surface, can allow a device to simulate a thermal irradiance texture for the simulation.  Similarly, a Radar simulation can use the material information along with a surface&#8217;s orientation to simulate the reflection of Radar energy.</p>
</div>
</div>
<div class="sect3">
<h4 id="_proposed_gltf_solution_3"><a class="anchor" href="#_proposed_gltf_solution_3"></a>11.4.2. Proposed glTF Solution</h4>
<div class="paragraph">
<p>FlightSafety used a proposed glTF extension called <a href="https://github.com/CesiumGS/glTF/tree/3d-tiles-next/extensions/2.0/Vendor/EXT_feature_metadata/1.0.0">EXT_feature_metadata</a> to encode material data in a glTF model.  The <a href="https://github.com/CesiumGS/glTF/tree/3d-tiles-next/extensions/2.0/Vendor/EXT_feature_metadata/1.0.0#feature-id-textures">Feature ID Textures</a> feature allows for placing a metadata texture on a surface, along with a metadata table.  The value in the texture is an index into a table.</p>
</div>
<div class="paragraph">
<p>FlightSafety was able to encode everything from a CDB Composite Material Table into this metadata table, with only one slight difference.  A CDB allows for a primary substrate (main material), an optional surface substrate (like paint), and optional secondary substrates that act like multiple material layers behind the primary material.  In practice, FlightSafety did not required more than one secondary material, so there was a limit to the material table to only a single secondary substrate.</p>
</div>
<div class="paragraph">
<p>The new JSON composite material table consists of entries that have:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A Name</p>
</li>
<li>
<p>An Index</p>
</li>
<li>
<p>An array of the primary substrate materials (referenced by enumeration)</p>
</li>
<li>
<p>An array of the primary substrate weights (by percentage)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Optionally, the following can also be included:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>An array of the surface substrate materials (referenced by enumeration)</p>
</li>
<li>
<p>An array of the surface substrate weights (by percentage)</p>
</li>
<li>
<p>The primary substrate thickness (in meters)</p>
</li>
<li>
<p>An array of the secondary substrate materials (referenced by enumeration)</p>
</li>
<li>
<p>An array of the secondary substrate weights (by percentage)</p>
</li>
<li>
<p>The secondary substrate thickness (in meters)</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Example Material Table Schema</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">  <span class="key"><span class="delimiter">&quot;</span><span class="content">extensions</span><span class="delimiter">&quot;</span></span>: {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">EXT_feature_metadata</span><span class="delimiter">&quot;</span></span>: {
      <span class="key"><span class="delimiter">&quot;</span><span class="content">schema</span><span class="delimiter">&quot;</span></span>: {
        <span class="key"><span class="delimiter">&quot;</span><span class="content">classes</span><span class="delimiter">&quot;</span></span>: {
          <span class="key"><span class="delimiter">&quot;</span><span class="content">compositeMaterials</span><span class="delimiter">&quot;</span></span>: {
            <span class="key"><span class="delimiter">&quot;</span><span class="content">properties</span><span class="delimiter">&quot;</span></span>: {
              <span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>: {
                <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">STRING</span><span class="delimiter">&quot;</span></span>
              },
              <span class="key"><span class="delimiter">&quot;</span><span class="content">index</span><span class="delimiter">&quot;</span></span>: {
                <span class="key"><span class="delimiter">&quot;</span><span class="content">componentType</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">UINT8</span><span class="delimiter">&quot;</span></span>
              },
              <span class="key"><span class="delimiter">&quot;</span><span class="content">primarySubstrate</span><span class="delimiter">&quot;</span></span>: {
                <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">ARRAY</span><span class="delimiter">&quot;</span></span>,
                <span class="key"><span class="delimiter">&quot;</span><span class="content">componentType</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">ENUM</span><span class="delimiter">&quot;</span></span>,
                <span class="key"><span class="delimiter">&quot;</span><span class="content">enumType</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">baseMaterials</span><span class="delimiter">&quot;</span></span>
              },
              <span class="key"><span class="delimiter">&quot;</span><span class="content">primarySubstrateWeights</span><span class="delimiter">&quot;</span></span>: {
                <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">ARRAY</span><span class="delimiter">&quot;</span></span>,
                <span class="key"><span class="delimiter">&quot;</span><span class="content">componentType</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">UINT8</span><span class="delimiter">&quot;</span></span>
              }
            }
          },
          <span class="key"><span class="delimiter">&quot;</span><span class="content">cdbCompositeMaterialIndex</span><span class="delimiter">&quot;</span></span>: {
            <span class="key"><span class="delimiter">&quot;</span><span class="content">properties</span><span class="delimiter">&quot;</span></span>: {
              <span class="key"><span class="delimiter">&quot;</span><span class="content">index1</span><span class="delimiter">&quot;</span></span>: {
                <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">UINT8</span><span class="delimiter">&quot;</span></span>,
                <span class="key"><span class="delimiter">&quot;</span><span class="content">normalized</span><span class="delimiter">&quot;</span></span>: <span class="value">false</span>
              }
            }
          }
        }
      },
      <span class="key"><span class="delimiter">&quot;</span><span class="content">enums</span><span class="delimiter">&quot;</span></span>: {
        <span class="key"><span class="delimiter">&quot;</span><span class="content">baseMaterials</span><span class="delimiter">&quot;</span></span>: {
          <span class="key"><span class="delimiter">&quot;</span><span class="content">valueType</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">UINT8</span><span class="delimiter">&quot;</span></span>,
          <span class="key"><span class="delimiter">&quot;</span><span class="content">values</span><span class="delimiter">&quot;</span></span>: [
            {
              <span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">BM_WOOD</span><span class="delimiter">&quot;</span></span>,
              <span class="key"><span class="delimiter">&quot;</span><span class="content">description</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Wood for building doors</span><span class="delimiter">&quot;</span></span>,
              <span class="key"><span class="delimiter">&quot;</span><span class="content">value</span><span class="delimiter">&quot;</span></span>: <span class="integer">0</span>
            },
            {
              <span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">BM_BRICK</span><span class="delimiter">&quot;</span></span>,
              <span class="key"><span class="delimiter">&quot;</span><span class="content">description</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Brick for building exterior walls</span><span class="delimiter">&quot;</span></span>,
              <span class="key"><span class="delimiter">&quot;</span><span class="content">value</span><span class="delimiter">&quot;</span></span>: <span class="integer">1</span>
            },
            {
              <span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">BM_GLASS</span><span class="delimiter">&quot;</span></span>,
              <span class="key"><span class="delimiter">&quot;</span><span class="content">description</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Glass for building windows</span><span class="delimiter">&quot;</span></span>,
              <span class="key"><span class="delimiter">&quot;</span><span class="content">value</span><span class="delimiter">&quot;</span></span>: <span class="integer">2</span>
            }
          ]
        }
      }
    }
  }</code></pre>
</div>
</div>
<div class="paragraph">
<p>The actual table would then be encoded into a glTF bufferView object.  For illustrative purposes, the following JSON would represent how the metadata table would look like to represent a CDB Composite Material Table.</p>
</div>
<div class="listingblock">
<div class="title">Example Composite Material Table</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">        <span class="key"><span class="delimiter">&quot;</span><span class="content">featureTables</span><span class="delimiter">&quot;</span></span>: {
            <span class="key"><span class="delimiter">&quot;</span><span class="content">compositeMaterialsTable</span><span class="delimiter">&quot;</span></span>: {
            <span class="key"><span class="delimiter">&quot;</span><span class="content">count</span><span class="delimiter">&quot;</span></span>: <span class="integer">3</span>,
            <span class="key"><span class="delimiter">&quot;</span><span class="content">class</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">compositeMaterials</span><span class="delimiter">&quot;</span></span>,
            <span class="key"><span class="delimiter">&quot;</span><span class="content">properties</span><span class="delimiter">&quot;</span></span>: {
             <span class="error">/</span><span class="error">*</span>
              <span class="error">*</span> <span class="error">T</span><span class="error">h</span><span class="error">e</span><span class="error">s</span><span class="error">e</span> <span class="error">v</span><span class="error">a</span><span class="error">l</span><span class="error">u</span><span class="error">e</span><span class="error">s</span> <span class="error">a</span><span class="error">r</span><span class="error">e</span> <span class="error">f</span><span class="error">o</span><span class="error">r</span> <span class="error">i</span><span class="error">l</span><span class="error">l</span><span class="error">u</span><span class="error">s</span><span class="error">t</span><span class="error">r</span><span class="error">a</span><span class="error">t</span><span class="error">i</span><span class="error">v</span><span class="error">e</span> <span class="error">p</span><span class="error">u</span><span class="error">r</span><span class="error">p</span><span class="error">o</span><span class="error">s</span><span class="error">e</span><span class="error">s</span> <span class="error">o</span><span class="error">n</span><span class="error">l</span><span class="error">y</span><span class="error">.</span> <span class="error">W</span><span class="error">h</span><span class="error">e</span><span class="error">n</span> <span class="error">a</span><span class="error">c</span><span class="error">t</span><span class="error">u</span><span class="error">a</span><span class="error">l</span><span class="error">l</span><span class="error">y</span> <span class="error">i</span><span class="error">m</span><span class="error">p</span><span class="error">l</span><span class="error">e</span><span class="error">m</span><span class="error">e</span><span class="error">n</span><span class="error">t</span><span class="error">i</span><span class="error">n</span><span class="error">g</span> <span class="error">t</span><span class="error">h</span><span class="error">i</span><span class="error">s</span>
              <span class="error">*</span> <span class="error">e</span><span class="error">x</span><span class="error">t</span><span class="error">e</span><span class="error">n</span><span class="error">s</span><span class="error">i</span><span class="error">o</span><span class="error">n</span>, <span class="error">t</span><span class="error">h</span><span class="error">e</span> <span class="error">v</span><span class="error">a</span><span class="error">l</span><span class="error">u</span><span class="error">e</span><span class="error">s</span> <span class="error">m</span><span class="error">u</span><span class="error">s</span><span class="error">t</span> <span class="error">b</span><span class="error">e</span> <span class="error">s</span><span class="error">t</span><span class="error">o</span><span class="error">r</span><span class="error">e</span><span class="error">d</span> <span class="error">i</span><span class="error">n</span> <span class="error">b</span><span class="error">i</span><span class="error">n</span><span class="error">a</span><span class="error">r</span><span class="error">y</span> <span class="error">f</span><span class="error">o</span><span class="error">r</span><span class="error">m</span> <span class="error">a</span><span class="error">n</span><span class="error">d</span> <span class="error">p</span><span class="error">o</span><span class="error">i</span><span class="error">n</span><span class="error">t</span> <span class="error">t</span><span class="error">o</span> <span class="error">a</span> <span class="error">g</span><span class="error">l</span><span class="error">T</span><span class="error">F</span> <span class="error">b</span><span class="error">u</span><span class="error">f</span><span class="error">f</span><span class="error">e</span><span class="error">r</span><span class="error">V</span><span class="error">i</span><span class="error">e</span><span class="error">w</span><span class="error">.</span>
              <span class="error">*</span><span class="error">/</span>
              <span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>: [
                <span class="string"><span class="delimiter">&quot;</span><span class="content">DOOR</span><span class="delimiter">&quot;</span></span>,
                <span class="string"><span class="delimiter">&quot;</span><span class="content">EXTERIOR_WALL</span><span class="delimiter">&quot;</span></span>,
                <span class="string"><span class="delimiter">&quot;</span><span class="content">WINDOW</span><span class="delimiter">&quot;</span></span>
              ],
              <span class="key"><span class="delimiter">&quot;</span><span class="content">index</span><span class="delimiter">&quot;</span></span>: [
                <span class="integer">0</span>,
                <span class="integer">1</span>,
                <span class="integer">2</span>
              ],
             <span class="key"><span class="delimiter">&quot;</span><span class="content">primarySubstrate</span><span class="delimiter">&quot;</span></span>: [
                [<span class="integer">0</span>],
                [<span class="integer">1</span>],
                [<span class="integer">0</span>, <span class="integer">2</span>]
              ],
              <span class="key"><span class="delimiter">&quot;</span><span class="content">primarySubstrateWeights</span><span class="delimiter">&quot;</span></span>: [
                [<span class="integer">100</span>],
                [<span class="integer">100</span>],
                [<span class="integer">10</span>, <span class="integer">90</span>]
              ]
            }
          }
        }</code></pre>
</div>
</div>
<div class="sect4">
<h5 id="_experimentation_2"><a class="anchor" href="#_experimentation_2"></a>Experimentation</h5>
<div class="paragraph">
<p>FlightSafety created a sample building model, using the EXT_feature_metadata extension to store the material data as a table within the model.  This model is being rendered in CesiumJS in <a href="#img_materials">Figure 64</a>.  This was created with help from Cesium.</p>
</div>
<div id="img_materials" class="imageblock text-center">
<div class="content">
<img src="images/FlightSafety/MaterialTable.JPG" alt="MaterialTable" width="600">
</div>
<div class="title">Figure 61. A simple model of a building rendered with a metadata texture.</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_recommendations_4"><a class="anchor" href="#_recommendations_4"></a>11.4.3. Recommendations</h4>
<div class="paragraph">
<p>These items are recommendations for representing CDB material textures for glTF models to support current CDB capabilities:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>CDB glTF models should encode materials using the EXT_feature_metadata extension if there is material data for the model.</p>
</li>
<li>
<p>A standardized table format should be used.  The above table schema can be that standard, if the additional optional fields are implemented.</p>
</li>
<li>
<p>Maintain the current list of CDB materials for easier transformations between CDB OpenFlight and glTF.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_flightsafety_gltf_implementation"><a class="anchor" href="#_flightsafety_gltf_implementation"></a>FlightSafety glTF Implementation</h3>
<div class="paragraph">
<p>FlightSafety implemented a simple glTF model loader for FlightSafety&#8217;s VITAL 1150 Image Generator, to help test the feasibility of using glTF models in a CDB.  Below are images of the Space Shuttle Discovery model sitting at the end of runway 4R at the Honolulu International Airport, in a CDB of Hawaii.</p>
</div>
<div id="img_shuttle1" class="imageblock text-center">
<div class="content">
<img src="images/FlightSafety/Shuttle_behind.JPG" alt="Shuttle behind" width="600">
</div>
<div class="title">Figure 62. A glTF model in FlightSafety&#8217;s VITAL 1150 showing a NASA space shuttle at the end of Honolulu International Airport runway.</div>
</div>
<div id="img_shuttle2" class="imageblock text-center">
<div class="content">
<img src="images/FlightSafety/Shuttle_evening.jpg" alt="Shuttle evening" width="600">
</div>
<div class="title">Figure 63. The same setup as <a href="#img_shuttle1">Figure 65</a>, but with evening environmental conditions.</div>
</div>
<div class="sect3">
<h4 id="_observations"><a class="anchor" href="#_observations"></a>Observations</h4>
<div class="paragraph">
<p>Converting a glTF model to work in the FlightSafety VITAL 1150 Image Generator was relatively straightforward.  The node and mesh structure, materials and textures, all work well.  Some observations:</p>
</div>
<div class="ulist OpenFlight-Different-Coordinate-System">
<ul class="OpenFlight-Different-Coordinate-System">
<li>
<p>OpenFLight models use a different coordinate reference system than glTF or 3dsMax.  They also use a slightly different texture mapping.  Both of these are straightforward to adjust for.</p>
</li>
<li>
<p>The Physically Based Rendering (PBR) approach of glTF materials (metalness) is different than OpenFlight&#8217;s extended material palette (specular), but there are workflows that can convert from one to the other.</p>
</li>
<li>
<p>Most models tested had their textures packed into a texture atlas.  This was probably because they were conversions from other model formats, and packing the textures was done for rendering performance.  Using a texture atlas will make the data repository use case of CDB more difficult, as making any modifications to the model&#8217;s texture or geometry can become nearly impossible.</p>
<div class="ulist">
<ul>
<li>
<p>See <a href="#img_texture_atlas">Figure 67</a> for the visual effect of a texture atlas on the model imported into VITAL 1150.</p>
</li>
<li>
<p>See the 2020 <a href="https://github.com/sofwerx/cdb2-eng-report">3D Geospatial Tech Sprint OGC CDB 2.0</a> Engineering Report from SOFWERX on the different use cases needed by USSOCOM for the next major revision of CDB.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div id="img_texture_atlas" class="imageblock text-center">
<div class="content">
<img src="images/FlightSafety/Orbiter_Space_Shuttle_OV-103_Discovery-150k-4096_0.jpg" alt="Orbiter Space Shuttle OV 103 Discovery 150k 4096 0" width="600">
</div>
<div class="title">Figure 64. The image texture to be applied to the shuttle model from <a href="#img_shuttle1">Figure 65</a> and <a href="#img_shuttle2">Figure 66</a>.</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_conclusions"><a class="anchor" href="#_conclusions"></a>11.5. Conclusions</h3>
<div class="ulist">
<ul>
<li>
<p>glTF encoded 3D models can be a good option for future versions of CDB.  The models are well organized and easily extendable.</p>
</li>
<li>
<p>glTF models can be used with a variety of sensor systems.  Further performance profiling would be needed for Radar and Thermal IR, as simulating these sensors relies more on computations based partly on the simulation environment and atmosphere, rather than pure rendering.</p>
</li>
<li>
<p>Because one of the CDB use cases is to act as a data repository that allows editing of the CDB content, creating any model (glTF or otherwise) in a CDB with a texture atlas that makes editing the geometry or texture difficult is not advisable.  In this case, either a conversion to glTF without the texture atlas, or storing the original model&#8217;s format and texture is a better choice.</p>
</li>
<li>
<p>FlightSafety would not recommend using glTF models as a replacement for CDB Moving Models (models that are not anchored in a specific location), without additional interoperability experimentation.  One goal of CDB is interoperability, and that cannot be determined by a single organization.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_future_work"><a class="anchor" href="#_future_work"></a>11.6. Future Work</h3>
<div class="ulist">
<ul>
<li>
<p>More extensive testing of the proposed extensions in <a href="#table_cdb_features">Table 5</a>.  There was not enough time to test all of the proposed feature replacements, and more than one organization should participate and attempt to use a set of shared models.</p>
</li>
<li>
<p>More testing on the approach for encoding material data.  Additional work should be done to convert the material table and material ID texture into an Infrared irradiance and a simulated sensor representation.</p>
</li>
<li>
<p>Work to determine if CDB specific extensions for glTF need to be developed, particularly for handling switch beads that modify the mesh geometry that is rendered.  One other extension that might be needed is a Level of Detail extension that is more generic than the MSFT_lod extension.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="InfoDao"><a class="anchor" href="#InfoDao"></a>12. Component Implementation: InfoDao</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_sprint_summary_and_highlights"><a class="anchor" href="#_sprint_summary_and_highlights"></a>12.1. Sprint Summary and Highlights</h3>
<div class="paragraph">
<p>This Sprint highlighted 4+ scenarios that participants worked toward. InfoDao focused on Scenarios 1 and 3, with suggestions for more robust conversion between CDB and GeoPackage and applications in Scenario 4 (notably, "non-visible" electro-magnetic radiation). This report will show breakdowns of times between conversions and analyze the costs-benefits of the CDB pre-conversion and runtime conversion. InfoDao also explored concepts in the MovingModels (MModels) framework that should be expanded upon in future efforts.</p>
</div>
</div>
<div class="sect2">
<h3 id="_scenarios"><a class="anchor" href="#_scenarios"></a>12.2. Scenarios</h3>
<div class="sect3">
<h4 id="_scenario_1_2"><a class="anchor" href="#_scenario_1_2"></a>12.2.1. Scenario 1</h4>
<div class="paragraph">
<p>For the first scenario, InfoDao converted from The San Diego CDB GeoPackage provided by Ecere. Here are the sample times of conversion, along with a pie chart to graphically show proportions of time. Note that each level corresponds to its CDB Level of Detail (LoD) (e.g. Level 3 would be in the L03 Directory)</p>
</div>
<table id="table_infodao-cdb_features" class="tableblock frame-all grid-all" style="width: 50%;">
<caption class="title">Table 8. The time required to convert each layer of the San Diego CDB dataset.</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Layer</th>
<th class="tableblock halign-right valign-top">Objects (Tiles/3D Geometry)</th>
<th class="tableblock halign-right valign-top">Time</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Level 3</em></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">3.4563</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Level 4</em></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">0.0155</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Level 5</em></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">0.0153</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Level 9</em></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">0.1877</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Level 10</em></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">0.4843</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Level 11</em></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">2.9183</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Level 12</em></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">30</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">7.1093</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Level 13</em></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">108</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">33.552</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Level 14</em></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">432</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">30.665</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Level 15</em></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">1680</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">88.756</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Level 16</em></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">6486</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">104.93</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Level 17</em></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">25482</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">415.64</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Level 18</em></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">101380</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">1558.6</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Buildings</em></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">1164</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">154.72</p></td>
</tr>
</tbody>
</table>
<div id="img_InfoDao-1" class="imageblock text-center">
<div class="content">
<img src="images/InfoDao/breakdown.png" alt="breakdown" width="800">
</div>
<div class="title">Figure 65. This image graphically shows the time required for conversion of the layers of the San Diego CDB dataset.</div>
</div>
<div class="paragraph">
<p>This breakdown brings two perspectives for implementing CDB in Geospatial workflows:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Offline conversion requires transfer of the entire CDB. A representative timing is ~30min for a 13.5 Gigabyte zip repository. Once transferrer, files can be accessed in constant time.</p>
</li>
<li>
<p>Run-time conversion requires CDB streaming capabilities. An example timing 1-5 seconds per viewport. Run-time caching depends on desired file-formats and requires validation checks.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>For "Disconnected, Interrupted, Intermittent, Low-Bandwidth" (DIIL) applications; the tradeoffs are between computation power and bandwidth. Clients may not have the computation on Size, Weight, and Power (SWaP) restricted devices, and the network may not have bandwidth due to terrain and noise.
One example of a hybrid approach is using a baseline CDB that is pre-converted and creating a stream-able edition to the CDB that can use Run-time conversion for connected devices. InfoDao explored this by creating a CDB of Miami and editing a new feature. For comparison; the Base CDB is 2.4 GB, and the edition of the wreckage is only 3MB.</p>
</div>
<div id="img_InfoDao-2" class="imageblock text-center">
<div class="content">
<img src="images/InfoDao/edition.png" alt="edition" width="800">
</div>
<div class="title">Figure 66. A "Before" and "After" image of the Surfside condo collapse using the Miami CDB as a base with a run-time update.</div>
</div>
</div>
<div class="sect3">
<h4 id="_scenario_3_2"><a class="anchor" href="#_scenario_3_2"></a>12.2.2. Scenario 3</h4>
<div class="paragraph">
<p>For Scenario 3, InfoDao looked at using MovingModels (MModels) for representations of real-world MOVINT data. Two CDBs were made to examine how MModel data can be viewed in the Unity Engine.</p>
</div>
<div class="paragraph">
<p>However, scenario 3 needs more testing in order to ensure good fit for MOVINT and real-world applications. One source of examination is in the conversion between glTF and OpenFlight (specifically with their respective animation specs). Another point to mention is the compatibility of rigged models with other engines and clients.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_suggestions"><a class="anchor" href="#_suggestions"></a>12.3. Suggestions</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Update the Best Practices for CDB in GeoPackages to use Related-Tables. Also add data to GeoPackages to ensure better translation between file system CDB and GeoPackages (e.g. named layers that conform to the CDB spec).</p>
</li>
<li>
<p>Next efforts should include more use of MModels and examining how to store time sensitive location data.</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="title"><em>Need Definition</em></div>
<div class="paragraph">
<p>Please expand on 'Related-Tables' in #1 as not all readers of this report (especially those only reading the <strong>Findings</strong> section) will be familiar with that term.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="SimBlocks"><a class="anchor" href="#SimBlocks"></a>13. Component Implementation: SimBlocks.io</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_subject_2"><a class="anchor" href="#_subject_2"></a>13.1. Subject</h3>
<div class="paragraph">
<p>This Sprint Report reviews the participation of SimBlocks.io in the OGC Interoperable Simulation and Gaming Sprint Year 2, which was held from June 2 through July 6, 2021.</p>
</div>
</div>
<div class="sect2">
<h3 id="_summary"><a class="anchor" href="#_summary"></a>13.2. Summary</h3>
<div class="paragraph">
<p>The purpose of the OGC Interoperable Simulation and Gaming Sprint Year 2 was to advance the use of relevant OGC and Khronos standards in the modeling and simulation community. In support of these goals, SimBlocks.io focused on support the CDB and GeoPackage standards in commonly used real-time 3D game engines, including Unity and Unreal. The SimBlocks team submitted a proposal in April 2021 in response to an open call for participation in the sprint and was accepted in May. SimBlocks is an Associate Small Company Member of the Open Geospatial Consortium.</p>
</div>
</div>
<div class="sect2">
<h3 id="_previous_work"><a class="anchor" href="#_previous_work"></a>13.3. Previous Work</h3>
<div class="paragraph">
<p>The SimBlocks.io team specializes in connecting commercial gaming technologies with real-time 3D geospatial visualization applications by supporting industry standards for geospatial terrain, 3D models, and communication interoperability. SimBlocks previously participated in the OGC ISG Sprint 1, where SimBlocks integrated 3D Tiles and glTF model content from several vendors providing OGC GeoVolumes-compliant servers.</p>
</div>
<div class="paragraph">
<p>SimBlocks has created a whole-earth visualization plugin for the COTS Unity game engine capable of rendering the entire globe at any location at multiple levels of detail for imagery and elevation data. The One World SDK for Unity can consume geospatial data from cloud providers using web services technologies to process imagery, elevation data, and vector data. SimBlocks has tested ingesting data over web services including as Microsoft Bing Maps, OpenStreetMap, and a CDB web service provider. The One World SDK for Unity also supports high-detailed content insets using a variety of modeling formats, including OpenFlight, CDB, and have prototyped support for GeoPackage. Due to the rapidly increasing interest in visualizing geospatial data using real-time 3D game engines, SimBlocks recently made the <a href="https://github.com/SimBlocks/OneWorldSDKforUnity">One World SDK for Unity</a> open-source to increase its accessibility across a large user-base.</p>
</div>
<div class="paragraph">
<p>In addition to supporting Unity, SimBlocks has developed two tools to view CDB content in Unreal. The CDB Datasmith Exporter enables users to quickly export a desired CDB area into the Datasmith format, which can then be loaded and edited in the Unreal Editor, which is ideal for use cases where the area of interest is small and the user desires to manipulate or add to the terrain. The second tool SimBlocks has developed is the CDB Runtime Publisher SDK for Unreal, which enables developers to dynamically stream CDB content at runtime through a software plugin on top of the Unreal Engine. This SDK is ideal for viewing large CDBs and in use cases where the underlying CDB is frequently updated.</p>
</div>
<div class="paragraph">
<p>Although both of these tools are proprietary software developed by SimBlocks, they both leverage open-source software for reading and visualizing CDB, including osgEarth, OpenSceneGraph (OSG), and improvements made by other vendors. Evaluation of any enhancements to these existing open-source libraries can be made public consistent with their licenses.</p>
</div>
</div>
<div class="sect2">
<h3 id="_architecture"><a class="anchor" href="#_architecture"></a>13.4. Architecture</h3>
<div class="paragraph">
<p>The software architecture supports showing CDB content in the Unity and Unreal game engines. To support Unity, the CDB terrain is converted into GeoPackage and then streamed at runtime through a GoePackage Streaming plugin implemented by SimBlocks. These high-fidelity content insets are placed on top of the One World SDK global terrain. To support Unreal, the CDB terrain is exported to an Unreal-specific Datasmith format, which can be loaded directly into the Unreal Editor.</p>
</div>
<div id="img_SimBlocks-1" class="imageblock text-center">
<div class="content">
<img src="images/SimBlocks/SimBlocks%20-%20ISG2%20-%20Architecture.png" alt="SimBlocks   ISG2   Architecture" width="800">
</div>
<div class="title">Figure 67. The software architecture of the SimBlocks.io CDB data exporter for Unity and Unreal.</div>
</div>
</div>
<div class="sect2">
<h3 id="_proposed_activities"><a class="anchor" href="#_proposed_activities"></a>13.5. Proposed Activities</h3>
<div class="sect3">
<h4 id="_batch_data_conversion_scenario_1b"><a class="anchor" href="#_batch_data_conversion_scenario_1b"></a>13.5.1. Batch Data Conversion (Scenario 1B)</h4>
<div class="paragraph">
<p>Prototype large scale batch conversion of CDB to GeoPackage and the conversion of OpenFlight models within CDB to glTF binary encodings within GeoPackage. The terrains and models will then be visualized within the Unity and Unreal game engines. Results from this effort may inform the next version of CDB.</p>
</div>
<div class="paragraph">
<p>Prototype CDB conversion to GeoPackage containers as recommended by the 3D Geospatial Series Tech Sprint II –OGC CDB 2.0 held last year. In order to meet the timing goals and funding limitations of the Tech Sprint SimBlocks will incorporate this capability using an internally developed libraries for content conversion and creation.</p>
</div>
<div class="paragraph">
<p>Define an xml structure that describes the GeoPackage structure to be created to allow varying packaging of the GeoPackage output from the CDB. Items such as tiling structure and layer content of the output GeoPackage files that are output as well as model formats stored. OpenFlight models will be read and stored as glTF buffers in GeoPackage. While the San Diego CDB will at least be supported in this effort, if other open CDB data stores are contributed for this Sprint they may be considered as well.</p>
</div>
<div class="paragraph">
<p>Integrate with Unreal Engine through a SimBlocks developed CDB Runtime Publisher SDK as a part of its capabilities to support CDB in Unreal Engine.</p>
</div>
<div class="paragraph">
<p>Integrate with Unity. SimBlocks will integrate the loading of GeoPackage on top of the One World SDK for Unity to enable visualizing geospecific 3D content on top of a world-wide base terrain.</p>
</div>
</div>
<div class="sect3">
<h4 id="_scenario_3_3"><a class="anchor" href="#_scenario_3_3"></a>13.5.2. Scenario 3</h4>
<div class="paragraph">
<p>Leverage a procedural city generation capability that SimBlocks has developed to quick create 3D content from source data including imagery, elevation, and building footprints.</p>
</div>
<div class="paragraph">
<p>Proposes to add transportation elements procedurally to this database using additional openly available and sharable data sources which will then be added to the GeoPackage.</p>
</div>
<div class="paragraph">
<p>The current SimBlocks generation tool has focused on geotypical and geospecific 3D buildings. SimBlocks will enhance the tool to support transportation features to support traffic simulation on roads and rails. As well as, use several 3D entity models representing cars, trucks, trains, and aircraft in a real-time traffic simulation and explain how articulations and animations are supported in the models. SimBlocks preference will be to use existing OpenFlight models. Additionally, there will be integration of historical flight information to show an aircraft flying over the city.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_accomplishments_2"><a class="anchor" href="#_accomplishments_2"></a>13.6. Accomplishments</h3>
<div class="paragraph">
<p>SimBlocks accomplished much of but not all of the planned goals.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Conversion of CDB content into GeoPackage keeping OpenFlight Models.</p>
</li>
<li>
<p>Conversion of CDB content into GeoPackage using glTF binary as model format.</p>
</li>
<li>
<p>3d content creation directly into GeoPackage using glTF binary as the model format.</p>
</li>
<li>
<p>Capture performance metric of format choices using OSG software.</p>
</li>
<li>
<p>GeoPackage playback using the Unity Game Engine.</p>
</li>
<li>
<p>GeoPackage content conversion into Unreal Engine.</p>
</li>
<li>
<p>The SimBlocks team now has a much better understanding of glTF.</p>
</li>
<li>
<p>Utilize Unity’s “Advanced” Mesh API for better runtime performance.</p>
</li>
<li>
<p>Major software upgrade to improve support for CDB and GeoPackage in Unity.</p>
</li>
</ol>
</div>
<div class="sect3">
<h4 id="_austin_in_unity"><a class="anchor" href="#_austin_in_unity"></a>13.6.1. Austin in Unity</h4>
<div id="img_SimBlocks-2" class="imageblock text-center">
<div class="content">
<img src="images/SimBlocks/SimBlocks%20-%20ISG2%20-%20Austin%20in%20Unity.jpg" alt="SimBlocks   ISG2   Austin in Unity" width="800">
</div>
<div class="title">Figure 68. These images show three cities (Austin, Paris, and San Diego) rendered in three different rendering engines (Unity, Unreal Engine, and OpenSceneGraph). This first image is Austin showing in Unity.</div>
</div>
</div>
<div class="sect3">
<h4 id="_paris_in_unity"><a class="anchor" href="#_paris_in_unity"></a>13.6.2. Paris in Unity</h4>
<div id="img_SimBlocks-3" class="imageblock text-center">
<div class="content">
<img src="images/SimBlocks/SimBlocks%20-%20ISG2%20-%20Paris%20in%20Unity.jpg" alt="SimBlocks   ISG2   Paris in Unity" width="800">
</div>
<div class="title">Figure 69. The second image is Paris in Unity.</div>
</div>
</div>
<div class="sect3">
<h4 id="_austin_in_unreal"><a class="anchor" href="#_austin_in_unreal"></a>13.6.3. Austin in Unreal</h4>
<div id="img_SimBlocks-4" class="imageblock text-center">
<div class="content">
<img src="images/SimBlocks/SimBlocks%20-%20ISG2%20-%20Austin%20in%20Unreal.png" alt="SimBlocks   ISG2   Austin in Unreal" width="800">
</div>
<div class="title">Figure 70. The next two images were rendered with the Unreal Engine. This one is Austin.</div>
</div>
</div>
<div class="sect3">
<h4 id="_san_diego_in_unreal"><a class="anchor" href="#_san_diego_in_unreal"></a>13.6.4. San Diego in Unreal</h4>
<div id="img_SimBlocks-5" class="imageblock text-center">
<div class="content">
<img src="images/SimBlocks/SimBlocks%20-%20ISG2%20-%20San%20Diego%20in%20Unreal.png" alt="SimBlocks   ISG2   San Diego in Unreal" width="800">
</div>
<div class="title">Figure 71. The penultimate image of this set is San Diego rendered in Unreal Engine.</div>
</div>
</div>
<div class="sect3">
<h4 id="_san_diego_geopackage_in_openscenegraph"><a class="anchor" href="#_san_diego_geopackage_in_openscenegraph"></a>13.6.5. San Diego GeoPackage in OpenSceneGraph</h4>
<div id="img_SimBlocks-6" class="imageblock text-center">
<div class="content">
<img src="images/SimBlocks/SimBlocks%20-%20ISG2%20-%20San%20Diego%20in%20OSG.png" alt="SimBlocks   ISG2   San Diego in OSG" width="800">
</div>
<div class="title">Figure 72. OpenceneGraphi was also used to render downtown San Diego and Coronado Bridge.</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_methodology"><a class="anchor" href="#_methodology"></a>13.7. Methodology</h3>
<div class="sect3">
<h4 id="_converting_cdb_into_geopackage_with_openflight_models"><a class="anchor" href="#_converting_cdb_into_geopackage_with_openflight_models"></a>13.7.1. Converting CDB into GeoPackage with OpenFlight Models</h4>
<div class="sect4">
<h5 id="_geopackage_structure_overview"><a class="anchor" href="#_geopackage_structure_overview"></a>GeoPackage Structure Overview</h5>
<div class="paragraph">
<p>The GeoPackage output created from CDB under this topic can represent either GeoPackage tiles created relative to a CDB Level of Detail’s (LOD) tiling structure or generated around some arbitrary bounds that cover an Area of Interest (AOI). In this structure if it is tiled based on a CDB’s level of detail the CDB LOD chosen selects the tiling structure for the GeoPackage Tiles coverage. All levels of detail contained within a CDB are written to the GeoPackage tile that covers the content area of the GeoPackage. For example, using the San Diego CDB (see <strong>Appendix C</strong>) US R6 represents the LOD level 3 data which covers the San Diego Harbor and Coronado Bridge.</p>
</div>
<div id="img_SimBlocks-7" class="imageblock text-center">
<div class="content">
<img src="images/SimBlocks/SmBlocks%20-%20ISG2%20-%20San%20Diego%20CDB%20LOD3.png" alt="SmBlocks   ISG2   San Diego CDB LOD3" width="800">
</div>
<div class="title">Figure 73. San Diego CDB LOD 3 Image Tile U5 R6 is shown. The tiles extents are from Latitude 32.625 to 32.75 and Longitude -117.125 to -117.25.</div>
</div>
</div>
<div class="sect4">
<h5 id="_cdb_imagery_layer"><a class="anchor" href="#_cdb_imagery_layer"></a>CDB Imagery Layer</h5>
<div class="paragraph">
<p>When examining the San Diego CDB the highest resolution imagery found in the coverage for this tile is LOD 9. The sample spacing for LOD 9 of CDB at latitude 32 deg. is ~0.2173 m per pixel (1.9073e-6 Deg.). This gives us a raster size of 65536 x 65536 (64 LOD 9 tiles) which is written to the GeoPackage into the layer Imagery_S001_T001 at the CDB LOD 9 resolution.</p>
</div>
</div>
<div class="sect4">
<h5 id="_cdb_elevation_layer"><a class="anchor" href="#_cdb_elevation_layer"></a>CDB Elevation Layer</h5>
<div class="paragraph">
<p>When examining the elevation content in the CDB for the highest resolution it is seen that the highest resolution coverage is CDB LOD 7. The sample spacing for LOD 7 of this CDB at 32.0 degrees North is 0.8493 m per pixel (7.6294e-6 degrees). This gives us a raster image size of 16384 x 16384 (16 LOD 7 tiles) which is written to the GeoPackage into the layer Elevation_S001_T001 at the CDB LOD 7 resolution.</p>
</div>
</div>
<div class="sect4">
<h5 id="_cdb_geospecific_model_layers"><a class="anchor" href="#_cdb_geospecific_model_layers"></a>CDB GeoSpecific Model Layers</h5>
<div class="paragraph">
<p>The GeoSpecific model layers considered in this sprint were the 100_GSFeature and 300_GSModelGeometry layers. For the 101_GSFeature layer the contents of each LOD contained by the area represented by the GeoPackage tile were written as a layer into the GeoPackage. The CDB model layers as referenced in the San Diego GeoPackage use an instance dataset and a class dataset (i.e., files) containing S001_T001 in this layer refer to the instance parameters while files containing S001_T002 contain the class reference information for the entries in the instance layer. The class layer information is referenced using value contained the string attribute CNAM. In this experiment instance and class information were merged, creating an instance layer with both the instance and class attributes. In the image below the vector layers for both the GeoSpecific and GeoTypical model layers are shown. Model instances that reside in LOD layers less than 0 have been included in the LOD 0 layers. Layers 100_GSFeature_…L00 through 100_GSFeatue …L04 and 300_GSModelGeometry…_L00 through 300_GSModelGeometry…L04 contain the models and model references for the GeoPackage tile respectivly. The 300_GSModelGeometry layers contain the tiled model geometry for the CDB Tiles represented as zip archives and are written into the GeoPackage with a mime type of application-zip. The access to the 300_GSModelGeometry layer uses the CDB U and R numbers of the corresponding CDB tile data in the SQL query to read the model tile zip fie. This also places the requirement on the software accessing the reference information to query the layer using the geospatial extents of the CDB tile being referenced.</p>
</div>
<div id="img_SimBlocks-8" class="imageblock text-center">
<div class="content">
<img src="images/SimBlocks/SimBlocks%20-%20ISG2%20-%20GeoPackage%20Model%20Layers.png" alt="SimBlocks   ISG2   GeoPackage Model Layers" width="800">
</div>
<div class="title">Figure 74. GeoSpecific and GeoTypical Model layers shown in the tiled GeoPackage</div>
</div>
</div>
<div class="sect4">
<h5 id="_cdb_geotypical_model_layers"><a class="anchor" href="#_cdb_geotypical_model_layers"></a>CDB GeoTypical Model Layers</h5>
<div class="paragraph">
<p>The GeoTypical model references (101_GTFeature) are handled similarly to the GeoSpecific model references are represented in layers 101_GTFeature…L00 through 101_GTFeature…L03 in the figure above. The model geometry for the GeoTypical models resides in the GTModelGeometry_Mda layer in a zip archive file structure that follows the CDB GTModels structure starting at the 500_GTModelGeomtry level. The textures for the OpenFlight models used are stored in the GTModelTexture_Mda layer. This includes both the textures for both GeoTypical and GeoSpecific models for this database since the 301_GSModelTexture layer was not used for the San Diego CDB.</p>
</div>
</div>
<div class="sect4">
<h5 id="_creation_process"><a class="anchor" href="#_creation_process"></a>Creation Process</h5>
<div class="paragraph">
<p>Software routines were added to the SimBlocks Content Creation application allowing for selection of CDB and output areas for incorporation into GeoPackage tiles. This Application uses library functionally from the open source osgEarth / OpenSceneGraph that have CDB support added that is referenced below.</p>
</div>
</div>
<div class="sect4">
<h5 id="_file_counts"><a class="anchor" href="#_file_counts"></a>File Counts</h5>
<div class="paragraph">
<p>The San Diego CDB contained 25,461 files and 757 folders space on disk listed as 37.3GB. A targeted area GeoPackage file represents one file. A tiled GeoPackage set requires one file for each tile of each LOD down to the GeoPackage tile LOD for the xml reference files and one GeoPackage file at the target LOD. For a CDB using LOD3 for the GeoPackage tiling this would be 149 files and 85 folders.</p>
</div>
</div>
<div class="sect4">
<h5 id="_performance"><a class="anchor" href="#_performance"></a>Performance</h5>
<div class="paragraph">
<p>Open source versions of osgEarth and OpenSceneGraph software were used to directly visualize CDB and record metrics on data load times.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_converting_cdb_into_geopackage_with_models_converted_to_binary_gltf"><a class="anchor" href="#_converting_cdb_into_geopackage_with_models_converted_to_binary_gltf"></a>13.8. Converting CDB into GeoPackage with Models Converted to Binary glTF</h3>
<div class="sect3">
<h4 id="_geopackage_structure_overview_2"><a class="anchor" href="#_geopackage_structure_overview_2"></a>13.8.1. GeoPackage Structure Overview</h4>
<div class="sect4">
<h5 id="_imagery_and_elevation"><a class="anchor" href="#_imagery_and_elevation"></a>Imagery and Elevation</h5>
<div class="paragraph">
<p>The imagery and elevation in these files is exactly as described above in Converting CDB into GeoPackage with OpenFlight Models.</p>
</div>
</div>
<div class="sect4">
<h5 id="_cdb_geospecific_model_layers_2"><a class="anchor" href="#_cdb_geospecific_model_layers_2"></a>CDB GeoSpecific Model Layers</h5>
<div class="paragraph">
<p>The Geospecific layer names used when converting the CDB OpenFlight Models to glTF Binary representations are the same as in the OpenFlight version, however the process of writing the models into the 300_GSModelGeometry layers varies in that for each individual model a unique integer key is generated, the model is written into the layer using the model/gltf-binary mime type, and the key is recorded in the models reference (instance layer) as and attributed value. All models were written into their respective 300_GSModelGeometry layers with textures embedded as JPEG images for opaque textures and as PNG for transparent textures.</p>
</div>
</div>
<div class="sect4">
<h5 id="_cdb_geotypical_model_layers_2"><a class="anchor" href="#_cdb_geotypical_model_layers_2"></a>CDB GeoTypical Model Layers</h5>
<div class="paragraph">
<p>The GeoTypical layers created in this process were the 101_GTFeature… layers and the GTModelGeometry_Mda layer. As with the GeoSpecific Mode Layers each individual GeoTypical model is written into the GTModelGeometry_Mda with a unique integer key and the key value is recorded in the 101_GTFeatures as an attributed value.</p>
</div>
<div id="img_SimBlocks-9" class="imageblock text-center">
<div class="content">
<img src="images/SimBlocks/SimBlocks%20-%20ISG2%20-%20Model%20Layers2.png" alt="SimBlocks   ISG2   Model Layers2" width="800">
</div>
<div class="title">Figure 75. GeoSpecific and GeoTypical Model Layers from Tiled GeoPackage using glTF Binary (.glb) model files.</div>
</div>
</div>
<div class="sect4">
<h5 id="_creation_process_2"><a class="anchor" href="#_creation_process_2"></a>Creation Process</h5>
<div class="paragraph">
<p>Software routines were added to the SimBlocks Content Creation application allowing for selection of CDB and output areas for incorporation into GeoPackage tiles while converting the 3d model content from OpenFlight to glTF models. The model conversion process was performed using libraries from the open source osgEarth / OpenSceneGraph libraries referenced above in this document. These were output as binary glTF files.</p>
</div>
</div>
<div class="sect4">
<h5 id="_lessons_leaned"><a class="anchor" href="#_lessons_leaned"></a>Lessons Leaned</h5>
<div class="paragraph">
<p>The output capability for the glTF models is provided by an OpenSceneGraph (OSG) plugin provided in the osgEarth project. This project intern relies on the TinyGLTF project to perform the basic glTF (binary or JSON) reads and writes. While reading glTF, the data seemed to work fine, SimBlocks discovered and corrected several issues related to writing the glTF binary data. These fixes are present in the repositories referenced in the previous section.</p>
</div>
</div>
<div class="sect4">
<h5 id="_file_counts_2"><a class="anchor" href="#_file_counts_2"></a>File Counts</h5>
<div class="paragraph">
<p>The file count issues vs CDB are the same as reference in the section Converting CDB into GeoPackage with OpenFlight Models.</p>
</div>
</div>
<div class="sect4">
<h5 id="_file_size"><a class="anchor" href="#_file_size"></a>File size</h5>
<div class="paragraph">
<p>For the example GeoPackage Tile LOD3 U5 R6 required 2,390,364 KB of disk space with OpenFlight models while it took 34,583,256 KB of disk space with the glTF Binary files with embedded textures. This increased file size for the GeoPackage is a result of duplicating the texture content stored in the GTModels/GTModelTexture layer into many GLTF models as the San Diego CDB was created using only GeoTypical textures from this layer for both the GeoTypical and GeoSpecific models.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_geopackage_content_creation_austin_tx_for_unreal_engine_and_unity"><a class="anchor" href="#_geopackage_content_creation_austin_tx_for_unreal_engine_and_unity"></a>13.8.2. GeoPackage Content Creation (Austin, TX) for Unreal Engine and Unity</h4>
<div class="paragraph">
<p>An area around Austin TX was created to demonstrate the ability to create unified content in GeoPackage dataset that can be applied in both the Unity and Unreal game engines. Austin TX was selected for its rather rich GIS environment that is publicly available.</p>
</div>
<div class="sect4">
<h5 id="_imagery"><a class="anchor" href="#_imagery"></a>Imagery</h5>
<div class="paragraph">
<p>The imagery information that was originally downloaded from City of Austin&#8217;s GIS sight is from the CapArea Imagery 2019 dataset can now be found on the <a href="https://data.tnris.org/collection/f84442b8-ac2a-4708-b5c0-9d15515f4483">Texas Natural Resources Information System</a>.</p>
</div>
<div id="img_SimBlocks-10" class="imageblock text-center">
<div class="content">
<img src="images/SimBlocks/SimBlocks%20-%20ISG2%20-%20Austin%20-%20CapArea.png" alt="SimBlocks   ISG2   Austin   CapArea" width="800">
</div>
<div class="title">Figure 76. City of Austin, Texas map showing 6-inch GSD imagery coverage.</div>
</div>
<div class="paragraph">
<p>While SimBlocks originally downloaded Jpeg 2k tiles from the Cities GIS page, TRNS now also provides the data as a <a href="https://imagery.tnris.org/server/services/StratMap/StratMap19_NCCIR_CapArea/ImageServer/WMSServer">Web Map Service (WMS)</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_elevation"><a class="anchor" href="#_elevation"></a>Elevation</h5>
<div class="paragraph">
<p>Elevation for the area was pulled from USGS via the <a href="https://apps.nationalmap.gov/downloader/#/">Download server</a>.</p>
</div>
<div id="img_SimBlocks-11" class="imageblock text-center">
<div class="content">
<img src="images/SimBlocks/SimBlocks%20-%20ISG2%20-%20USGS.png" alt="SimBlocks   ISG2   USGS" width="800">
</div>
<div class="title">Figure 77. The 1-meter elevation coverage in the Austin region is shown here.</div>
</div>
<div class="paragraph">
<p>The data used for Austin was pulled from the USGS Web Coverage Service (WCS) found at <a href="https://elevation.nationalmap.gov/arcgis/services/3DEPElevation/ImageServer/WCSServer" class="bare">https://elevation.nationalmap.gov/arcgis/services/3DEPElevation/ImageServer/WCSServer</a> (Note: The Timeout setting for this site had to be increased to 60 seconds to prevent timeout errors during initialization and download)</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="title"><em>Link Error</em></div>
<div class="paragraph">
<p>This link returns a 404. Either refer to the Download server (above image) or fix the link. It is also necessary to descibe which timeout. Is it a browser setting or something else? In my case, the response was so fast that I don&#8217;t think any timeout change would matter. It would be better to make a "Note" this way rather than in-line in the text.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_building_footprint_information"><a class="anchor" href="#_building_footprint_information"></a>Building Footprint information</h5>
<div class="paragraph">
<p>The main portal for <a href="https://austintexas.gov/department/gis-data">Austin’s GIS data</a> contain links to all of the geographic data available. The Building footprint information can be found in the city&#8217;s <a href="https://austintexas.app.box.com/s/8ah8itbha7u6lis9eipypnz5ljvwta4t">Box account</a>. The building footprint file is <em>building_footprints_2019.gdb.zip</em>. This file contains accurate building footprints that match the 2019 imagery layer with height information for each building.</p>
</div>
</div>
<div class="sect4">
<h5 id="_tree_location_information"><a class="anchor" href="#_tree_location_information"></a>Tree Location Information</h5>
<div class="paragraph">
<p>The City of Austin maintains a tree inventory of trees within its geographical limits. The data is delivered as a <a href="https://data.austintexas.gov/Locations-and-Maps/Tree-Inventory/wrik-xasw">CSV file</a> and contains location, species, and truck diameter information.</p>
</div>
<div class="paragraph">
<p>The National Geospatial Intelligence Agency provides open US Cities data from its Geospatial Repository and Data Management System (GRiD). The system may be found here: <a href="https://grid.nga.mil/grid" class="bare">https://grid.nga.mil/grid</a> . One of the datasets available from the US Cities is a tree locations dataset. This dataset also contains the point location of the tress as well as tree height information for each tree in the dataset. This data was downloaded for the Austin area as a GeoPackage dataset.</p>
</div>
</div>
<div class="sect4">
<h5 id="_geopackage_creation_process"><a class="anchor" href="#_geopackage_creation_process"></a>GeoPackage Creation Process</h5>
<div class="paragraph">
<p>The SimBlocks Content Creation tool was used to process the Imagery (6in GSD) and Elevation (1m GSD) information into a selected area.</p>
</div>
</div>
<div class="sect4">
<h5 id="_for_unreal_engine_imagery_and_elevation"><a class="anchor" href="#_for_unreal_engine_imagery_and_elevation"></a>For Unreal Engine Imagery and Elevation</h5>
<div class="paragraph">
<p>The size of the area was set according the <a href="https://docs.unrealengine.com/4.26/en-US/BuildingWorlds/Landscape/TechnicalGuide/">Unreal Landscape requirements</a>. For the Austin area 4033x4033 and 8129x8129 were utilized.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="title">Unreal Engine Requirement</div>
<div class="paragraph">
<p>These sizes are for the Elevation Grid and in this dataset Imagery raster sizes are paired to this dataset based on <a href="https://docs.unrealengine.com/4.26/en-US/RenderingAndGraphics/VirtualTexturing/Streaming/">Unreal’s UDIM requirements</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>SimBlocks used a maximum individual texture size of 8192x8192 and in the 4033x4033 landscape this resulted in 4x4 UDIM texture set. (i.e., sixteen 8192x8192 image tiles covering the 4033x4033 elevation coverage). For the 8129x8129 case it also resulted in a 4x4 UDIM texture set.</p>
</div>
</div>
<div class="sect4">
<h5 id="_for_unity_imagery_and_elevation"><a class="anchor" href="#_for_unity_imagery_and_elevation"></a>For Unity Imagery and Elevation</h5>
<div class="paragraph">
<p>The Unity system does not place the same constraints on us regarding elevation post size. For convenience however, with this effort the same elevation sizes were used. The image layer for unity was written as a single raster layer at the 6in GSD. This resulted in an image raster of 26499x26499 for the 4033x4033 elevation grid. For the 8129x8129 elevation grid an image raster of 53413x53413 was utilized.</p>
</div>
</div>
<div class="sect4">
<h5 id="_3d_building_geometry_both_unreal_and_unity"><a class="anchor" href="#_3d_building_geometry_both_unreal_and_unity"></a>3D Building Geometry (both Unreal and Unity)</h5>
<div class="paragraph">
<p>For the area being created the Content Creation Software creates a 3D model in memory using the polygonal information provided from the Building Footprint information. The models were written to the GSModels Layer creating an integer unique key for the reference and the Location information was written to the GSModelReferences Layer as a point feature with the unique key added to the attribute table.</p>
</div>
</div>
<div class="sect4">
<h5 id="_3d_tree_features"><a class="anchor" href="#_3d_tree_features"></a>3D Tree Features</h5>
<div class="paragraph">
<p>Within the SimBlocks Content Creation tool a process was created to merge the content from the City of Austin tree inventory with the NGA GRiD tree information. The NGA GRiD information contains a broader area then the cities data. For each match found in the datasets the NGA data was updated with the cities species data and trunk diameter info. If no match was found the species field was set to “default”. This file was then used to create a mapping from each individual species found in the data to a tree species in the SimBlocks tree library. Once the mapping was set the GeoPackage creation process used the resulting data to place a model reference in the GTModelReference Layer of the output GeoPackage and storing one instance of each tree model mapped in the GTModels table.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_performance_metrics"><a class="anchor" href="#_performance_metrics"></a>13.9. Performance Metrics</h3>
<div id="img_SimBlocks-12" class="imageblock text-center">
<div class="content">
<img src="images/SimBlocks/SimBlocks%20-%20ISG2%20-%20Performance.png" alt="SimBlocks   ISG2   Performance" width="800">
</div>
<div class="title">Figure 78. The number of buildings loaded vs. the total load time shown for varying numbers of threads.</div>
</div>
<div class="paragraph">
<p>The above graph shows the number of buildings loaded vs the time in seconds when using 2, 4 and 7 threads. Not shown is how much time it would have taken for a single thread in debug mode. Debug mode was tremendously slower than release. A single area took 7 minutes to load and since it was loading on the main thread, the screen was frozen. There is a noticeable difference between 7 threads and 2 threads, imagine what 12 threads would be like.</p>
</div>
<div class="paragraph">
<p>The program is quite simple. When the One World SDK visits an area, it sends the geodetic extents to the plugin and puts it on a stack and notifies a sleeping thread that it has a task to do. The woken thread queries GeoPackage; and if it finds models there, it then generates a “Work” structure. The thread then puts it on a queue and wakens N-1 threads to start converting these models. The thread that is processing the last building in the chunk, then takes all the buildings and batches them together and then converts them to graphics buffers and puts it on a queue. The main thread will call an Update function that checks this queue and then converts this to a Unity mesh. The thread will then take the next “Work” structure and process that as described above. The program takes around 7 gigabytes once all buildings are loaded.</p>
</div>
<div class="paragraph">
<p>SimBlocks investigated time performance by measuring the time taken to do the various steps described above. It was found that the C++ plugin consumes around 50% of the processing time with 95% of that time used by TinyGLTF loading strings. Surprisingly, more time is spent in deleting the glTF models than actually batching them together at runtime. Only a tiny fraction (less than 1%) is spent querying the models from the GeoPackage. Clearly, the bottleneck is TinyGLTF. 19% of the time spent in TinyGLTF is in parsing image data. This can be reduced to nearly zero by sharing the images between models. Apart from the glTF loading from string, the other reason TinyGLTF may be slow is that the models are read from a magnetic disk.</p>
</div>
</div>
<div class="sect2">
<h3 id="_created_converted_content_in_unreal_engine_4_26_1"><a class="anchor" href="#_created_converted_content_in_unreal_engine_4_26_1"></a>13.10. Created / Converted Content in Unreal Engine 4.26.1</h3>
<div class="paragraph">
<p>The export process to Unreal Engine utilizes the SimBlocks content creation tool&#8217;s Datasmith transformation capability to convert the GeoPackage contents into forms that the Unreal Engine editor can consume. Keeping in mind that the GeoPackage raster and elevation are as described in the For Unreal Engine Imagery and Elevation section above. In this process the elevation and imagery tiles are extracted from the GeoPackage and rotated 90 degrees. The elevation in the GeoPackage is stored as 32-bit floating point datum. In its scaling to the 16 bit PNG required by Unreal. In this mapping 0 is mapped to 32768 and min to max elevation values are scaled from 32768 to 65536. Each Image raster is rotated 90 deg. as it is converted to 8 bit PNG raster images. An Unreal Datasmith output is then created describing the geometry of all 3d content in the GeoPackage file. The directory structure below shows the export of the Austin 8129x8129 output. The output Datasmith xml files are in the Datasmith subdirectory.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="title"><em>Bad Sentence</em></div>
<div class="paragraph">
<p>Half-way through the above paragraph the "sentence": "In its scaling to the 16 bit PNG required by Unreal." is not a complete sentence. It also does not make sense relative to the material before it. The text either needs to be removed or corrected.</p>
</div>
</td>
</tr>
</table>
</div>
<div id="img_SimBlocks-13" class="imageblock text-center">
<div class="content">
<img src="images/SimBlocks/SimBlocks%20-%20ISG2%20-%20Datasmith.png" alt="SimBlocks   ISG2   Datasmith" width="800">
</div>
<div class="title">Figure 79. Windows Explorer shows the files exported by Unreal Datasmith.</div>
</div>
<div class="sect3">
<h4 id="_importation_of_the_datasmith_output_into_unreal"><a class="anchor" href="#_importation_of_the_datasmith_output_into_unreal"></a>13.10.1. Importation of the Datasmith output into Unreal</h4>
<div class="paragraph">
<p>Once the Datasmith export process completed the Unreal Engine Editor is used to import the data and covert it to native Unreal assets. To do this the user presses the Datasmith button on the Top of the Application window and navigates to the .udatasmith file in the Datasmith directory shown in the graphic below.</p>
</div>
<div id="img_SimBlocks-14" class="imageblock text-center">
<div class="content">
<img src="images/SimBlocks/SimBlocks%20-%20ISG2%20-%20Datasmith%20Import.png" alt="SimBlocks   ISG2   Datasmith Import" width="800">
</div>
<div class="title">Figure 80. Datasmith import into Unreal Engine 4.26.1 is shown in this render.</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_technical_challenges"><a class="anchor" href="#_technical_challenges"></a>13.11. Technical Challenges</h3>
<div class="sect3">
<h4 id="_openscenegraph_gltf_creation"><a class="anchor" href="#_openscenegraph_gltf_creation"></a>13.11.1. OpenSceneGraph glTF Creation</h4>
<div class="sect4">
<h5 id="_issues_with_gltf_creation_in_the_osg_software_being_used_for_conversion"><a class="anchor" href="#_issues_with_gltf_creation_in_the_osg_software_being_used_for_conversion"></a>Issues with glTF creation in the osg software being used for conversion.</h5>
<div class="ulist">
<ul>
<li>
<p>The unexpected issues encountered in creating glTF could be considered and gap in technical capabilities.</p>
</li>
<li>
<p>This gap was address by correcting the issues and publishing the updates.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_tile_content_issues_in_the_san_diego_cdb"><a class="anchor" href="#_tile_content_issues_in_the_san_diego_cdb"></a>Tile content issues in the San Diego CDB</h5>
<div class="ulist">
<ul>
<li>
<p>Tile Model Geometry limits exceeded</p>
</li>
<li>
<p>Tile Model Reference counts exceeded</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_ccli_integration_with_unity"><a class="anchor" href="#_ccli_integration_with_unity"></a>C++\CLI Integration with Unity</h5>
<div class="ulist">
<ul>
<li>
<p>SimBlocks software development team evaluated if using a C\CLI interface on top of some C code to call the functions from C#; however after some testing it was determined this would not be possible with Unity as the engine does not allow loading managed C++ modules.</p>
</li>
<li>
<p>As an alternative, using other ways to interoperate between C++ and C# was successful.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_debugging_external_dlls_in_unity"><a class="anchor" href="#_debugging_external_dlls_in_unity"></a>Debugging External DLLs in Unity</h5>
<div class="ulist">
<ul>
<li>
<p>When a Plugin loads an external DLL, Unity will enter into an unstable state, making the Editor unusable. A workaround was to build the standalone player, which makes debugging more difficult.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_texture_flickering_mipmap_issues"><a class="anchor" href="#_texture_flickering_mipmap_issues"></a>Texture flickering, mipmap issues.</h5>
<div class="ulist">
<ul>
<li>
<p>Some texture flickering is noticeable, and SimBlocks team is currently investigating a mipmap solution.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_future_work_2"><a class="anchor" href="#_future_work_2"></a>13.12. Future Work</h3>
<div class="ulist">
<ul>
<li>
<p>Showing transportation elements is still an outstanding task.</p>
</li>
<li>
<p>Reduce GeoPackage size by sharing textures between models</p>
</li>
<li>
<p>Reduce GeoPackage size and loading time by using DXT/hardware texture compression</p>
</li>
<li>
<p>Improve Unity rendering performance by batching models and sharing materials and textures</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Steinbeis"><a class="anchor" href="#Steinbeis"></a>14. Component Implementation: Steinbeis</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_overview_4"><a class="anchor" href="#_overview_4"></a>14.1. Overview</h3>
<div class="paragraph">
<p>In the ISG Sprint Year 2, the Steinbeis team developed various data visualization clients, including Unreal Engine (UE), Unity 3D, web client, and smartphone fetching the 3D data from the GeoVolume server. Steinbeis has used the 3D building models of the University of Applied Sciences Stuttgart (HFT Stuttgart) and its surrounding area as a use-case. These were modeled with interiors and are available in different formats such as skp or x3d. Those formats can be converted to gltf/glb or 3D Tiles. Measurements of the CO2 concentration inside the rooms were integrated. These measurements come from the Sensors placed in rooms that are managed with the SensorThings API.</p>
</div>
<div class="paragraph">
<p>Moreover, the dynamic data from the moving sensors from different types of vehicles were integrated into visualization clients. They can access and render these datasets from SensorThings to simulate 3D urban mobility. The dynamic moving data such as taxi, air-taxi movement, and eBike movement was managed and delivered through the OGC SensorThings API standard. At the same time, the concept and implementation used the GeoVolumes API for managing the 3D geospatial resources.</p>
</div>
<div class="paragraph">
<p>The overall system architecture of Steinbeis' implementation is illustrated in <a href="#Steinbeis_systemArchitecture">Figure 84</a>.</p>
</div>
<div id="Steinbeis_systemArchitecture" class="imageblock text-center">
<div class="content">
<img src="images/Steinbeis/systemArchitecture.jpg" alt="systemArchitecture" width="800">
</div>
<div class="title">Figure 81. The system architecture of Steinbeis' implementation allows for importing of GeoVolumes and SensorThings data into third-pary display technologies.</div>
</div>
</div>
<div class="sect2">
<h3 id="_server_side"><a class="anchor" href="#_server_side"></a>14.2. Server Side</h3>
<div class="sect3">
<h4 id="_geovolumes_server"><a class="anchor" href="#_geovolumes_server"></a>14.2.1. GeoVolumes Server</h4>
<div class="paragraph">
<p>In the OGC ISG <a href="https://www.ogc.org/projects/initiatives/isg-sprint-yr1">Sprint Year 1</a>, Steinbeis successfully implemented a GeoVolumes API server to deliver 3D geospatial resources supporting 3D Tiles, I3S, and Terrain and available <a href="http://steinbeis-3dps.eu/3DGeoVolumes">online</a>. The data available on this server included New York City and San Diego. In this OGC ISG Sprint Year 2 the GeoVolumes server was expanded with the data around the HFT Stuttgart area, Germany and organized the 3D content by the usage of the data in the client as follows:</p>
</div>
<div class="olist upperroman">
<ol class="upperroman" type="I">
<li>
<p>3D model of HFT Stuttgart building in LoD-4.</p>
</li>
<li>
<p>3D building models for the surrounding area of the HFT Stuttgart in LoD-1.</p>
</li>
<li>
<p>The combined models of I. and II.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The GeoVolumes server collections can be rendered in <code>HTML</code> as shown in <a href="#Steinbeis_GeoVolumes">Figure 85</a>. The same result in <code>JSON</code> format is also available. Either format can be accessed via the same URL, but with a different search string</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://steinbeis-3dps.eu/3DGeoVolumes/collections/?f=html">HTML</a></p>
</li>
<li>
<p><a href="https://steinbeis-3dps.eu/3DGeoVolumes/collections/?f=json">JSON</a></p>
</li>
</ul>
</div>
<div id="Steinbeis_GeoVolumes" class="imageblock text-center">
<div class="content">
<img src="images/Steinbeis/steinbeis_geovolumes2.jpg" alt="steinbeis geovolumes2" width="800">
</div>
<div class="title">Figure 82. Steinbeis GeoVolumes Server output showing links and resultant images.</div>
</div>
</div>
<div class="sect3">
<h4 id="_sensorthings_server"><a class="anchor" href="#_sensorthings_server"></a>14.2.2. SensorThings Server</h4>
<div class="paragraph">
<p>In this sprint, two SensorThings servers are developed to manage the environmental data (e.g. CO2, PM2.5, and PM10) from the sensors around the HFT Stuttgart area and the mobility routes around the Stuttgart area. Both servers can be accessed via <a href="http://193.196.138.56/frost-luftdata-api/" class="bare">http://193.196.138.56/frost-luftdata-api/</a> and <a href="http://193.196.138.56/sta-isg-sprint/" class="bare">http://193.196.138.56/sta-isg-sprint/</a> respectively.</p>
</div>
<div class="paragraph">
<p>The data modeling of the SensorThings API server for air quality data is shown in <a href="#Steinbeis_STA_air">Figure 86</a>. In this server, when the sensor system is attached to the building which existed in the CityGML model, the <code>gml_id</code> of the related CityGML object can be linked and stored in the SensorThings' Thing entity. This concept is called <a href="https://doi.org/10.1177/2399808320983000">CityThings</a>.</p>
</div>
<div id="Steinbeis_STA_air" class="imageblock text-center">
<div class="content">
<img src="images/Steinbeis/Steinbeis-SensorThingsDataModel_air.jpg" alt="Steinbeis SensorThingsDataModel air" width="800">
</div>
<div class="title">Figure 83. Steinbeis' SensorThings API Server data model is shown for static (non-moving) air quality sensors.</div>
</div>
<div class="paragraph">
<p>The data modeling of the SensorThings API server for mobility routes is shown in <a href="#Steinbeis_STA">Figure 87</a>. In this server, the SensorThings Location and HistoricalLocation entity are used for managing the route data of each vehicle. These entities were used to visualize synthetic eBike and air taxi routes in Stuttgart city.</p>
</div>
<div id="Steinbeis_STA" class="imageblock text-center">
<div class="content">
<img src="images/Steinbeis/Steinbeis-SensorThingsDataModel_bike.jpg" alt="Steinbeis SensorThingsDataModel bike" width="800">
</div>
<div class="title">Figure 84. Steinbeis' SensorThings API Server data model is shown for moving air quality sensors.</div>
</div>
</div>
<div class="sect3">
<h4 id="_3d_building_data_generation"><a class="anchor" href="#_3d_building_data_generation"></a>14.2.3. 3D Building Data Generation</h4>
<div class="sect4">
<h5 id="_introduction_4"><a class="anchor" href="#_introduction_4"></a>Introduction</h5>
<div class="paragraph">
<p>As mentioned above, three types of 3D building datasets were used for the OGC ISG sprint year 2.</p>
</div>
<div class="olist upperroman">
<ol class="upperroman" type="I">
<li>
<p><a href="#3D-model-HFT-Stuttgart-LOD4">3D model of HFT Stuttgart building in LoD-4</a></p>
</li>
<li>
<p><a href="#3D-models-HFT-Stuttgart-LOD1">3D building models for the surrounding area of the HFT Stuttgart in LoD-1</a></p>
</li>
<li>
<p><a href="#Combined-models-LOD-1_4">The combined models of I. and II</a></p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_3d_model_of_hft_stuttgart_building_in_lod_4"><a class="anchor" href="#_3d_model_of_hft_stuttgart_building_in_lod_4"></a>3D model of HFT Stuttgart building in LoD-4</h5>
<div class="paragraph">
<p>The 3D model of HFT Stuttgart building 2 in LoD-4 is originally available in Trimble Sketchup (skp) format. For its use in the ISG sprint, data conversion from skp to glTF was done using Feature Manipulation Engine (FME).</p>
</div>
<div id="skp_gltf" class="imageblock text-center">
<div class="content">
<img src="images/Steinbeis/skp2gltf.jpg" alt="skp2gltf" width="800">
</div>
<div class="title">Figure 85. FME screen shot showing the processing of a Trimble Sketchup to glTF conversion.</div>
</div>
<div class="paragraph">
<p>The glTF output was produced in version 2.0 as a single binary file (glb). For its later use in ArcGIS CityEngine, the glTF model was imported using CityEngine’s inbuilt glTF importer.</p>
</div>
<div id="gltf_cityengine" class="imageblock text-center">
<div class="content">
<img src="images/Steinbeis/gltf_cityengine.jpg" alt="gltf cityengine" width="800">
</div>
<div class="title">Figure 86. An example of a glTF model of HFT Stuttgart building imported into ArcGIS CityEngine.</div>
</div>
<div class="paragraph">
<p>The output glTF file was found to have incorrect surface normals in some parts of the model. Further investigation found that the surface normals were preserved if the same model was converted to COLLADA (dae) using Trimble Sketchup’s built-in COLLADA exporter. This issue was further confirmed by Ecere, who collaborated with the Steinbeis team to integrate the LoD-4 model of HFT Stuttgart within their visualization library / VR / AR applications and CDB X GeoPackage prototype producer. Further, to investigate the issue different glTF exporters such as the freely available <a href="https://extensions.sketchup.com/extension/052071e5-6c19-4f02-a7e8-fcfcc28a2fd8/gltf-exporter">glTF exporter plugin</a> of Trimble Sketchup and CityEngine’s built-in glTF exporter were used. Unfortunately, each tool produced different glTF output in terms of data quality. Hence together with Ecere, a joint recommendation to improve the glTF data conversion pipeline from commonly used data formats such as Trimble Sketchup (skp), COLLADA (dae), 3D multipatch shapefiles/FileGeodatabase (shp, FileGDB) is suggested. For the moment, the incorrect surface normals from few parts of the original model were manually fixed for the use case development.</p>
</div>
</div>
<div class="sect4">
<h5 id="_3d_building_models_for_the_surrounding_area_of_the_hft_stuttgart_in_lod_1"><a class="anchor" href="#_3d_building_models_for_the_surrounding_area_of_the_hft_stuttgart_in_lod_1"></a>3D building models for the surrounding area of the HFT Stuttgart in LoD-1.</h5>
<div class="paragraph">
<p>To generate 3D buildings around the HFT Stuttgart building, CityEngine’s built-in connection to Open Street Map (OSM) was used. First, the building footprints of the neighboring buildings were fetched from the OSM dataset. These building footprints were then extruded to LOD-1 building models with generic textures using CityEngine’s built-in shape grammar rule file of Building_From_OpenStreetMap.cga.</p>
</div>
<div id="lod1_cityengine" class="imageblock text-center">
<div class="content">
<img src="images/Steinbeis/lod1_cityengine.jpg" alt="lod1 cityengine" width="800">
</div>
<div class="title">Figure 87. LOD-1 of 3D building models with generic textures displayed using ArcGIS CityEngine.</div>
</div>
</div>
<div class="sect4">
<h5 id="_the_combined_models_of_i_and_ii"><a class="anchor" href="#_the_combined_models_of_i_and_ii"></a>The combined models of I. and II</h5>
<div class="paragraph">
<p>For the combined used on the client side, both models I and II were merged inside CityEngine. The LOD-1 model of the HFT Stuttgart building was replaced with the imported LOD-4 glTF model.</p>
</div>
<div id="lod1lod4_cityengine" class="imageblock text-center">
<div class="content">
<img src="images/Steinbeis/lod1lod4_cityengine.jpg" alt="lod1lod4 cityengine" width="800">
</div>
<div class="title">Figure 88. ArcGIS CityEngine display of a LOD-4 building model of HFT Stuttgart surrounded by LOD-1 building models.</div>
</div>
<div class="paragraph">
<p>To preserve the georeferenced coordinates and textures, the combined model was exported to FileGDB. Using ArcGIS Pro and FME, FileGDB was converted to Scene Layer Package (slpk – i3s) and 3D Tiles respectively.
The overall data conversion flow diagram is illustrated in <a href="#dataconversion_ISG">Figure 92</a>.</p>
</div>
<div id="dataconversion_ISG" class="imageblock text-center">
<div class="content">
<img src="images/Steinbeis/dataconversion_ISG.jpg" alt="dataconversion ISG" width="800">
</div>
<div class="title">Figure 89. The data conversion pipeline from ArcGIS CityEngine to I3S and 3D Tiles is shown in this processing pipeline.</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_client_side"><a class="anchor" href="#_client_side"></a>14.3. Client Side</h3>
<div class="paragraph">
<p>The focus of the client side is to provide an overview of the compatibility between the different standards.
On the frontend different tools were used for the visualization. CesiumJS and the ArcGIS Client are Javascript-based libraries for Web-Visualization.
Unreal Engine and Unity are game engines that allow for the creation of applications in the field of desktop games, as well as AR and VR applications. The Android Augmented Reality column is an application developed with Unreal Engine. In the iOS Augmented Reality application, the native tool in the Apple iOS devices is used to visualize 3D and AR content without having to download special apps.</p>
</div>
<div class="paragraph">
<p>Showing Overview with the Matrix table and explain each block.</p>
</div>
<div id="compatibleMatrix" class="imageblock text-center">
<div class="content">
<img src="images/Steinbeis/compatibleMatrix.jpg" alt="compatibleMatrix" width="800">
</div>
<div class="title">Figure 90. The compatibility matrix between clients (columns) and server providers (rows) is displayed as color-coded cells. Green indicates compatibility, orange is incompatible, and yellow is future work.</div>
</div>
<div class="sect3">
<h4 id="_game_engines"><a class="anchor" href="#_game_engines"></a>14.3.1. Game Engines</h4>
<div class="sect4">
<h5 id="_unreal_engine"><a class="anchor" href="#_unreal_engine"></a>Unreal Engine</h5>
<div class="paragraph">
<p>The Unreal Engine 4 developed by <a href="https://www.unrealengine.com/en-US/">Epic Games</a> was used in this sprint to test out the compatibility with the different datasets and the different methods of providing them. For this use case a third-person (view) project was set up in the developer environment. To access the data the plugin listed below was used. This is provided in the Epic Games Store Marketplace.</p>
</div>
<div class="sect5">
<h6 id="_unreal_3d_tiles"><a class="anchor" href="#_unreal_3d_tiles"></a>Unreal + 3D Tiles</h6>
<div class="paragraph">
<p>3D Tiles are a Standard for 3D Data Streaming supported by the OGC and developed by Cesium. To access a 3D Tiles Dataset in UE4, Cesium developed a plugin called "Cesium for Unreal". The main function of the Plugin is to load assets from Cesium Ion, such as the Cesium Terrain, into the game world. Since the Plugin was designed to load 3D Tiles from Cesium Ion, the process is straightforward. Only the Asset ID and the key are required.
But it also opens the door for loading datasets in different ways. In a recent update the process for this is made more accessible because it has an option to switch between the Asset ID &amp; Key and a URL field. The URL can point to a 3D Tileset from a Geovolumes Server. This was successfully tested with an implementation of the GeoVolumes Server on the Steinbeis Server.</p>
</div>
<div class="paragraph">
<p><a href="https://steinbeis-3dps.eu/3DGeoVolumes/collections/Stuttgart/Stuttgart_3DBuildings_LoD1_HfTLoD4_unreal/tileset.c4u.json" class="bare">https://steinbeis-3dps.eu/3DGeoVolumes/collections/Stuttgart/Stuttgart_3DBuildings_LoD1_HfTLoD4_unreal/tileset.c4u.json</a></p>
</div>
<div class="paragraph">
<p>It also allows to loading 3D Tiles from a local source. For that purpose, the URL field has to be used and point to a location on a local drive. To indicate that the URL has to start with the <a href="file:///" class="bare">file:///</a> protocol prefix.</p>
</div>
<div id="Steinbeis-UE_GeoVolume" class="imageblock text-center">
<div class="content">
<img src="images/Steinbeis/CesiumUnrealGeoVolumes.JPG" alt="CesiumUnrealGeoVolumes" width="800">
</div>
<div class="title">Figure 91. Unreal Engine displaying loaded 3D Tiles from GeoVolumes Server.</div>
</div>
<div class="paragraph">
<p>Loading 3D Tiles into Unreal Engine requires that the coordinate system needs to be in line with UE&#8217;s expectations. Because the test dataset did not fit those requirements, it needed to be converted. An <a href="https://github.com/tomap-app/rtcCenter2transform" target="_blank" rel="noopener">Open Source Tool</a> (the PLATEAU project) is available to convert 3D Tiles into Relative to Center (RTC) format. The conversion is also indicated in the URL with the c4u ending generated by the conversion tool. A first effort to host this tool on a server for on-the-fly conversion failed but, with further investigation, seems plausible. This would be a great addition to the GeoVolumes Server because the tilesets wouldn&#8217;t have to be hosted in two different formats (RTC and regular Coordinates) but instead could be converted on the fly and accessed through additions in the URL.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 9. RTC Conversion 3DTiles</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Before Conversion</th>
<th class="tableblock halign-left valign-top">After Conversion</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json"><span class="key"><span class="delimiter">&quot;</span><span class="content">boundingVolume</span><span class="delimiter">&quot;</span></span> : {
            <span class="key"><span class="delimiter">&quot;</span><span class="content">box</span><span class="delimiter">&quot;</span></span> : [
                  <span class="float">4157169.143514174</span>,
                  <span class="float">671422.7367559096</span>,
                  <span class="float">4774754.532228447</span>,
                  <span class="float">846.1180383828469</span>,
                  <span class="integer">0</span>,
                  <span class="integer">0</span>,
                  <span class="integer">0</span>,
                  <span class="float">983.3672450176673</span>,
                  <span class="integer">0</span>,
                  <span class="integer">0</span>,
                  <span class="integer">0</span>,
                  <span class="float">703.838994808495</span>
               ]
           }</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json"><span class="key"><span class="delimiter">&quot;</span><span class="content">boundingVolume</span><span class="delimiter">&quot;</span></span>: {
            <span class="key"><span class="delimiter">&quot;</span><span class="content">box</span><span class="delimiter">&quot;</span></span>: [
                <span class="float">-3.955821495503187</span>,
                <span class="float">-1.57150904845912</span>,
                <span class="integer">0</span>,
                <span class="float">846.1180383828469</span>,
                <span class="integer">0</span>,
                <span class="integer">0</span>,
                <span class="integer">0</span>,
                <span class="float">983.3672450176673</span>,
                <span class="integer">0</span>,
                <span class="integer">0</span>,
                <span class="integer">0</span>,
                <span class="float">703.838994808495</span>
            ]
        }</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect5">
<h6 id="_unreal_i3s"><a class="anchor" href="#_unreal_i3s"></a>Unreal + I3S</h6>
<div class="paragraph">
<p>To use I3S Tiles in UE4, the "ArcGIS Maps SDK for Unreal Engine" is needed. It is in beta and can be downloaded from the <a href="https://earlyadopter.esri.com/key/ArcGISforGameEngines">ESRI Early Adopter</a> site. It currently cannot be downloaded from within the Epic Games Marketplace.
To use the plugin, it needs to be placed in the plugins folder of an Unreal Engine C&#43;&#43; Project. Upon installing it, a message shows that the plugin is developed for Unreal Engine version 4.25, which is the previous release of the UE. The plugin then provides a graphical user interface and possibilities over C++ programming to add I3S to the game world. They can be managed as Layers.</p>
</div>
<div id="Steinbeis-UE_ArcGIS" class="imageblock text-center">
<div class="content">
<img src="images/Steinbeis/ArcGISforUnreal.JPG" alt="ArcGISforUnreal" width="400">
</div>
<div class="title">Figure 92. ArcGIS Maps SDK running in Unreal Engine4.</div>
</div>
<div id="unreal_i3s" class="imageblock text-center">
<div class="content">
<img src="images/Steinbeis/unreal_i3s.png" alt="unreal i3s" width="400">
</div>
<div class="title">Figure 93. Visualizing i3s 3D models in Unreal Engine.</div>
</div>
<div class="paragraph">
<p>As shown in <a href="#unreal_i3s">Figure 96</a> and the compatibility matrix (<a href="#compatibleMatrix">Figure 93</a>), the streaming of the I3s from an ArcGIS server works with this solution.</p>
</div>
<div class="paragraph">
<p>To further investigate the interoperability between the Unreal Engine and the I3S format an I3S service was implemented based on the SLPK (Scene Layer Package) format, which is based on the I3S specification and realized as a compressed/portable version of an I3S file structure. The Steinbeis I3S service was implemented with Node.js and comprised all the endpoints necessary to access the I3S payloads: Node, Shared, Features, Geometries, Attributes, and Textures. Although the ArcGIS JavaScript Client was compatible with the Steinbeis I3S service, Unreal Engine wasn&#8217;t able to fetch the payloads from the Steinbeis service. Since an API key is needed to access the I3S datasets hosted in the ArcGIS Enterprise Portal, Unreal Engine expected a portal item and not an I3S dataset hosted in a third-party server.</p>
</div>
<div class="paragraph">
<p>As of the end of the Sprint, there is no clear path on how to include I3S streamed from the Steinbeis server</p>
</div>
<div class="paragraph">
<p>In comparison to the Cesium Plugin, the ArcGIS Maps SDK works differently and does not show directly in the Editor Window. This makes using it with views like a 3rd Person  more difficult. Also, it requires a C&#43;&#43; project, whereas the Cesium plugin can also be used with a Blueprint Project.</p>
</div>
</div>
<div class="sect5">
<h6 id="_unreal_gltf"><a class="anchor" href="#_unreal_gltf"></a>Unreal + glTF</h6>
<div class="paragraph">
<p>The possibility of including glTF Models into UE4 is given by multiple plugins such as the Datasmith Plugin, the glTFRuntime Plugin, and the glTF Exporter. The Datasmith and the glTF Exporter are published by Epic Games directly. In this Sprint, the glTF Exporter was tested with different glTF models. This is shown in the Compatibility Matrix. With this plugin, it is not possible to load glTF models from the Steinbeis Server into UE4.
In future work, it can be tested if glTF models can be loaded from Servers with glTFRuntime Plugin or over C++.
There is a workaround to convert the glTF model in Cesium Ion to 3D Tiles and then use the model in Unreal Engine. This still allows for streaming the model from a server, but the location has to be specified in Cesium Ion. If the model is imported via the glTF Exporter, then it can be placed directly in the Unreal Engine viewer.</p>
</div>
<div id="UnrealGlTF" class="imageblock text-center">
<div class="content">
<img src="images/Steinbeis/GLTFUnrealLocal.JPG" alt="GLTFUnrealLocal" width="800">
</div>
<div class="title">Figure 94. A local glTF model imported into Unreal Engine.</div>
</div>
<div class="paragraph">
<p>The tests were carried out with a glTF 2.0 Model of the University of Applied Sciences (HFT Stuttgart) and an official glTF 2.0 model of a Waterbottle.</p>
</div>
</div>
<div class="sect5">
<h6 id="_unreal_sensorthings"><a class="anchor" href="#_unreal_sensorthings"></a>Unreal + SensorThings</h6>
<div class="paragraph">
<p>The Sensor Things Server can be connected to a UE4 project like other Rest APIs. The Epic Games Marketplace provides different plugins for that purpose. For this Sprint the VaRest Plugin was tested since it can be used for free. It provides some functions in the blueprint system of UE4 that allow it to connect to SensorThings and request observations. It was tested with the air quality sensors in Stuttgart.</p>
</div>
<div id="UnrealSensorThings" class="imageblock text-center">
<div class="content">
<img src="images/Steinbeis/SensorThingsUnreal.JPG" alt="SensorThingsUnreal" width="800">
</div>
<div class="title">Figure 95. The connection to SensorThings using VaRest shown in Unreal Engine&#8217;s Blueprint visual scripting system.</div>
</div>
<div id="UnrealSensorThings2" class="imageblock text-center">
<div class="content">
<img src="images/Steinbeis/SensorThingsUnreal2.JPG" alt="SensorThingsUnreal2" width="800">
</div>
<div class="title">Figure 96. Demonstration of connecting real-time fine dust sensor data in the Unreal Game Engine using SensorThings API.</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_unity"><a class="anchor" href="#_unity"></a>Unity</h5>
<div class="sect5">
<h6 id="_unity_i3s"><a class="anchor" href="#_unity_i3s"></a>Unity + I3S</h6>
<div class="paragraph">
<p>Compatibility between the Unity game engine and I3S is achieved via a Unity plugin developed by ESRI. An ESRI Early Adopter account is required in order to download the plugin and an API key to access the ESRI online services. The I3S plugin for Unity supports two of the available project templates in Unity, i.e., High Definition Render Pipeline and the Universal Render Pipeline. Installation of the plugin is managed by locally importing it as a Unity package. The user can choose to use the plugin either as a graphical user interface (GUI) or a C# scripting interface. In order to activate the GUI, the user has to add the I3S plugin as a prefab in the scene hierarchy. The various GUI sections allow the user to customize the camera position (Latitude, Longitude, Height) and direction (Heading, Pitch, Roll) in a global coordinate reference system, the base map among different map tile servers, the addition of I3S data via a remote URL or local file as a layer and the added layers management by controlling their visibility, ordering, naming, opacity, duplication, and deletion. The addition of I3S layers hosted on the ArcGIS Enterprise Portal was seamless and error-free in Unity. An attempt to investigate the interoperability between the I3S plugin for Unity and the Steinbeis I3S server resulted, similar to the Unreal Engine, in failure for the same reason.</p>
</div>
<div id="UnityI3s" class="imageblock text-center">
<div class="content">
<img src="images/Steinbeis/arcgis_i3s_unity.png" alt="arcgis i3s unity" width="800">
</div>
<div class="title">Figure 97. A visualization of the I3S 3D building model service is shown in Unity3D.</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_web_visualization"><a class="anchor" href="#_web_visualization"></a>Web Visualization</h4>
<div class="paragraph">
<p>In the ISG Sprint Year 1 a client application based on the CesiumJS framework was successfully developed to load collections from the input 3D GeoVolumes API URL and render of the geospatial contents from the loaded collections and containers. This client is <a href="http://steinbeis-3dps.eu/STT3DClient/index.html">online</a> and was used in the ISG Sprint Year 2 to test and evaluate new 3D data of the HFT Stuttgart area on the GeoVolumes server. All data on the Steinbeis GeoVolumes server mentioned in the GeoVolumes Server section above are tested and shown in <a href="#cesiumclient">Figure 101</a>.</p>
</div>
<div id="cesiumclient" class="imageblock text-center">
<div class="content">
<img src="images/Steinbeis/cesiumClient.jpg" alt="cesiumClient" width="800">
</div>
<div class="title">Figure 98. The GeoVolumes Server is visualizing different 3D building model data in the area of HFT Stuttgart.</div>
</div>
<div class="paragraph">
<p>Extending to the above web clients, the mobility route data were integrated such as synthetic eBike and air taxi routes from the Steinbeis SensorThings API server as shown in <a href="#routeCesium">Figure 102</a>.</p>
</div>
<div id="routeCesium" class="imageblock text-center">
<div class="content">
<img src="images/Steinbeis/routeCesium.jpg" alt="routeCesium" width="800">
</div>
<div class="title">Figure 99. The same GeoVolumes server visualizing different 3D building model data and SensorThings routes in the area of HFT Stuttgart.</div>
</div>
<div class="paragraph">
<p>Moreover, the ArcGIS for JS library was used to evaluate the I3S services from a GeoVolumes server. The I3S services hosted on ArcGIS Online (for example, arcgis.com) and Steinbeis' own developed I3S service (for example, <a href="https://steinbeis-3dps.eu/scenelayers/hftbldg2/layers/0" class="bare">https://steinbeis-3dps.eu/scenelayers/hftbldg2/layers/0</a>) were used.</p>
</div>
</div>
<div class="sect3">
<h4 id="_mobile_visualization"><a class="anchor" href="#_mobile_visualization"></a>14.3.2. Mobile Visualization</h4>
<div class="sect4">
<h5 id="android--unreal-engine"><a class="anchor" href="#android--unreal-engine"></a>Android + Unreal Engine</h5>
<div class="paragraph">
<p>The Mobile Augmented Reality Application was developed with the Unreal Engine and Google&#8217;s ARCore. As described above Unreal Engine has good compatibility with local glTF models and SensorThings API. The application is designed to recognize an image of a sensor as a marker. When the marker is in view, it shows the real-time measurements of the air quality sensor by requesting it from the SensorThings server. Additionally, the application searches for planes where a glTF model of the HFT Stuttgart model can be placed by the User.</p>
</div>
<div id="Android" class="imageblock text-center">
<div class="content">
<img src="images/Steinbeis/SensorThingsAndroidAR.jpeg" alt="SensorThingsAndroidAR" width="400">
</div>
<div class="title">Figure 100. Visualization of a sensor reading in an AR Android Application built using Unreal Engine.</div>
</div>
</div>
<div class="sect4">
<h5 id="ios--geovolumes"><a class="anchor" href="#ios--geovolumes"></a>iOS + GeoVolumes</h5>
<div class="paragraph">
<p>3D data in <code>USDZ</code> format can be visualized directly in iOS devices without extra tools or plugins, as example in <a href="#ios">Figure 104</a> showing the HFT Stuttgart building models on the iPhone XR via the GeoVolumes API. Steinbeis explored two ways to visualize <code>USDZ</code> 3D data in iOS devices. First, the 3D data was preprocessed by converting them to <code>USDZ</code> format, then uploaded to the Steinbeis GeoVolumes server. The data was loaded and visualized directly in iOS devices from the Steinbeis GeoVolumes server. Second, the data in <code>glTF</code> format were loaded from the server and converted on-the-fly to <code>USDZ</code> format with the 3rd party software (<a href="https://github.com/google/usd_from_gltf" class="bare">https://github.com/google/usd_from_gltf</a>). It was found that the first method is more efficient as the <code>USDZ</code> can be loaded on iOS devices directly while the client loading time of the second method is highly depended on the server performance to convert <code>glTF</code> to <code>USDZ</code>.</p>
</div>
<div id="ios" class="imageblock text-center">
<div class="content">
<img src="images/Steinbeis/ios.jpg" alt="ios" width="400">
</div>
<div class="title">Figure 101. 3D building models are visualized using an iOS device with data from a GeoVolumes server.</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Futures"><a class="anchor" href="#Futures"></a>15. Recommendations for the Future</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_introduction_5"><a class="anchor" href="#_introduction_5"></a>15.1. Introduction</h3>
<div class="paragraph">
<p>This section discusses the seven recommendations for future Sprints. These are split into general recommendations, mostly dealing with conducting the Sprint; and potential future projects driven by sponsors or liaison relationships with other organizations.</p>
</div>
<div class="paragraph">
<p>The <em>NOTE</em> mechanism is used to highlight all recommendations. All of the <em>NOTES</em> come after the discussion on that topic.</p>
</div>
</div>
<div class="sect2">
<h3 id="_general_recommendations_for_future_sprints"><a class="anchor" href="#_general_recommendations_for_future_sprints"></a>15.2. General Recommendations for Future Sprints</h3>
<div class="sect3">
<h4 id="_total_time"><a class="anchor" href="#_total_time"></a>15.2.1. Total Time</h4>
<div class="paragraph">
<p>In comparison to ISG Year 1 Sprint, the time allocated for this Sprint from intiial work on the Request for Proposals to final report was 20% (2 months) less with most of the difference being in the time to prepare the final report. Future sprints should allow at least 3 months for writing the final report and review by interested DWG/SWGs. This would be allocated 1 month for participant contributions, 1 month for OGC writing and editing, and 1 month for DWG/SWG review.</p>
</div>
<div id="recommendation-er-work" class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="title"><strong>Recommendation #1</strong></div>
<div class="paragraph">
<p>Allow at least 3 months from the conclusion of the Sprint work to write, edit, and review the final (Engineering) report.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_sprint_work_schedule"><a class="anchor" href="#_sprint_work_schedule"></a>15.2.2. Sprint Work Schedule</h4>
<div class="paragraph">
<p>ISG Year 2 Sprint happened over two weeks. The particiapnts liked the additional week (compared to Year 1); however, the two weeks were split by the member meeting. A split-week sprint might be useful; however, splitting the sprint because of a member meeting caused difficulties with the participants and OGC staff as there were multiple demands for time in the week prior to the Members Meeting. There was some appreciation for having the Sprint work weeks separated. We were unable to separately determine if having separate work weeks was good or bad because of the contained Member Meeting.</p>
</div>
<div id="recommendation-member-meeting" class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="title"><strong>Recommendation #2</strong></div>
<div class="paragraph">
<p>Do not have the Sprint work week(s) immediately before a member meeting</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_topics_of_future_work"><a class="anchor" href="#_topics_of_future_work"></a>15.3. Topics of Future Work</h3>
<div class="sect3">
<h4 id="_introduction_6"><a class="anchor" href="#_introduction_6"></a>15.3.1. Introduction</h4>
<div class="paragraph">
<p>This section discusses opportunities for follow-on work. The criteria for including potential projects here was that the work needed to be more investigative in nature and less performance improvement or engineering a solution where the characteristics of the solution are known.</p>
</div>
<div class="paragraph">
<p>In particular, the process of data conversion has been studied farily extensively in these two Sprints. The process of conversion is well understood and locations of performance gains have been identified. While improving conversion is an important process, it was felt that the parameters were sufficiently well known so it did not need to be handled in a future sprint.</p>
</div>
<div class="paragraph">
<p>The remaining sections identify protential projects that involve relationships or interactions with other organizations, OGC internal work, or work in support of a sponsor mission.</p>
</div>
</div>
<div class="sect3">
<h4 id="_ogc_internal_work"><a class="anchor" href="#_ogc_internal_work"></a>15.3.2. OGC Internal Work</h4>
<div class="paragraph">
<p>This Sprint used a large number of data sources (See <a href="#Datasets-Used-ISG-Year-2-Sprint">Appendic C: Datasets Used in ISG Year 2 Sprint</a>). Only two were initially made available and provided by OGC (San Diego and New York CDB datasets). The participants took it upon themselves to identify and collect additional datasets to test or illustrate their work. <a href="#Datasets-Used-ISG-Year-2-Sprint">Appendic C</a> lists all sources used in the Sprint with as much ancillary data as could be obtained and recorded. It would help future OGC projects of all sizes and members to create and maintain a catalog of datasets that can be used for OGC activities. It was out of scope for this Sprint to develop or suggest a structure or model for such a repository.</p>
</div>
<div id="recommendation-catalog-datasets" class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="title"><strong>Recommendation #3</strong></div>
<div class="paragraph">
<p>OGC should develop a catalog of datasets for future projects and members.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_external_organizations"><a class="anchor" href="#_external_organizations"></a>15.3.3. External Organizations</h4>
<div class="paragraph">
<p>OGC and Khronos Group already have a formal liaison. That relationship should be cultivated and expanded to increase the cross-flow of glTF requirements and features. Khronos' OpenXR and WebGPU Working Groups may also prove of productive, through their impact is not as immediate as 3D Formats (glTF). Other organizations that might have an impact on OGC work include World Wide Web Consortium (W3C), especially with their working group listed below.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Khronos Group</strong> - advancenments to glTF</p>
<div class="ulist">
<ul>
<li>
<p>Support for multiple external files to represent different appearances</p>
</li>
<li>
<p>Support for multiple meshes to represent different configurations (e.g., damage)</p>
</li>
<li>
<p>Improved support for general animation</p>
</li>
<li>
<p>Improved support for rigid animation (attachment/pivot points)</p>
</li>
<li>
<p>Point cloud support</p>
</li>
<li>
<p>Improved geometric compression (perhaps documentation would be sufficient)</p>
</li>
<li>
<p>Improved image compression (may be a matter of tool support)</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>World Wide Web Consortium</strong> - web technologies</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.w3.org/groups/wg/immersive-web">Immersive Web</a></p>
</li>
<li>
<p><a href="https://www.w3.org/groups/wg/wot">Web of Things</a></p>
</li>
<li>
<p><a href="https://www.w3.org/groups/wg/ag">Accessibility Guidelines</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div id="recommendation-Khronos" class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="title"><strong>Recommendation #4</strong></div>
<div class="paragraph">
<p>Increase communication between OGC and Khronos Group to speed up geospatial requirements for glTF and adoption of glTF in the geospatial community.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_ogc_specification_interactions"><a class="anchor" href="#_ogc_specification_interactions"></a>15.3.4. OGC Specification Interactions</h4>
<div id="FutureWork-Chart" class="imageblock text-center">
<div class="content">
<img src="images/FutureWork-chart.png" alt="FutureWork chart" width="800">
</div>
</div>
<div id="FutureWork-Legend" class="imageblock text-center">
<div class="content">
<img src="images/FutureWork-legend.png" alt="FutureWork legend" width="400">
</div>
<div class="title">Figure 102. The chart summarizes work done by some of the participants. The right-most four columns cover non-OGC applications (two for game engines and two for mobile libraries - ARCore (Android) and ARKit (iOS)). The stylizied <strong>P</strong> indicates interfaces that are known to require plugins. The yellow boxes indicate areas that have not been investigated. Most of the recommendations cover these areas.</div>
</div>
<div class="paragraph">
<p>This chart shows potential interaction between participants (OGC members and external organizations) and OGC standards and APIs. Of particular interest are the columns on the right side for non-OGC systems: Unreal Engine, Unity, and AR applicatiopns using the standard device libraries for Android and iOS. Steinbeis and SimBlocks have already made some effort to address these interfaces, but there is a lot of fertile landscape for investigation.</p>
</div>
<div class="paragraph">
<p>It is a sign of the maturity of the OGC specifications that this Sprint identified many tasks (either performed or recommended) that cross areas of interest. A task may appear in more than one section. This reflects the need of those areas to approach the problem from different directions and develop a cross-area solution.</p>
</div>
</div>
<div class="sect3">
<h4 id="_recommendations_for_cdb_integration"><a class="anchor" href="#_recommendations_for_cdb_integration"></a>15.3.5. Recommendations for CDB Integration</h4>
<div class="ulist">
<ul>
<li>
<p>Include glTF as a prototype modeling format in an upcoming version of CDB (perhaps V1.3 as a prototype feature).</p>
</li>
<li>
<p><a href="#recommendation-Khronos">Work closely with Khornos Group to add needed functionality to glTF</a></p>
</li>
</ul>
</div>
<div id="recommendation-cdb-gltf" class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="title"><strong>Recommendation #5</strong></div>
<div class="paragraph">
<p>Include glTF as an optional prototype modeling format in an upcoming release of CDB.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_recommendations_for_moving_features_and_sensors_integration"><a class="anchor" href="#_recommendations_for_moving_features_and_sensors_integration"></a>15.3.6. Recommendations for Moving Features and Sensors Integration</h4>
<div class="paragraph">
<p>In ISG Year 1 Sprint, Steinbeis showed integration from simulated moving IoT can be integrated using OGC&#8217;s SensorThings API. In Year 2, they showed that real-world IoT sensors can also be integrated. Where appropriate the OGC GeoPose standard should be used to quantify position and orientation over time.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Digital twin, both to report and control</p>
</li>
<li>
<p>Smart city, especially transportation networks</p>
</li>
<li>
<p>Work more with moving models and how to store time-based and time-sensitive information. Perhaps this is good work for a cross-over effort with GeoPose.</p>
</li>
</ul>
</div>
<div id="recommendation-track-xr" class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="title"><strong>Recommendation #6</strong></div>
<div class="paragraph">
<p>Use a Sprint to investigate integration of SensorThings and GeoPose to remotely track moving objects or people of interest displaying the results in a virtual or augmented reality environment.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_recommendations_for_seamless_building_transitions"><a class="anchor" href="#_recommendations_for_seamless_building_transitions"></a>15.3.7. Recommendations for Seamless Building Transitions</h4>
<div class="paragraph">
<p>Great architecture invites people to transition from their current space to a new one. The transition is seamless and smooth. Even if the building is not great architecture, people make the transition seamlessly and smoothly. The virtual (OGC) user needs to be able to accomplish the same seamless and smooth transition from the city/outdoor environment to an indoor one. Throughout the entire session the suite of OGC API&#8217;s need to tapped to provide an augmented experience.</p>
</div>
<div id="recommendation-indoor-outdoor" class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="title"><strong>Recommendation #7</strong></div>
<div class="paragraph">
<p>Use a Sprint to display a building environment with indoor and outdoor components. The display environment needs to include extensive use of metadata and IoT (SensorThings API) to highlight features not readable visible.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="OGC-Standards-Specifications-and-Scenarios"><a class="anchor" href="#OGC-Standards-Specifications-and-Scenarios"></a>Appendix A: OGC Standards/Specifications and Scenarios</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_ogc_specification_scenario_cross_reference"><a class="anchor" href="#_ogc_specification_scenario_cross_reference"></a>A.1. OGC Specification / Scenario Cross Reference</h3>
<table id="scenario-api-cross-reference" class="tableblock frame-all grid-all" style="width: 90%;">
<caption class="title">Table 10. OGC Specification/API Cross Reference with Scenarios</caption>
<colgroup>
<col style="width: 40%;">
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 15%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" rowspan="2"><p class="tableblock"><strong>Standard/Specification</strong></p></td>
<td class="tableblock halign-center valign-top" colspan="4"><p class="tableblock"><strong>Scenarios</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>1 A&amp;B</strong> (<em>Conversion</em>)</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>2</strong> (<em>Indoor/ Outdoor</em>)</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>3</strong> (<em>Moving Objects</em>)</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>4</strong> (<em>New Capabilities</em>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#contents">glTF V2</a></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>X</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>X</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>X</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>X</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos">Khronos glTF Extensions</a></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>X</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>X</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>X</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor">Vendor glTF Extensions</a></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>X</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>X</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>X</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://www.ogc.org/standards/cdb">CDB</a></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>X</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>X</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>X</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>X</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://portal.ogc.org/files/19-065">OpenFlight (<em>PDF download</em>)</a></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>X</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>X</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>X</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://www.ogc.org/standards/3DTiles">3D Tiles</a></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>X</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>X</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://www.ogc.org/standards/citygml">CityGML</a></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>X</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>X</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://www.ogc.org/projects/groups/geoposeswg">GeoPose Standards WG</a></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>X</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>X</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://docs.ogc.org/per/20-030.html#_draft_specification">GeoVolumes (Draft)</a></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>X</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://www.ogc.org/standards/i3s">Indexed 3D Scene Layers (I3S)</a></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>X</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://www.ogc.org/standards/indoorgml">IndoorGML</a></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>X</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://docs.ogc.org/cs/20-094/index.html">Indoor Mapping Data Format (IMDF)</a></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>X</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://www.ogc.org/standards/movingfeatures">Moving Features</a></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>X</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://www.ogc.org/projects/groups/routingswg">Routing Standards WG</a></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>X</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://www.ogc.org/standards/sensorthings">SensorThings</a></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>X</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>X</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><em>This table is intended to be used as a guide in determining which Standards and specifications can be used with the various scenarios. Particular use cases may or may not use the indicated Standard/specification.</em></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="glTF-OpenFLight-Comparison"><a class="anchor" href="#glTF-OpenFLight-Comparison"></a>Appendix B: Feature Comparison: glTF and OpenFlight</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_modeling_formats_comparison"><a class="anchor" href="#_modeling_formats_comparison"></a>B.1. Modeling Formats Comparison</h3>
<div class="paragraph">
<p>The analysis and table were presented to all potential bidders in the Call for Proposals. FlightSafety proposal included providing a more detailed and nuanced analysis. Their results are presented in <a href="#table_cdb_features">FlightSafety&#8217;s Participant report</a> section.</p>
</div>
<table id="openflight-gltf-comparison" class="tableblock frame-all grid-all" style="width: 90%;">
<caption class="title">Table 11. OpenFlight - glTF Comparison</caption>
<colgroup>
<col style="width: 15%;">
<col style="width: 35%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Feature</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">OpenFlight</th>
<th class="tableblock halign-left valign-top">glTF</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transformations</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Move, rotate, and scale the contents</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Group</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#scenes"><strong>Nodes</strong>, <strong>Scenes</strong></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Geometry</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The means to define the geometry of a model</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Mesh</strong>, <strong>Vertex</strong>, <strong>Face</strong>, <strong>Subface</strong> - Allows the specification of arbitraty planar convex polygons to define a surface. Not all of these nodes are required to create geometry, but at least two are.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#meshes"><strong>Meshes</strong></a> - This is collection of verteces and indicies that only create a triangulated surface.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Appearance</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The means to put a color, texture, or material on a geometric surface</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Mesh</strong>, <strong>Face</strong> - Limited to basic coloring and image textures</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#materials"><strong>Materials</strong></a> - Physically Based Material support including advanced PBR features.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Animation</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock"><em>The means to change geometry and/or appearance of the model over time. There are several sub-types that are listed separately.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Key Frame</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies a collection of important (key) frames.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Group</strong> - Specifies a collection of frames where each collection is displayed in total replacing the contents of the previous frame. This is like discrete key frames (no interpolation between frames).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#animations"><strong>Animations</strong></a> - This node supports all animation types in glTF. Generally this is done by linearly interpolating between the key frames for the specific type of animation desired.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Skeletal</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies how the surface moves over a collection of joints in response to the movement of those joints.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>n/a</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#skins"><strong>Skins</strong></a>, <a href="https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#animations"><strong>Animations</strong></a> - Provides data for weighted geometry vertices (skin) and moves them according the animation of the joints.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Morph</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies a starting and ending geometry, typically down to the level of individual vertices. The system linearly interpolates between the two based on some externally supplied  value.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Vertex</strong>, <strong>Morph Vertex</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#morph-targets"><strong>Morph Target</strong></a>, <a href="https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#animations"><strong>Animations</strong></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Articulation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies allowed animation within fixed limits at fixed points in the model.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Degree of Freedom</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/AGI_articulations"><strong>AGI_articulations</strong></a>, <a href="https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#animations"><strong>Animations</strong></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LOD</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Level of Detail allows a model to exist at several detail levels. The display system chooses which detail level to display based on the distance to the object and potentially other factors.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Level of Detail</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/MSFT_lod"><strong>MSFT_lod</strong></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Switch</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This feature allows zero or more models to be displayed from the collection. This is a generalized version of LOD and is frequently used for before &amp; after displays.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Switch</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_variants"><strong>KHR_materials_variants</strong></a> provides this functionality for appearance on the same geometry. Except for the LOD indicated above, there is no explicit functionality for this capability.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lighting</p></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock"><em>This feature provides lighting for the model and scene. It may or may not illuminate other objects. Subtypes are listed separately.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Glow Lights</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This feature is small glowing light sources that do not illuminate other objects.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Light Point</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This is typically done with an emmsive color or texture on geometry. There is no explicit support in the foramt.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Punctual Lights</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This includes point, spot, and directional lights that illuminate other objects.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Light Source</strong> - The reference does not provide any indication that directional lights are supported.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>n/a</em> - Support for light interaction with the model appearance is supported; however, the format does not include light definitions. See <strong><a href="#notes-comparison">Notes</a>, Lighting</strong> for addtional details.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IBL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Image Based Lighting (IBL) is used to illuminate a PB Material model. This provides light from 4pi steradians with the proper coloring for each angle. It is typically used to light an individual location in a scene.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>n/a</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_lights_image_based"><strong>EXT_lights_image_based</strong></a> (see <strong><a href="#notes-comparison">Notes</a>, Lighting</strong>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Camera/ Viewpoint</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The location where a virtual camera is put into the scene for viewing the contents. Typically several charateristics of the camera are available for definition including (but not necessarily all) lens, zoom, projection type (<strong>perspective</strong> or <strong>orthographic</strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>n/a</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#cameras"><strong>Cameras</strong></a> (see <strong><a href="#notes-comparison">Notes</a>, Viewing</strong>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Text</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The ability to add text to the scene without creating specialized geometry for it.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Text</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>n/a</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Audio</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The ability to add sound to an object (model) or environment.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Sound</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/KhronosGroup/glTF/pull/1400"><strong>MSFT_audio_emitter</strong></a> There are discussions as to how appropriate this is for glTF in the standardized version.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inclusion</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The ability to include secondary files or datasets as directly as part of the scene. These inclusions do not modify existing objects or features.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>External reference</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>n/a</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Metadata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The ability to associate data about the node (metadata) with a node. This is usually structured and provides for easy expansion.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Comment</strong> - This is unstructured plain descriptive text.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/KhronosGroup/glTF/pull/1893"><strong>KHR_xmp_json_ld</strong></a> - Public, but currently unratified extension to provide a structure to store metadata in <strong>various nodes.</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Instancing</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The ability to create multiple display objects from a single source object. The geometry, apperance, and animatation is the same between the instances.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Instancing</strong>, <strong>Replication</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_mesh_gpu_instancing"><strong>EXT_mesh_gpu_instancing</strong></a></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><em>A high-level comparison of the modeling portion of OpenFlight and glTF. The structural elements of both formats were ignored.</em></p>
</div>
<div id="notes-comparison" class="olist arabic">
<div class="title">Notes</div>
<ol class="arabic">
<li>
<p><em><strong>Lighting:</strong> glTF does support lights; however, the trend is not to have models with lights as they need to interact with something physical to be seen. The lighting is typically supplied by the system handling the display of the glTF model. Model illumination is typically done with IBL. It is possible to include IBL with a model using <a href="https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_lights_image_based">EXT_lights_image_based</a>.</em></p>
</li>
<li>
<p><em><strong>Viewing</strong> Typically cameras are contained and managed in the scene environment to account for different uses of the model. There is no reqirements that the model camera must be used.</em></p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Datasets-Used-ISG-Year-2-Sprint"><a class="anchor" href="#Datasets-Used-ISG-Year-2-Sprint"></a>Appendix C: Datasets Used in ISG Year 2 Sprint</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_introduction_7"><a class="anchor" href="#_introduction_7"></a>C.1. Introduction</h3>
<div class="paragraph">
<p>A description of the datasets used during the Sprint. This is a complete list of all datasets used during the Sprint. As much information as possible is provided about each dataset. <a href="#table_annex-datasets">Table 9</a> lists all datasets and provides summary information where available. The dataset name links to the notes for that dataset. The notes contain all of the detailed information that was available. The overview images are taken from images provided by the participants either in this Sprint or <a href="http://docs.ogc.org/per/20-087.html">ISG Year 1 Sprint</a>. As much data as possible was collected from each of the participants.</p>
</div>
</div>
<div class="sect2">
<h3 id="_datasets"><a class="anchor" href="#_datasets"></a>C.2. Datasets</h3>
<table id="table_annex-datasets" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 12. Details of data sets used by the participants during the Sprint.</caption>
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Dataset</strong></th>
<th class="tableblock halign-center valign-top"><strong>Overview</strong></th>
<th class="tableblock halign-center valign-top"><strong>Format</strong></th>
<th class="tableblock halign-center valign-top"><strong>Size</strong></th>
<th class="tableblock halign-center valign-top"><strong>Owner</strong></th>
<th class="tableblock halign-center valign-top"><strong>License</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#dataset-notes-austin">Austin</a></p></td>
<td class="tableblock halign-center valign-top"><div class="content"><div class="imageblock text-center">
<div class="content">
<img src="images/SimBlocks/SimBlocks%20-%20ISG2%20-%20Austin%20in%20Unity.jpg" alt="SimBlocks   ISG2   Austin in Unity" width="200">
</div>
</div></div></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">GeoPackage</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">951MB((4km2)</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Multiple - See Notes</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Public Domain</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#dataset-notes-berlin">Berlin</a></p></td>
<td class="tableblock halign-center valign-top"><div class="content"><div class="paragraph">
<p>-</p>
</div></div></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><em>unknown</em></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><em>unknown</em></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><em>unknown</em></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><em>unknown</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#dataset-notes-globe">Globe</a></p></td>
<td class="tableblock halign-center valign-top"><div class="content"><div class="imageblock text-center">
<div class="content">
<img src="images/Ecere/HfT-Globe.jpg" alt="HfT Globe" width="200">
</div>
</div></div></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Multiple</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Multiple</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Multiple</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Varies</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#dataset-notes-honolulu">Honolulu, HI</a></p></td>
<td class="tableblock halign-center valign-top"><div class="content"><div class="imageblock text-center">
<div class="content">
<img src="images/FlightSafety/Shuttle_behind.JPG" alt="Shuttle behind" width="200">
</div>
</div></div></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">CDB</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><em>unknown</em></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><em>unknown</em></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><em>unknown</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#dataset-notes-miami">Miami, FL</a></p></td>
<td class="tableblock halign-center valign-top"><div class="content"><div class="imageblock text-center">
<div class="content">
<img src="images/InfoDao/edition.png" alt="edition" width="200">
</div>
</div></div></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><em>unknown</em></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><em>unknown</em></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><em>unknown</em></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><em>unknown</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#dataset-notes-new-york-cdb">New York CDB</a></p></td>
<td class="tableblock halign-center valign-top"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/ecereNewYorkPassing.jpg" alt="ecereNewYorkPassing" width="200"></span></p>
</div></div></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">CDB</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><em>unknown</em></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Provide by FlightSafety</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><em>unknown</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#dataset-notes-paris">Paris</a></p></td>
<td class="tableblock halign-center valign-top"><div class="content"><div class="imageblock text-center">
<div class="content">
<img src="images/SimBlocks/SimBlocks%20-%20ISG2%20-%20Paris%20in%20Unity.jpg" alt="SimBlocks   ISG2   Paris in Unity" width="200">
</div>
</div></div></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">GeoPackage</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">4.41GB(4km2)</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Multiple - See Notes</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Mixed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#dataset-notes-san-diego-cdb">San Diego CDB</a></p></td>
<td class="tableblock halign-center valign-top"><div class="content"><div class="imageblock text-center">
<div class="content">
<img src="images/SimBlocks/SmBlocks%20-%20ISG2%20-%20San%20Diego%20CDB%20LOD3.png" alt="SmBlocks   ISG2   San Diego CDB LOD3" width="200">
</div>
</div></div></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">GeoPackage (From CDB)</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">32.9GB(GLTF-Binary) 2.27GB(OpenFlight)</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Created By CAE USA Inc</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><em>unknown</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#dataset-notes-stuttgart">Stuttgart</a></p></td>
<td class="tableblock halign-center valign-top"><div class="content"><div class="imageblock text-center">
<div class="content">
<img src="images/Ecere/HfT-osm-buildings.jpg" alt="HfT osm buildings" width="200">
</div>
</div></div></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">OpenStreetMap</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><em>unknown</em></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">OpenStreetMap contributors</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="https://wiki.osmfoundation.org/wiki/Terms_of_Use">Open Street Map License</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#dataset-notes-yemen">Yeman</a></p></td>
<td class="tableblock halign-center valign-top"><div class="content"><div class="imageblock text-center">
<div class="content">
<img src="images/Cesium/EXT_feature_metadata_5.png" alt="EXT feature metadata 5" width="200">
</div>
</div></div></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><em>unknown</em></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><em>unknown</em></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Provided by Presagis</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><em>unknown</em></p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="dataset-notes-austin"><a class="anchor" href="#dataset-notes-austin"></a>C.2.1. Austin Notes</h4>
<div class="paragraph">
<p>Please See SimBlocks section of the ER Section GeoPackage Content Creation (Austin Tx) for Unreal Engine and Unity for a complete description of all datasets and processes used for Austin TX.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Texas Natural REsource Information System</p>
<div class="ulist">
<ul>
<li>
<p>Source Imagery: <a href="https://data.tnris.org/collection/f84442b8-ac2a-4708-b5c0-9d15515f4483" class="bare">https://data.tnris.org/collection/f84442b8-ac2a-4708-b5c0-9d15515f4483</a></p>
</li>
<li>
<p>Web Map Service (WMS): <a href="https://imagery.tnris.org/server/services/StratMap/StratMap19_NCCIR_CapArea/ImageServer/WMSServer" class="bare">https://imagery.tnris.org/server/services/StratMap/StratMap19_NCCIR_CapArea/ImageServer/WMSServer</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Source Elevation: <a href="https://apps.nationalmap.gov/downloader/#/" class="bare">https://apps.nationalmap.gov/downloader/#/</a></p>
</li>
<li>
<p>Building Footprints <a href="https://austintexas.app.box.com/s/8ah8itbha7u6lis9eipypnz5ljvwta4t" class="bare">https://austintexas.app.box.com/s/8ah8itbha7u6lis9eipypnz5ljvwta4t</a></p>
</li>
<li>
<p>Tree Locations <a href="https://data.austintexas.gov/Locations-and-Maps/Tree-Inventory/wrik-xasw" class="bare">https://data.austintexas.gov/Locations-and-Maps/Tree-Inventory/wrik-xasw</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a href="#table_annex-datasets"><em>Back to table</em></a></p>
</div>
</div>
<div class="sect3">
<h4 id="dataset-notes-berlin"><a class="anchor" href="#dataset-notes-berlin"></a>C.2.2. Berlin Notes</h4>
<div class="ulist">
<ul>
<li>
<p>Used in <a href="https://www.ogc.org/pub/Testbed13/er.html">OGC Testbed 13</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a href="#table_annex-datasets"><em>Back to table</em></a></p>
</div>
</div>
<div class="sect3">
<h4 id="dataset-notes-honolulu"><a class="anchor" href="#dataset-notes-honolulu"></a>C.2.3. Honolulu Notes</h4>
<div class="paragraph">
<p>No notes are available.</p>
</div>
<div class="paragraph">
<p><a href="#table_annex-datasets"><em>Back to table</em></a></p>
</div>
</div>
<div class="sect3">
<h4 id="dataset-notes-globe"><a class="anchor" href="#dataset-notes-globe"></a>C.2.4. Global Datasets</h4>
<div class="ulist">
<ul>
<li>
<p>Viewfinder Panoramas: worldwide elevation data from Jonathan de Ferranti: <a href="http://www.viewfinderpanoramas.org/Coverage%20map%20viewfinderpanoramas_org3.htm" class="bare">http://www.viewfinderpanoramas.org/Coverage%20map%20viewfinderpanoramas_org3.htm</a></p>
</li>
<li>
<p>NASA Visible Earth Blue Marble: <a href="https://visibleearth.nasa.gov/collection/1484/blue-marble" class="bare">https://visibleearth.nasa.gov/collection/1484/blue-marble</a></p>
</li>
<li>
<p>*ESA Gaia’s Sky in colour <a href="https://sci.esa.int/web/gaia/-/60196-gaia-s-sky-in-colour-equirectangular-projection" class="bare">https://sci.esa.int/web/gaia/-/60196-gaia-s-sky-in-colour-equirectangular-projection</a> (Gaia Data Processing and Analysis Consortium (DPAC); A. Moitinho / A. F. Silva / M. Barros / C. Barata, University of Lisbon, Portugal; H. Savietto, Fork Research, Portugal.) CC BY SA 3.0.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a href="#table_annex-datasets"><em>Back to table</em></a></p>
</div>
</div>
<div class="sect3">
<h4 id="dataset-notes-miami"><a class="anchor" href="#dataset-notes-miami"></a>C.2.5. Miami Notes</h4>
<div class="paragraph">
<p>No notes are available.</p>
</div>
<div class="paragraph">
<p><a href="#table_annex-datasets"><em>Back to table</em></a></p>
</div>
</div>
<div class="sect3">
<h4 id="dataset-notes-new-york-cdb"><a class="anchor" href="#dataset-notes-new-york-cdb"></a>C.2.6. New York CDB Notes</h4>
<div class="paragraph">
<p>No notes are available.</p>
</div>
<div class="paragraph">
<p><a href="#table_annex-datasets"><em>Back to table</em></a></p>
</div>
</div>
<div class="sect3">
<h4 id="dataset-notes-paris"><a class="anchor" href="#dataset-notes-paris"></a>C.2.7. Paris Notes</h4>
<div class="paragraph">
<p>Imagery: Bing Virtual Earth (for Paris resolution appears to be ~0.5 Meter/Pixel</p>
</div>
<div class="paragraph">
<p>Elevation:  Shuttle Radar Topography Mission (SRTM) (Sample rate ~30m)</p>
</div>
<div class="paragraph">
<p>Paris GIS Information:</p>
</div>
<div class="paragraph">
<p>Basic Site Home — Paris Data (<a href="https://opendata.paris.fr/pages/home/" class="bare">https://opendata.paris.fr/pages/home/</a>)</p>
</div>
<div class="paragraph">
<p>Note: The site is in French. To get descriptive information on the data layers from this site you will need to download the PDF files and load them in google docs and have google docs do the translation. For the site itself use chrome and let google translate it.</p>
</div>
<div class="paragraph">
<p>Building Footprints Volumes bâtis — Paris Data (<a href="https://opendata.paris.fr/explore/dataset/volumesbatisparis/information/" class="bare">https://opendata.paris.fr/explore/dataset/volumesbatisparis/information/</a>)</p>
</div>
<div class="paragraph">
<p>Notes: Building Hight Information is described by number of floors in building. In general assume 4.3 M per floor but in truth this is quite variable.</p>
</div>
<div class="paragraph">
<p>Trees Les arbres — Paris Data (<a href="https://opendata.paris.fr/explore/dataset/les-arbres/information/?disjunctive.typeemplacement&amp;disjunctive.arrondissement&amp;disjunctive.libellefrancais&amp;disjunctive.genre&amp;disjunctive.espece&amp;disjunctive.varieteoucultivar&amp;disjunctive.stadedeveloppement&amp;disjunctive.remarquable" class="bare">https://opendata.paris.fr/explore/dataset/les-arbres/information/?disjunctive.typeemplacement&amp;disjunctive.arrondissement&amp;disjunctive.libellefrancais&amp;disjunctive.genre&amp;disjunctive.espece&amp;disjunctive.varieteoucultivar&amp;disjunctive.stadedeveloppement&amp;disjunctive.remarquable</a>)</p>
</div>
<div class="paragraph">
<p>This dataset contains an inventory of trees in the city of Paris containing species of tree and height in meters.</p>
</div>
<div class="paragraph">
<p>Note: There are some spikes in the tree height information. Not all trees are in the inventory</p>
</div>
<div class="paragraph">
<p>Note: Both Building Heights and Trees were downloaded as GeoJSON.</p>
</div>
<div class="paragraph">
<p>Note on other layers available on basic site. There are many layers available that we may use in the future for enhancements such as street furniture, traffic signals and possibly additional building information that will allow automated selection of building templates.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Building Footprints <a href="https://opendata.paris.fr/explore/dataset/volumesbatisparis/information" class="bare">https://opendata.paris.fr/explore/dataset/volumesbatisparis/information</a></p>
</li>
<li>
<p>Tree Locations <a href="https://opendata.paris.fr/explore/dataset/les-arbres/information/?disjunctive.typeemplacement&amp;disjunctive.arrondissement&amp;disjunctive.libellefrancais&amp;disjunctive.genre&amp;disjunctive.espece&amp;disjunctive.varieteoucultivar&amp;disjunctive.stadedeveloppement&amp;disjunctive.remarquable" class="bare">https://opendata.paris.fr/explore/dataset/les-arbres/information/?disjunctive.typeemplacement&amp;disjunctive.arrondissement&amp;disjunctive.libellefrancais&amp;disjunctive.genre&amp;disjunctive.espece&amp;disjunctive.varieteoucultivar&amp;disjunctive.stadedeveloppement&amp;disjunctive.remarquable</a></p>
</li>
<li>
<p>Elevation (SRTM) <a href="https://earthexplorer.usgs.gov/" class="bare">https://earthexplorer.usgs.gov/</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a href="#table_annex-datasets"><em>Back to table</em></a></p>
</div>
</div>
<div class="sect3">
<h4 id="dataset-notes-san-diego-cdb"><a class="anchor" href="#dataset-notes-san-diego-cdb"></a>C.2.8. San Diego CDB Notes</h4>
<div class="ulist">
<ul>
<li>
<p>Source CDB <a href="https://gsa-temp-public.s3.us-east-1.amazonaws.com/CDB_san_diego_v4.1.zip" class="bare">https://gsa-temp-public.s3.us-east-1.amazonaws.com/CDB_san_diego_v4.1.zip</a></p>
</li>
<li>
<p>GTLF GeoPackage <em>url</em></p>
</li>
<li>
<p>OpenFlight GeoPackage <em>url</em></p>
</li>
<li>
<p>GeoPackage Files <em>url</em></p>
</li>
<li>
<p>Other versions of the San Diego CDB</p>
<div class="ulist">
<ul>
<li>
<p>the original one provided by CAE (specified above)</p>
</li>
<li>
<p>the GeoPackage(s) created by SimBlocks based on earlier CDB Interoperability Experiments</p>
</li>
<li>
<p>the CDB X GeoPackage datastore prototype that we produced for the CDB X Tech Sprint</p>
</li>
<li>
<p>Additional information at <a href="https://github.com/sofwerx/cdb2-eng-report/blob/master/11-tiling-coverages.adoc" class="bare">https://github.com/sofwerx/cdb2-eng-report/blob/master/11-tiling-coverages.adoc</a> or <a href="https://portal.ogc.org/index.php?m=projects&amp;a=view&amp;project_id=466&amp;tab=2&amp;artifact_id=95315" class="bare">https://portal.ogc.org/index.php?m=projects&amp;a=view&amp;project_id=466&amp;tab=2&amp;artifact_id=95315</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="dataset-notes-stuttgard"><a class="anchor" href="#dataset-notes-stuttgard"></a>C.2.9. Stuttgart Notes</h4>
<div class="ulist">
<ul>
<li>
<p>Street data: (c) OpenStreetMap contributors. <a href="https://openstreetmap.org/" class="bare">https://openstreetmap.org/</a></p>
</li>
<li>
<p>Ecere sourced the data from a GeoFabrik ( <a href="https://download.geofabrik.de/" class="bare">https://download.geofabrik.de/</a> ) OSM PBF extract of Baden-Württemberg ( <a href="https://download.geofabrik.de/europe/germany/baden-wuerttemberg-latest.osm.pbf" class="bare">https://download.geofabrik.de/europe/germany/baden-wuerttemberg-latest.osm.pbf</a> ), and converted this to our GNOSIS Map Tiles and our GNOSIS Data Store.</p>
</li>
<li>
<p>Detalied HfT building interiors created by HfT students in Sketchup.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a href="#table_annex-datasets"><em>Back to table</em></a></p>
</div>
</div>
<div class="sect3">
<h4 id="dataset-notes-yemen"><a class="anchor" href="#dataset-notes-yemen"></a>C.2.10. Yemen Notes</h4>
<div class="paragraph">
<p>No notes are available.</p>
</div>
<div class="paragraph">
<p><a href="#table_annex-datasets"><em>Back to table</em></a></p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Display-Applications"><a class="anchor" href="#Display-Applications"></a>Appendix D: Display Applications</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_introduction_8"><a class="anchor" href="#_introduction_8"></a>D.1. Introduction</h3>
<div class="paragraph">
<p>A description of the display applications. This section needs to highlight the use of Unreal/Unity and other display applications. Use of an application by a particiapnt developed by another one should also be highlighted.</p>
</div>
</div>
<div class="sect2">
<h3 id="_client_display_applications"><a class="anchor" href="#_client_display_applications"></a>D.2. Client Display Applications</h3>
<table id="table_annex-display-applications" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 13. This table lists the applications used by the participants. It&#8217;s intent is to highlight game engine, mobile application libraries, and cross-use of display tools.</caption>
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2858%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Particiapnt</strong></th>
<th class="tableblock halign-center valign-top"><strong>Unity</strong></th>
<th class="tableblock halign-center valign-top"><strong>Unreal Engine</strong></th>
<th class="tableblock halign-center valign-top"><strong>Android / ARKit</strong></th>
<th class="tableblock halign-center valign-top"><strong>iOS / ARCore</strong></th>
<th class="tableblock halign-center valign-top"><strong>CesiumJS</strong></th>
<th class="tableblock halign-center valign-top"><strong>GNOSIS</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Cesium</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ecere</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>X</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>X</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>FlightSafety</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>X</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>InfoDao</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>X</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>SimBlocks</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>X</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>X</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Steinbeis</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>X</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>X</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>X</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>X</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>X</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="RevisionHistory"><a class="anchor" href="#RevisionHistory"></a>Appendix E: Revision History</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all" style="width: 90%;">
<caption class="title">Table 14. The revision history of this document starting with the initial release outside of the creating organization (ISG Year 2 Sprint)</caption>
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 8.3333%;">
<col style="width: 8.3333%;">
<col style="width: 16.6666%;">
<col style="width: 50.0002%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Date</th>
<th class="tableblock halign-left valign-top">Editor</th>
<th class="tableblock halign-left valign-top">Release</th>
<th class="tableblock halign-left valign-top">Primary clauses modified</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">30 August 2021</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">L. Daly</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.0.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Final Draft version released to OGC for review</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="Bibliography"><a class="anchor" href="#Bibliography"></a>Appendix F: Bibliography</h2>
<div class="sectionbody">

</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2021-08-25 18:30:19 -0700
</div>
</div>
</body>
</html>